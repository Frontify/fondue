import{j as m}from"./jsx-runtime-BYYWji4R.js";import{r as c}from"./index-ClcD9ViR.js";import{c as Y}from"./index-BdQq_4o_.js";import{c as C}from"./index-DulyF36n.js";import{u as E}from"./index-Q_VQqEV0.js";import{c as de}from"./index-CWz5EflU.js";import{u as ue,a as me}from"./index-BZQsQlpo.js";import{u as fe}from"./index-CZKF78Oq.js";import{u as pe}from"./index-sY83p_TZ.js";import{P as I}from"./index-CMmqAaFT.js";import{c as he}from"./index-DVmTVPLY.js";var $=["PageUp","PageDown"],X=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],G={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},j="Slider",[H,ge,Se]=he(j),[W,Je]=de(j,[Se]),[be,K]=W(j),J=c.forwardRef((e,t)=>{const{name:r,min:n=0,max:i=100,step:l=1,orientation:o="horizontal",disabled:s=!1,minStepsBetweenThumbs:d=0,defaultValue:h=[n],value:f,onValueChange:a=()=>{},onValueCommit:u=()=>{},inverted:v=!1,form:y,...b}=e,g=c.useRef(new Set),p=c.useRef(0),w=o==="horizontal"?ve:we,[S=[],M]=ue({prop:f,defaultProp:h,onChange:x=>{var T;(T=[...g.current][p.current])==null||T.focus(),a(x)}}),k=c.useRef(S);function N(x){const R=Pe(S,x);A(x,R)}function le(x){A(x,p.current)}function ce(){const x=k.current[p.current];S[p.current]!==x&&u(S)}function A(x,R,{commit:T}={commit:!1}){const O=Ee(l),z=je(Math.round((x-n)/l)*l+n,O),V=Y(z,[n,i]);M((D=[])=>{const _=Re(D,V,R);if(Ce(_,d*l)){p.current=_.indexOf(V);const U=String(_)!==String(D);return U&&T&&u(_),U?_:D}else return D})}return m.jsx(be,{scope:e.__scopeSlider,name:r,disabled:s,min:n,max:i,valueIndexToChangeRef:p,thumbs:g.current,values:S,orientation:o,form:y,children:m.jsx(H.Provider,{scope:e.__scopeSlider,children:m.jsx(H.Slot,{scope:e.__scopeSlider,children:m.jsx(w,{"aria-disabled":s,"data-disabled":s?"":void 0,...b,ref:t,onPointerDown:C(b.onPointerDown,()=>{s||(k.current=S)}),min:n,max:i,inverted:v,onSlideStart:s?void 0:N,onSlideMove:s?void 0:le,onSlideEnd:s?void 0:ce,onHomeKeyDown:()=>!s&&A(n,0,{commit:!0}),onEndKeyDown:()=>!s&&A(i,S.length-1,{commit:!0}),onStepKeyDown:({event:x,direction:R})=>{if(!s){const z=$.includes(x.key)||x.shiftKey&&X.includes(x.key)?10:1,V=p.current,D=S[V],_=l*z*R;A(D+_,V,{commit:!0})}}})})})})});J.displayName=j;var[Q,Z]=W(j,{startEdge:"left",endEdge:"right",size:"width",direction:1}),ve=c.forwardRef((e,t)=>{const{min:r,max:n,dir:i,inverted:l,onSlideStart:o,onSlideMove:s,onSlideEnd:d,onStepKeyDown:h,...f}=e,[a,u]=c.useState(null),v=E(t,w=>u(w)),y=c.useRef(void 0),b=fe(i),g=b==="ltr",p=g&&!l||!g&&l;function P(w){const S=y.current||a.getBoundingClientRect(),M=[0,S.width],N=L(M,p?[r,n]:[n,r]);return y.current=S,N(w-S.left)}return m.jsx(Q,{scope:e.__scopeSlider,startEdge:p?"left":"right",endEdge:p?"right":"left",direction:p?1:-1,size:"width",children:m.jsx(ee,{dir:b,"data-orientation":"horizontal",...f,ref:v,style:{...f.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:w=>{const S=P(w.clientX);o==null||o(S)},onSlideMove:w=>{const S=P(w.clientX);s==null||s(S)},onSlideEnd:()=>{y.current=void 0,d==null||d()},onStepKeyDown:w=>{const M=G[p?"from-left":"from-right"].includes(w.key);h==null||h({event:w,direction:M?-1:1})}})})}),we=c.forwardRef((e,t)=>{const{min:r,max:n,inverted:i,onSlideStart:l,onSlideMove:o,onSlideEnd:s,onStepKeyDown:d,...h}=e,f=c.useRef(null),a=E(t,f),u=c.useRef(void 0),v=!i;function y(b){const g=u.current||f.current.getBoundingClientRect(),p=[0,g.height],w=L(p,v?[n,r]:[r,n]);return u.current=g,w(b-g.top)}return m.jsx(Q,{scope:e.__scopeSlider,startEdge:v?"bottom":"top",endEdge:v?"top":"bottom",size:"height",direction:v?1:-1,children:m.jsx(ee,{"data-orientation":"vertical",...h,ref:a,style:{...h.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:b=>{const g=y(b.clientY);l==null||l(g)},onSlideMove:b=>{const g=y(b.clientY);o==null||o(g)},onSlideEnd:()=>{u.current=void 0,s==null||s()},onStepKeyDown:b=>{const p=G[v?"from-bottom":"from-top"].includes(b.key);d==null||d({event:b,direction:p?-1:1})}})})}),ee=c.forwardRef((e,t)=>{const{__scopeSlider:r,onSlideStart:n,onSlideMove:i,onSlideEnd:l,onHomeKeyDown:o,onEndKeyDown:s,onStepKeyDown:d,...h}=e,f=K(j,r);return m.jsx(I.span,{...h,ref:t,onKeyDown:C(e.onKeyDown,a=>{a.key==="Home"?(o(a),a.preventDefault()):a.key==="End"?(s(a),a.preventDefault()):$.concat(X).includes(a.key)&&(d(a),a.preventDefault())}),onPointerDown:C(e.onPointerDown,a=>{const u=a.target;u.setPointerCapture(a.pointerId),a.preventDefault(),f.thumbs.has(u)?u.focus():n(a)}),onPointerMove:C(e.onPointerMove,a=>{a.target.hasPointerCapture(a.pointerId)&&i(a)}),onPointerUp:C(e.onPointerUp,a=>{const u=a.target;u.hasPointerCapture(a.pointerId)&&(u.releasePointerCapture(a.pointerId),l(a))})})}),te="SliderTrack",ne=c.forwardRef((e,t)=>{const{__scopeSlider:r,...n}=e,i=K(te,r);return m.jsx(I.span,{"data-disabled":i.disabled?"":void 0,"data-orientation":i.orientation,...n,ref:t})});ne.displayName=te;var q="SliderRange",re=c.forwardRef((e,t)=>{const{__scopeSlider:r,...n}=e,i=K(q,r),l=Z(q,r),o=c.useRef(null),s=E(t,o),d=i.values.length,h=i.values.map(u=>ie(u,i.min,i.max)),f=d>1?Math.min(...h):0,a=100-Math.max(...h);return m.jsx(I.span,{"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,...n,ref:s,style:{...e.style,[l.startEdge]:f+"%",[l.endEdge]:a+"%"}})});re.displayName=q;var F="SliderThumb",oe=c.forwardRef((e,t)=>{const r=ge(e.__scopeSlider),[n,i]=c.useState(null),l=E(t,s=>i(s)),o=c.useMemo(()=>n?r().findIndex(s=>s.ref.current===n):-1,[r,n]);return m.jsx(xe,{...e,ref:l,index:o})}),xe=c.forwardRef((e,t)=>{const{__scopeSlider:r,index:n,name:i,...l}=e,o=K(F,r),s=Z(F,r),[d,h]=c.useState(null),f=E(t,P=>h(P)),a=d?o.form||!!d.closest("form"):!0,u=me(d),v=o.values[n],y=v===void 0?0:ie(v,o.min,o.max),b=_e(n,o.values.length),g=u==null?void 0:u[s.size],p=g?Te(g,y,s.direction):0;return c.useEffect(()=>{if(d)return o.thumbs.add(d),()=>{o.thumbs.delete(d)}},[d,o.thumbs]),m.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[s.startEdge]:`calc(${y}% + ${p}px)`},children:[m.jsx(H.ItemSlot,{scope:e.__scopeSlider,children:m.jsx(I.span,{role:"slider","aria-label":e["aria-label"]||b,"aria-valuemin":o.min,"aria-valuenow":v,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...l,ref:f,style:v===void 0?{display:"none"}:e.style,onFocus:C(e.onFocus,()=>{o.valueIndexToChangeRef.current=n})})}),a&&m.jsx(se,{name:i??(o.name?o.name+(o.values.length>1?"[]":""):void 0),form:o.form,value:v},n)]})});oe.displayName=F;var ye="RadioBubbleInput",se=c.forwardRef(({__scopeSlider:e,value:t,...r},n)=>{const i=c.useRef(null),l=E(i,n),o=pe(t);return c.useEffect(()=>{const s=i.current;if(!s)return;const d=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(d,"value").set;if(o!==t&&f){const a=new Event("input",{bubbles:!0});f.call(s,t),s.dispatchEvent(a)}},[o,t]),m.jsx(I.input,{style:{display:"none"},...r,ref:l,defaultValue:t})});se.displayName=ye;function Re(e=[],t,r){const n=[...e];return n[r]=t,n.sort((i,l)=>i-l)}function ie(e,t,r){const l=100/(r-t)*(e-t);return Y(l,[0,100])}function _e(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function Pe(e,t){if(e.length===1)return 0;const r=e.map(i=>Math.abs(i-t)),n=Math.min(...r);return r.indexOf(n)}function Te(e,t,r){const n=e/2,l=L([0,50],[0,n]);return(n-l(t)*r)*r}function De(e){return e.slice(0,-1).map((t,r)=>e[r+1]-t)}function Ce(e,t){if(t>0){const r=De(e);return Math.min(...r)>=t}return!0}function L(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function Ee(e){return(String(e).split(".")[1]||"").length}function je(e,t){const r=Math.pow(10,t);return Math.round(e*r)/r}var Me=J,Ae=ne,Ve=re,Ie=oe;const Be="_root_fs3zj_5",Ke="_thumb_fs3zj_17",ke="_track_fs3zj_21",Ne="_range_fs3zj_28",B={root:Be,thumb:Ke,track:ke,range:Ne},ze=({value:e,defaultValue:t=[0],onChange:r,onCommit:n,"data-test-id":i="fondue-slider",...l},o)=>{const s=c.useRef(null);return m.jsxs(Me,{ref:o,className:B.root,value:e,defaultValue:t,onValueChange:r,onValueCommit:n,"data-test-id":i,...l,children:[m.jsx(Ae,{onPointerDown:()=>{s.current&&(s.current.dataset.showFocusRing="false")},className:B.track,children:m.jsx(Ve,{className:B.range})}),(e||t).map((d,h)=>m.jsx(Ie,{ref:s,className:B.thumb,onPointerDown:f=>{f.currentTarget.dataset.showFocusRing="false"},onBlur:f=>{f.currentTarget.dataset.showFocusRing="true"}},h))]})},ae=c.forwardRef(ze);ae.displayName="Slider";ae.__docgenInfo={description:"",methods:[],displayName:"Slider",props:{id:{required:!1,tsType:{name:"string"},description:""},name:{required:!1,tsType:{name:"string"},description:""},defaultValue:{required:!1,tsType:{name:"Array",elements:[{name:"number"}],raw:"number[]"},description:`The default value of the slider
Used for uncontrolled components
@default [0]`,defaultValue:{value:"[0]",computed:!1}},value:{required:!1,tsType:{name:"Array",elements:[{name:"number"}],raw:"number[]"},description:`The controlled value of the slider
@default [0]`},min:{required:!1,tsType:{name:"number"},description:`Minimum value of the slider
@default 0`},max:{required:!1,tsType:{name:"number"},description:`Maximum value of the slider
@default 100`},step:{required:!1,tsType:{name:"number"},description:`The granularity with which the slider can step through values
@default 1`},minStepsBetweenThumbs:{required:!1,tsType:{name:"number"},description:`The minimum steps between thumbs in a range slider
@default 0`},disabled:{required:!1,tsType:{name:"boolean"},description:`Disable the slider
@default false`},onChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(value: number[]) => void",signature:{arguments:[{type:{name:"Array",elements:[{name:"number"}],raw:"number[]"},name:"value"}],return:{name:"void"}}},description:""},onCommit:{required:!1,tsType:{name:"signature",type:"function",raw:"(value: number[]) => void",signature:{arguments:[{type:{name:"Array",elements:[{name:"number"}],raw:"number[]"},name:"value"}],return:{name:"void"}}},description:""},"data-test-id":{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"'fondue-slider'",computed:!1}}}};export{ae as S};
