import{j as o}from"./jsx-runtime-BYYWji4R.js";import{r as c}from"./index-ClcD9ViR.js";import{$ as N,a as Y,b as L,c as J}from"./useFocusable-NpJIjJzn.js";import{$ as K,a as Q,b as Z,c as T}from"./useFormValidationState-CY2oi0R5.js";import{$ as ee}from"./useFocusRing-CqhiwHAH.js";import{$ as te}from"./useControlledState-CbyHarIm.js";import{I as ae}from"./InputLabel-BBoeJyMH.js";import{I as se}from"./IconCheckMark-DDrIoLdu.js";import{I as re}from"./IconMinus-DVuqM0Be.js";import{I as V}from"./IconSize-BcCrF_mi.js";import{u as ie}from"./useMemoizedId-DU5NJZZj.js";import{F as le}from"./focusStyle-BtNTXUM4.js";import{m as $}from"./merge-DI-veSMP.js";import{u as ne}from"./Button-BkcxChke.js";function oe(e,s,r){let{isDisabled:a=!1,isReadOnly:n=!1,value:l,name:u,children:k,"aria-label":f,"aria-labelledby":m,validationState:h="valid",isInvalid:x}=e,p=i=>{i.stopPropagation(),s.setSelected(i.target.checked)},b=k!=null,d=f!=null||m!=null;!b&&!d&&console.warn("If you do not provide children, you must specify an aria-label for accessibility");let{pressProps:g,isPressed:w}=N({isDisabled:a}),{pressProps:t,isPressed:S}=N({onPress(){var i;s.toggle(),(i=r.current)===null||i===void 0||i.focus()},isDisabled:a||n}),{focusableProps:E}=Y(e,r),M=L(g,E),O=J(e,{labelable:!0});return K(r,s.isSelected,s.setSelected),{labelProps:L(t,{onClick:i=>i.preventDefault()}),inputProps:L(O,{"aria-invalid":x||h==="invalid"||void 0,"aria-errormessage":e["aria-errormessage"],"aria-controls":e["aria-controls"],"aria-readonly":n||void 0,onChange:p,disabled:a,...l==null?{}:{value:l},name:u,type:"checkbox",...M}),isSelected:s.isSelected,isPressed:w||S,isDisabled:a,isReadOnly:n,isInvalid:x||h==="invalid"}}function de(e,s,r){let a=Q({...e,value:s.isSelected}),{isInvalid:n,validationErrors:l,validationDetails:u}=a.displayValidation,{labelProps:k,inputProps:f,isSelected:m,isPressed:h,isDisabled:x,isReadOnly:p}=oe({...e,isInvalid:n},s,r);Z(e,a,r);let{isIndeterminate:b,isRequired:d,validationBehavior:g="aria"}=e;c.useEffect(()=>{r.current&&(r.current.indeterminate=!!b)});let{pressProps:w}=N({isDisabled:x||p,onPress(){let{[T]:t}=e,{commitValidation:S}=t||a;S()}});return{labelProps:L(k,w),inputProps:{...f,checked:m,"aria-required":d&&g==="aria"||void 0,required:d&&g==="native"},isSelected:m,isPressed:h,isDisabled:x,isReadOnly:p,isInvalid:n,validationErrors:l,validationDetails:u}}function ce(e={}){let{isReadOnly:s}=e,[r,a]=te(e.isSelected,e.defaultSelected||!1,e.onChange);function n(u){s||a(u)}function l(){s||a(!r)}return{isSelected:r,setSelected:n,toggle:l}}var ue=(e=>(e.Checked="Checked",e.Unchecked="Unchecked",e.Mixed="Mixed",e))(ue||{}),fe=(e=>(e.Default="Default",e.Weak="Weak",e.Strong="Strong",e))(fe||{}),be=(e=>(e.Default="Default",e.Large="Large",e.XLarge="XLarge",e))(be||{});const we=e=>e==="Checked"||e==="Mixed",q="tw-bg-box-selected-strong tw-text-box-selected-strong-inverse hover:tw-bg-box-selected-strong-hover",me={Weak:"tw-bg-box-neutral-strong tw-text-box-neutral-strong-inverse hover:tw-bg-box-neutral-strong-hover",Default:q,Strong:q},xe={Default:"tw-h-4 tw-w-4",Large:"tw-h-5 tw-w-5",XLarge:"tw-h-8 tw-w-8"},ve=({id:e,emphasis:s="Default",size:r="Default",disabled:a,required:n,label:l,hideLabel:u,tooltip:k,helperText:f,"aria-label":m,value:h,groupInputProps:x,onChange:p,state:b="Unchecked","data-test-id":d="checkbox"},g)=>{const w=ie(e),t=ne(g),{focusProps:S}=ee(),E=ce({onChange:a?void 0:p,isSelected:b==="Checked"}),[M,O]=c.useState(),i=c.useRef(null),P=c.useRef(null),[U,W]=c.useState(!1),[_,X]=c.useState(!1),F=v=>{v.key==="Tab"&&O(!0)},z=()=>{O(!1)};c.useEffect(()=>{var v,y;return(v=t==null?void 0:t.current)==null||v.addEventListener("keyup",F),(y=t==null?void 0:t.current)==null||y.addEventListener("blur",z),()=>{var D,I;(D=t==null?void 0:t.current)==null||D.removeEventListener("keyup",F),(I=t==null?void 0:t.current)==null||I.removeEventListener("blur",z)}},[]);const{inputProps:A}=de({isDisabled:a,isRequired:n,isIndeterminate:b==="Mixed","aria-label":m,value:h},E,t),B={Checked:o.jsx(se,{size:r==="XLarge"?V.Size24:V.Size16}),Mixed:o.jsx(re,{}),Unchecked:null},j=we(b),G=$(["tw-bg-box-disabled tw-pointer-events-none tw-text-box-disabled-inverse tw-border-line-strong",j&&"tw-text-box-disabled-inverse tw-border-line-strong"]),H=j?me[s]:$(["tw-bg-base hover:tw-bg-box-neutral",s==="Strong"?"tw-border-2 tw-border-box-selected-strong":"tw-border tw-border-line-xx-strong"]),C=c.useCallback(()=>{var v,y,D,I;i.current&&W(((v=i.current)==null?void 0:v.scrollWidth)>((y=i.current)==null?void 0:y.clientWidth)),P.current&&X(((D=P.current)==null?void 0:D.scrollWidth)>((I=P.current)==null?void 0:I.clientWidth))},[i,P]);return c.useEffect(()=>{if(!(!l&&!f||u))return C(),window.removeEventListener("resize",C),window.addEventListener("resize",C),()=>{window.removeEventListener("resize",C)}},[l,f,u,C]),o.jsx("div",{className:"tw-gap-1 tw-transition-colors tw-w-full","data-test-id":d,children:o.jsx("div",{className:$(["tw-inline-flex tw-flex-row tw-rounded tw-w-full",M?le:""]),children:o.jsx(ae,{id:`${w}-label`,disabled:a,clickable:!0,htmlFor:w,tooltip:k,required:n,bold:j,children:o.jsxs("span",{className:"tw-flex tw-items-center tw-whitespace-nowrap",children:[o.jsxs("span",{className:"tw-inline-flex",children:[o.jsx("input",{...L(x||A,S),id:w,ref:t,className:"tw-sr-only","data-test-id":`${d}-input`,role:"checkbox","aria-checked":b==="Checked",required:n,"aria-label":m,"aria-labelledby":l?`${w}-label`:void 0}),o.jsx("span",{"data-test-id":`${d}-icon-box`,"aria-hidden":"true",className:$(["tw-leading-3 tw-relative tw-flex tw-items-center tw-justify-center tw-rounded tw-shrink-0 tw-flex-none",xe[r],a?G:H]),children:B[b]})]}),!u&&o.jsxs("span",{className:"tw-inline-flex tw-flex-col tw-min-w-0 tw-ml-1.5",children:[l&&o.jsx("span",{ref:i,"data-test-id":`${d}-label`,className:$(["tw-text-ellipsis tw-overflow-hidden","tw-text-xs tw-select-none hover:tw-cursor-pointer hover:tw-text-black dark:hover:tw-text-white group-hover:tw-text-black dark:group-hover:tw-text-white",j&&"tw-font-medium"]),title:U?l:void 0,children:l}),f&&o.jsx("span",{ref:P,"data-test-id":`${d}-helper-text`,className:$(["tw-text-ellipsis tw-overflow-hidden","tw-font-sans tw-text-xs tw-font-normal",a?"text-disabled":"tw-text-text-weak"]),title:_?f:void 0,children:f})]})]})})})})},R=c.forwardRef(ve);R.displayName="FondueCheckbox";R.__docgenInfo={description:"@deprecated Use `Checkbox` from `@frontify/fondue/components` instead. Also check {@link https://github.com/Frontify/fondue/blob/main/packages/components/MIGRATING.md#checkbox the migration guide}.",methods:[],displayName:"FondueCheckbox",props:{emphasis:{defaultValue:{value:"CheckboxEmphasis.Default",computed:!0},required:!1},size:{defaultValue:{value:"CheckboxSize.Default",computed:!0},required:!1},state:{defaultValue:{value:"CheckboxState.Unchecked",computed:!0},required:!1},"data-test-id":{defaultValue:{value:"'checkbox'",computed:!1},required:!1}}};export{ce as $,ue as C,be as a,fe as b,R as c,de as d};
