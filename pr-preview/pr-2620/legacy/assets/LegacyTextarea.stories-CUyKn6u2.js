import{r as l,a as I,j as h}from"./iframe-BJo4Sq2k.js";import{a as X,V as g}from"./validation-DNUG94y-.js";import{x as Z}from"./fondue-icons372-D1zsfppt.js";import{$ as J}from"./useFocusRing-Cox2Fil0.js";import{L as Q,a as ee}from"./LoadingCircle-B_3OTFOI.js";import{u as te}from"./useMemoizedId-BFvHFl_W.js";import{F as re}from"./focusStyle-hm6eSJHh.js";import{m as W}from"./merge-DI-veSMP.js";import"./preload-helper--bP22b61.js";import"./useLayoutEffect-D6GQL4zP.js";function M(){return M=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var e in r)({}).hasOwnProperty.call(r,e)&&(n[e]=r[e])}return n},M.apply(null,arguments)}function ne(n,t){if(n==null)return{};var r={};for(var e in n)if({}.hasOwnProperty.call(n,e)){if(t.indexOf(e)!==-1)continue;r[e]=n[e]}return r}var ae=l.useLayoutEffect,ie=function(t){var r=I.useRef(t);return ae(function(){r.current=t}),r},j=function(t,r){if(typeof t=="function"){t(r);return}t.current=r},oe=function(t,r){var e=I.useRef();return I.useCallback(function(a){t.current=a,e.current&&j(e.current,null),e.current=r,r&&j(r,a)},[r])},O={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0",display:"block"},se=function(t){Object.keys(O).forEach(function(r){t.style.setProperty(r,O[r],"important")})},N=se,o=null,_=function(t,r){var e=t.scrollHeight;return r.sizingStyle.boxSizing==="border-box"?e+r.borderSize:e-r.paddingSize};function ue(n,t,r,e){r===void 0&&(r=1),e===void 0&&(e=1/0),o||(o=document.createElement("textarea"),o.setAttribute("tabindex","-1"),o.setAttribute("aria-hidden","true"),N(o)),o.parentNode===null&&document.body.appendChild(o);var a=n.paddingSize,c=n.borderSize,u=n.sizingStyle,b=u.boxSizing;Object.keys(u).forEach(function(f){var x=f;o.style[x]=u[x]}),N(o),o.value=t;var i=_(o,n);o.value=t,i=_(o,n),o.value="x";var v=o.scrollHeight-a,y=v*r;b==="border-box"&&(y=y+a+c),i=Math.max(y,i);var p=v*e;return b==="border-box"&&(p=p+a+c),i=Math.min(p,i),[i,v]}var $=function(){},de=function(t,r){return t.reduce(function(e,a){return e[a]=r[a],e},{})},le=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak","wordSpacing","scrollbarGutter"],ce=!!document.documentElement.currentStyle,pe=function(t){var r=window.getComputedStyle(t);if(r===null)return null;var e=de(le,r),a=e.boxSizing;if(a==="")return null;ce&&a==="border-box"&&(e.width=parseFloat(e.width)+parseFloat(e.borderRightWidth)+parseFloat(e.borderLeftWidth)+parseFloat(e.paddingRight)+parseFloat(e.paddingLeft)+"px");var c=parseFloat(e.paddingBottom)+parseFloat(e.paddingTop),u=parseFloat(e.borderBottomWidth)+parseFloat(e.borderTopWidth);return{sizingStyle:e,paddingSize:c,borderSize:u}},fe=pe;function k(n,t,r){var e=ie(r);l.useLayoutEffect(function(){var a=function(u){return e.current(u)};if(n)return n.addEventListener(t,a),function(){return n.removeEventListener(t,a)}},[])}var me=function(t,r){k(document.body,"reset",function(e){t.current.form===e.target&&r(e)})},ge=function(t){k(window,"resize",t)},ve=function(t){k(document.fonts,"loadingdone",t)},ye=["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"],he=function(t,r){var e=t.cacheMeasurements,a=t.maxRows,c=t.minRows,u=t.onChange,b=u===void 0?$:u,i=t.onHeightChange,v=i===void 0?$:i,y=ne(t,ye),p=y.value!==void 0,f=l.useRef(null),x=oe(f,r),q=l.useRef(0),T=l.useRef(),m=function(){var d=f.current,S=e&&T.current?T.current:fe(d);if(S){T.current=S;var H=ue(S,d.value||d.placeholder||"x",c,a),w=H[0],C=H[1];q.current!==w&&(q.current=w,d.style.setProperty("height",w+"px","important"),v(w,{rowHeight:C}))}},F=function(d){p||m(),b(d)};return l.useLayoutEffect(m),me(f,function(){if(!p){var L=f.current.value;requestAnimationFrame(function(){var d=f.current;d&&L!==d.value&&m()})}}),ge(m),ve(m),l.createElement("textarea",M({},y,{onChange:F,ref:x}))},be=l.forwardRef(he);const R=({id:n,value:t,required:r=!1,decorator:e,placeholder:a,disabled:c=!1,onInput:u,onBlur:b,validation:i=g.Default,minRows:v,maxRows:y,autosize:p=!1,resizeable:f=!0,onFocus:x,selectable:q=!1,focusOnMount:T,onEnterPressed:m,...F})=>{const L=p?be:"textarea",d=l.useRef(null);l.useEffect(()=>{if(T){const s=setTimeout(()=>{var A;(A=d.current)==null||A.focus()},0);return()=>clearTimeout(s)}},[T]);const S=s=>{s.key==="Enter"&&(m==null||m(s))},H=s=>{b&&b(s.target.value)},w=s=>{u&&u(s.target.value)},{isFocusVisible:C,focusProps:Y}=J({isTextInput:!0,within:!0}),G={maxRows:y,minRows:v};return h.jsxs("div",{className:"tw-relative",...Y,children:[e?h.jsx("div",{className:"tw-absolute tw-top-2 tw-left-2 tw-inline-flex tw-items-end tw-text-black-80","data-test-id":"decorator",children:e}):null,h.jsx(L,{...p?G:{rows:v},onClick:()=>{var s;return(s=d.current)==null?void 0:s.focus()},id:te(n),ref:d,value:t,placeholder:a,required:r,className:W(["tw-w-full tw-p-2 tw-border tw-rounded tw-text-s tw-outline-none tw-transition tw-placeholder-black-60",!!e&&"tw-pl-7 ",c?"tw-border-black-5 tw-bg-black-5 tw-text-black-40":"tw-text-black tw-border-black-20 hover:tw-border-line-x-strong focus-within:tw-border-line-xx-strong focus-within:hover:tw-border-line-xx-strong",C&&re,X[i],!f&&"tw-resize-none",i===g.Error&&"tw-pr-8"]),disabled:c,onBlur:H,onFocus:s=>{q&&s.target.select(),x&&x(s)},onInput:w,onKeyDown:S,"data-test-id":"textarea",...F}),i===g.Loading&&h.jsx("span",{className:"tw-absolute tw-top-[-0.55rem] tw-right-[-0.55rem] tw-bg-white tw-rounded-full tw-p-[2px] tw-border tw-border-black-10",children:h.jsx(Q,{size:ee.ExtraSmall})}),(i===g.Error||i===g.Warning)&&h.jsx("span",{className:W(["tw-absolute tw-top-[0.6rem] tw-right-[0.6rem]",i===g.Error&&"tw-text-text-negative",i===g.Warning&&"tw-text-text-warning"]),"data-test-id":"error-state-exclamation-mark-icon",children:h.jsx(Z,{})})]})};R.displayName="FondueLegacyTextarea";R.__docgenInfo={description:"@deprecated Please use updated Textarea component from `@frontify/fondue/components` instead.",methods:[],displayName:"FondueLegacyTextarea",props:{id:{required:!1,tsType:{name:"string"},description:""},value:{required:!1,tsType:{name:"string"},description:""},required:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},decorator:{required:!1,tsType:{name:"ReactNode"},description:""},placeholder:{required:!1,tsType:{name:"string"},description:""},disabled:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},onInput:{required:!1,tsType:{name:"signature",type:"function",raw:"(value: string) => void",signature:{arguments:[{type:{name:"string"},name:"value"}],return:{name:"void"}}},description:""},onBlur:{required:!1,tsType:{name:"signature",type:"function",raw:"(value: string) => void",signature:{arguments:[{type:{name:"string"},name:"value"}],return:{name:"void"}}},description:""},onFocus:{required:!1,tsType:{name:"signature",type:"function",raw:"(e: FocusEvent<HTMLTextAreaElement>) => void",signature:{arguments:[{type:{name:"FocusEvent",elements:[{name:"HTMLTextAreaElement"}],raw:"FocusEvent<HTMLTextAreaElement>"},name:"e"}],return:{name:"void"}}},description:""},validation:{required:!1,tsType:{name:"Validation"},description:"",defaultValue:{value:"Validation.Default",computed:!0}},minRows:{required:!1,tsType:{name:"number"},description:"When autosize if false, this is used as 'rows' property for standard textarea"},maxRows:{required:!1,tsType:{name:"number"},description:"When autosize if false, this property is ignored"},autosize:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},resizeable:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"true",computed:!1}},selectable:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},focusOnMount:{required:!1,tsType:{name:"boolean"},description:""},onEnterPressed:{required:!1,tsType:{name:"signature",type:"function",raw:"(event: KeyboardEvent<HTMLTextAreaElement>) => void",signature:{arguments:[{type:{name:"KeyboardEvent",elements:[{name:"HTMLTextAreaElement"}],raw:"KeyboardEvent<HTMLTextAreaElement>"},name:"event"}],return:{name:"void"}}},description:""}}};const Fe={title:"Legacy Components/Deprecated/LegacyTextarea",component:R,tags:["autodocs"],args:{disabled:!1,required:!1,autosize:!1,resizeable:!0,selectable:!1,validation:g.Default,focusOnMount:!1},argTypes:{value:{type:"string"},placeholder:{type:"string"},decorator:{type:"string"},onInput:{action:"onInput"},onBlur:{action:"onBlur"},onClear:{action:"onClear"},onFocus:{action:"onFocus"},validation:{options:Object.values(g),control:{type:"select"}},minRows:{type:"number"},maxRows:{type:"number"},onEnterPressed:{action:"onEnterPressed",table:{disable:!0}},focusOnMount:{type:"boolean"}},parameters:{status:{type:"deprecated"},docs:{description:{component:`### *Legacy component warning*
#### This is a deprecated component. It will be removed in the next major version.
#### _**Use the [new Textarea component](/docs/current_components-textarea--documentation) instead.**_`}}}},E=n=>{const[t,r]=l.useState("");return l.useEffect(()=>r(`${n.value??""}`),[n.value]),h.jsx(R,{...n,value:t,onInput:r})},z=E.bind({});z.args={focusOnMount:!0};E.__docgenInfo={description:"",methods:[],displayName:"LegacyTextarea",props:{id:{required:!1,tsType:{name:"string"},description:""},value:{required:!1,tsType:{name:"string"},description:""},required:{required:!1,tsType:{name:"boolean"},description:""},decorator:{required:!1,tsType:{name:"ReactNode"},description:""},placeholder:{required:!1,tsType:{name:"string"},description:""},disabled:{required:!1,tsType:{name:"boolean"},description:""},onInput:{required:!1,tsType:{name:"signature",type:"function",raw:"(value: string) => void",signature:{arguments:[{type:{name:"string"},name:"value"}],return:{name:"void"}}},description:""},onBlur:{required:!1,tsType:{name:"signature",type:"function",raw:"(value: string) => void",signature:{arguments:[{type:{name:"string"},name:"value"}],return:{name:"void"}}},description:""},onFocus:{required:!1,tsType:{name:"signature",type:"function",raw:"(e: FocusEvent<HTMLTextAreaElement>) => void",signature:{arguments:[{type:{name:"FocusEvent",elements:[{name:"HTMLTextAreaElement"}],raw:"FocusEvent<HTMLTextAreaElement>"},name:"e"}],return:{name:"void"}}},description:""},validation:{required:!1,tsType:{name:"Validation"},description:""},minRows:{required:!1,tsType:{name:"number"},description:"When autosize if false, this is used as 'rows' property for standard textarea"},maxRows:{required:!1,tsType:{name:"number"},description:"When autosize if false, this property is ignored"},autosize:{required:!1,tsType:{name:"boolean"},description:""},resizeable:{required:!1,tsType:{name:"boolean"},description:""},selectable:{required:!1,tsType:{name:"boolean"},description:""},focusOnMount:{required:!1,tsType:{name:"boolean"},description:""},onEnterPressed:{required:!1,tsType:{name:"signature",type:"function",raw:"(event: KeyboardEvent<HTMLTextAreaElement>) => void",signature:{arguments:[{type:{name:"KeyboardEvent",elements:[{name:"HTMLTextAreaElement"}],raw:"KeyboardEvent<HTMLTextAreaElement>"},name:"event"}],return:{name:"void"}}},description:""}}};var V,B,P;E.parameters={...E.parameters,docs:{...(V=E.parameters)==null?void 0:V.docs,source:{originalSource:`(args: LegacyTextareaProps) => {
  const [input, setInput] = useState('');
  // eslint-disable-next-line react-hooks/set-state-in-effect
  useEffect(() => setInput(\`\${args.value ?? ''}\`), [args.value]);
  return <TextareaComponent {...args} value={input} onInput={setInput} />;
}`,...(P=(B=E.parameters)==null?void 0:B.docs)==null?void 0:P.source}}};var K,D,U;z.parameters={...z.parameters,docs:{...(K=z.parameters)==null?void 0:K.docs,source:{originalSource:`(args: LegacyTextareaProps) => {
  const [input, setInput] = useState('');
  // eslint-disable-next-line react-hooks/set-state-in-effect
  useEffect(() => setInput(\`\${args.value ?? ''}\`), [args.value]);
  return <TextareaComponent {...args} value={input} onInput={setInput} />;
}`,...(U=(D=z.parameters)==null?void 0:D.docs)==null?void 0:U.source}}};const Ce=["LegacyTextarea","FocusOnMount"];export{z as FocusOnMount,E as LegacyTextarea,Ce as __namedExportsOrder,Fe as default};
