import{r as s,j as t}from"./iframe-C7qgvnLT.js";import{c as j}from"./focusStyle-Ch_WJ4aJ.js";import{m as c}from"./merge-DI-veSMP.js";import{I as d}from"./IconSize-BcCrF_mi.js";import{I as ie}from"./IconPen16-DTSPY04k.js";import"./preload-helper-B933Jwna.js";const L={getLabel:e=>{let l="";const i=r=>{s.Children.map(r,a=>{if(typeof a=="string")l+=a;else{const o=a;o!=null&&o.props&&i(o.props.children)}})};return i(e),l},copyStyles:e=>({fontSize:window.getComputedStyle(e).getPropertyValue("font-size"),lineHeight:window.getComputedStyle(e).getPropertyValue("line-height"),letterSpacing:window.getComputedStyle(e).getPropertyValue("letter-spacing"),minWidth:window.getComputedStyle(e).getPropertyValue("width"),fontWeight:window.getComputedStyle(e).getPropertyValue("font-weight")})};var x=(e=>(e.INPUT="INPUT",e.LABEL="LABEL",e))(x||{});const m=({onEditableSave:e,onModeChange:l,onAdditionalValueSave:i,children:r,options:a,isOverflowing:o=!1,"data-test-id":Z="editable-node-container"})=>{const b=L.getLabel(r),[T,P]=s.useState(b),[g,y]=s.useState("LABEL"),[z,ee]=s.useState(),I=s.useRef(null),te=n=>P(n.target.value),N=n=>{y("LABEL"),l&&l("LABEL"),a!=null&&a.additionalValues&&i&&i(a.additionalValues,n.target.value),e&&e(n.target.value)},S=n=>()=>{P(n),y("INPUT"),l&&l("INPUT")},ae=n=>{n.key==="Enter"&&N(n)},le=n=>N(n);s.useEffect(()=>y((a==null?void 0:a.mode)??"LABEL"),[a==null?void 0:a.mode]);const ne=a!=null&&a.enableDoubleClick?{onDoubleClick:S(b),onKeyPress:n=>n.key==="Enter"&&S(b)()}:{onClick:S(b)};s.useEffect(()=>{var n;v.current&&ee(L.copyStyles(v.current)),g==="INPUT"&&((n=I.current)==null||n.select())},[g,I,r]);const v=s.useRef(),se=r&&s.cloneElement(r,{ref:v});return t.jsxs("div",{"data-test-id":Z,className:c(["tw-relative tw-h-full",(a==null?void 0:a.removeBoxPadding)===!0?"":"tw-p-2"]),children:[g==="INPUT"?t.jsx("div",{className:c(["tw-flex tw-items-center",(a==null?void 0:a.isSlimInputField)===!0?"-tw-translate-x-[0.315rem] -tw-translate-y-[0.07rem]":"-tw-translate-x-[0.81rem] -tw-translate-y-[0.56rem]"]),children:t.jsxs("div",{"data-test-id":"editable-input",className:c(["tw-relative",o&&"tw-w-full tw-flex tw-items-center"]),children:[t.jsx("input",{ref:I,type:"text",className:c([(a==null?void 0:a.isSlimInputField)===!0?"focus-visible:tw-outline-none":j,"tw-absolute tw-w-full tw-text-text tw-border tw-rounded tw-bg-base tw-border-solid",(a==null?void 0:a.isSlimInputField)===!0?"tw-py-0 tw-px-1":"tw-px-3 tw-py-2"]),style:z,value:T,onChange:te,onKeyDown:ae,onBlur:le}),t.jsx("span",{"aria-hidden":"true",className:c(["tw-rounded tw-px-4 tw-py-2 tw-bg-base tw-truncate",(a==null?void 0:a.isSlimInputField)===!0&&"tw-py-0 tw-px-2",o&&"tw-w-0"]),style:z,children:T})]})}):null,t.jsx("button",{type:"button",style:{display:g==="INPUT"?"none":"flex"},className:c([o&&"tw-w-full","tw-h-full tw-items-center",j]),...ne,"data-test-id":"node-link-name","aria-pressed":"false",children:se})]})};m.displayName="FondueEditableText";m.__docgenInfo={description:`Component to switch between Label and Input state. Wraps the Children
with a Button, to allow for accessibility and copies styles to input field

Events:
- onEditableSave         // When changing from input to label state
- onModeChange           // Indicates which state is active
- onAdditionalValueSave  // Similar to editable Save with additional Values provided

Options properties:
- mode:                   enum EditableMode  // {INPUT = 'INPUT',LABEL = 'LABEL'}
- enableDoubleClick:      boolean            // should the input be triggered by a double click or single click
- isSlimInputField:       boolean            // removes y padding
- additionalValues?:      string             // additional Values like ID`,methods:[],displayName:"FondueEditableText",props:{children:{required:!1,tsType:{name:"ReactElement"},description:""},onAdditionalValueSave:{required:!1,tsType:{name:"signature",type:"function",raw:"(additionalValue: string, value: string) => void",signature:{arguments:[{type:{name:"string"},name:"additionalValue"},{type:{name:"string"},name:"value"}],return:{name:"void"}}},description:""},onEditableSave:{required:!1,tsType:{name:"signature",type:"function",raw:"(value: string) => void",signature:{arguments:[{type:{name:"string"},name:"value"}],return:{name:"void"}}},description:""},onModeChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(editableState?: EditableMode) => void",signature:{arguments:[{type:{name:"EditableMode"},name:"editableState"}],return:{name:"void"}}},description:""},options:{required:!1,tsType:{name:"EditableOptionProps"},description:""},isOverflowing:{required:!1,tsType:{name:"boolean"},description:"@deprecated Temporary solution for text with ellipisis in Tree Component",defaultValue:{value:"false",computed:!1}},"data-test-id":{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"'editable-node-container'",computed:!1}}}};function H(e){return t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:12,height:12,className:"tw-flex tw-items-center tw-justify-center tw-fill-current",name:"IconPen12","aria-hidden":"true",...e,children:t.jsxs("g",{fill:"none",children:[t.jsx("g",{clipPath:"url(#Pen12)",children:t.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M10.703 2.708 9.409 1.414l-.955.955 1.294 1.293zM2.288 8.536l5.46-5.46L9.04 4.37 3.58 9.83l-1.658.364zm1.793 2.207 7.329-7.328a1 1 0 0 0 0-1.415L10.116.707a1 1 0 0 0-1.414 0L1.374 8.035.946 9.98a1 1 0 0 0 1.192 1.192zm3.573-.664a.5.5 0 0 0 0 1h2.965a.5.5 0 1 0 0-1z",clipRule:"evenodd"})}),t.jsx("defs",{children:t.jsx("clipPath",{id:"Pen12",children:t.jsx("path",{fill:"#fff",d:"M0 0h12v12H0z"})})})]})})}const re=s.memo(H);H.__docgenInfo={description:"@deprecated Import Icons from `@frontify/fondue/components` instead.",methods:[],displayName:"IconPen12",props:{size:{required:!1,tsType:{name:"IconSize"},description:""},filled:{required:!1,tsType:{name:"boolean"},description:""}}};function K(e){return t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:20,height:20,className:"tw-flex tw-items-center tw-justify-center tw-fill-current",name:"IconPen20","aria-hidden":"true",...e,children:t.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"m16.89 5.89-1.769-1.769-1.283 1.283 1.77 1.77zM4.946 14.296l7.832-7.831 1.769 1.769-7.832 7.832-2.268.499zm2.52 3.14L17.95 6.951a1.5 1.5 0 0 0 0-2.121l-1.77-1.77a1.5 1.5 0 0 0-2.12 0L3.574 13.547l-.761 3.46a1 1 0 0 0 1.191 1.192zm5.284-.936a.75.75 0 0 0 0 1.5h4.5a.75.75 0 0 0 0-1.5z",clipRule:"evenodd"})})}const oe=s.memo(K);K.__docgenInfo={description:"@deprecated Import Icons from `@frontify/fondue/components` instead.",methods:[],displayName:"IconPen20",props:{size:{required:!1,tsType:{name:"IconSize"},description:""},filled:{required:!1,tsType:{name:"boolean"},description:""}}};function Y(e){return t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,className:"tw-flex tw-items-center tw-justify-center tw-fill-current",name:"IconPen24","aria-hidden":"true",...e,children:t.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"m20.107 6.107-1.632-1.632a.5.5 0 0 0-.708 0L16.34 5.903l2.34 2.34 1.428-1.429a.5.5 0 0 0 0-.707M6.254 15.988l9.025-9.024 2.339 2.339-9.025 9.025-3 .66zm3.09 3.71L21.167 7.875a2 2 0 0 0 0-2.829l-1.632-1.632a2 2 0 0 0-2.828 0L4.883 15.238l-.922 4.192a1 1 0 0 0 1.191 1.191zm5.406-.198a.75.75 0 0 0 0 1.5h4.5a.75.75 0 0 0 0-1.5z",clipRule:"evenodd"})})}const de=s.memo(Y);Y.__docgenInfo={description:"@deprecated Import Icons from `@frontify/fondue/components` instead.",methods:[],displayName:"IconPen24",props:{size:{required:!1,tsType:{name:"IconSize"},description:""},filled:{required:!1,tsType:{name:"boolean"},description:""}}};function G(e){return t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:32,height:32,className:"tw-flex tw-items-center tw-justify-center tw-fill-current",name:"IconPen32","aria-hidden":"true",...e,children:t.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"m24.182 11.218 2.122-2.122-2.829-2.828-2.121 2.121zM8.515 21.228 19.94 9.804l2.828 2.829-11.425 11.425-3.627.798zm3.83 4.656 15.373-15.373a2 2 0 0 0 0-2.829L24.89 4.854a2 2 0 0 0-2.829 0L6.687 20.228l-1.26 5.725a1 1 0 0 0 1.192 1.192zM18 26a1 1 0 1 0 0 2h6a1 1 0 1 0 0-2z",clipRule:"evenodd"})})}const ce=s.memo(G);G.__docgenInfo={description:"@deprecated Import Icons from `@frontify/fondue/components` instead.",methods:[],displayName:"IconPen32",props:{size:{required:!1,tsType:{name:"IconSize"},description:""},filled:{required:!1,tsType:{name:"boolean"},description:""}}};const E=e=>{const l=e.size||d.Size16;return t.jsxs("span",{children:[l===d.Size12&&!e.filled&&t.jsx(re,{...e}),l===d.Size16&&!e.filled&&t.jsx(ie,{...e}),l===d.Size20&&!e.filled&&t.jsx(oe,{...e}),l===d.Size24&&!e.filled&&t.jsx(de,{...e}),l===d.Size32&&!e.filled&&t.jsx(ce,{...e})]})};E.displayName="FondueIconPen";const J=s.memo(E);E.__docgenInfo={description:"@deprecated Import Icons from `@frontify/fondue/components` instead.",methods:[],displayName:"FondueIconPen",props:{size:{required:!1,tsType:{name:"IconSize"},description:""},filled:{required:!1,tsType:{name:"boolean"},description:""}}};const be={title:"Components/Editable Text",component:m,tags:["autodocs"],parameters:{actions:{argTypesRegex:"^on.*"}},argTypes:{children:{table:{disable:!0}},isOverflowing:{table:{disable:!0}},options:{table:{category:"Custom"}},onAdditionalValueSave:{table:{category:"Event"}},onEditableSave:{table:{category:"Event"}},onModeChange:{table:{category:"Event"}}}},Q=e=>t.jsx(m,{...e,children:e.children}),X=e=>{const[l,i]=s.useState("Im set from the outside");return t.jsxs("div",{className:"tw-flex tw-items-center",children:[t.jsx(m,{...e,onEditableSave:r=>i(r),children:t.jsx("h1",{children:l})})," ",t.jsx(J,{size:d.Size24})]})},p=Q.bind({});p.args={children:t.jsx("p",{children:"Change me"}),options:{}};const u=Q.bind({});u.args={children:t.jsx("div",{className:"tw-flex tw-flex-row tw-items-center",children:t.jsx("h1",{className:"tw-text-text",children:"hey Styled"})}),options:{mode:x.LABEL,enableDoubleClick:!1,additionalValues:"Values only for the Event"}};u.storyName="Editable Text h1 styling";const f=()=>{const[e,l]=s.useState("Im set from the outside");return t.jsxs("div",{className:"tw-flex tw-items-center",children:[t.jsx(m,{onEditableSave:i=>l(i),options:{additionalValues:"ID",enableDoubleClick:!0},children:t.jsx("h1",{className:"tw-text-xl",children:e})}),t.jsx(J,{size:d.Size24})]})},h=X.bind({});h.args={options:{mode:x.INPUT}};const w=X.bind({});w.args={options:{mode:x.INPUT,isSlimInputField:!0}};f.__docgenInfo={description:"",methods:[],displayName:"ControlledExample"};var C,V,_;p.parameters={...p.parameters,docs:{...(C=p.parameters)==null?void 0:C.docs,source:{originalSource:"(args: EditableTextProps) => <EditableText {...args}>{args.children}</EditableText>",...(_=(V=p.parameters)==null?void 0:V.docs)==null?void 0:_.source}}};var q,R,B;u.parameters={...u.parameters,docs:{...(q=u.parameters)==null?void 0:q.docs,source:{originalSource:"(args: EditableTextProps) => <EditableText {...args}>{args.children}</EditableText>",...(B=(R=u.parameters)==null?void 0:R.docs)==null?void 0:B.source}}};var D,k,F;f.parameters={...f.parameters,docs:{...(D=f.parameters)==null?void 0:D.docs,source:{originalSource:`() => {
  const [label, setLabel] = useState('Im set from the outside');
  return <div className="tw-flex tw-items-center">
            <EditableText onEditableSave={value => setLabel(value)} options={{
      additionalValues: 'ID',
      enableDoubleClick: true
    }}>
                <h1 className={'tw-text-xl'}>{label}</h1>
            </EditableText>
            <IconPen size={IconSize.Size24} />
        </div>;
}`,...(F=(k=f.parameters)==null?void 0:k.docs)==null?void 0:F.source}}};var U,A,M;h.parameters={...h.parameters,docs:{...(U=h.parameters)==null?void 0:U.docs,source:{originalSource:`(args: EditableTextProps) => {
  const [label, setLabel] = useState('Im set from the outside');
  return <div className="tw-flex tw-items-center">
            <EditableText {...args} onEditableSave={value => setLabel(value)}>
                <h1>{label}</h1>
            </EditableText>{' '}
            <IconPen size={IconSize.Size24} />
        </div>;
}`,...(M=(A=h.parameters)==null?void 0:A.docs)==null?void 0:M.source}}};var W,$,O;w.parameters={...w.parameters,docs:{...(W=w.parameters)==null?void 0:W.docs,source:{originalSource:`(args: EditableTextProps) => {
  const [label, setLabel] = useState('Im set from the outside');
  return <div className="tw-flex tw-items-center">
            <EditableText {...args} onEditableSave={value => setLabel(value)}>
                <h1>{label}</h1>
            </EditableText>{' '}
            <IconPen size={IconSize.Size24} />
        </div>;
}`,...(O=($=w.parameters)==null?void 0:$.docs)==null?void 0:O.source}}};const ge=["EditableTextDefault","Default","ControlledExample","ControllelInitialInput","ControllelSlimInputField"];export{f as ControlledExample,h as ControllelInitialInput,w as ControllelSlimInputField,u as Default,p as EditableTextDefault,ge as __namedExportsOrder,be as default};
