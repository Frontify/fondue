import{j as l}from"./jsx-runtime-DH9XN8A8.js";import{r as c}from"./index-v7USjxUg.js";import{$ as N,a as Y,b as L,c as J}from"./useFocusable-BRFkliNn.js";import{$ as K,a as Q,b as Z,c as T}from"./useFormValidationState-BKAFCnHb.js";import{$ as ee}from"./useFocusRing-CP9UJNUw.js";import{$ as te}from"./useControlledState-BSgwHaZM.js";import{I as ae}from"./InputLabel-CAkTbk9Q.js";import{I as se}from"./IconCheckMark-CMS57PRn.js";import{I as re}from"./IconMinus-DtF84-GK.js";import{I as V}from"./IconSize-BcCrF_mi.js";import{u as ie}from"./useMemoizedId-Cl5PI4eu.js";import{F as ne}from"./focusStyle-CBFElZiz.js";import{m as $}from"./merge-DI-veSMP.js";import{u as le}from"./Button-BfBJpGQT.js";function oe(e,s,r){let{isDisabled:a=!1,isReadOnly:n=!1,value:i,name:u,children:k,"aria-label":f,"aria-labelledby":m,validationState:p="valid",isInvalid:x}=e,v=d=>{d.stopPropagation(),s.setSelected(d.target.checked)},b=k!=null,o=f!=null||m!=null;!b&&!o&&console.warn("If you do not provide children, you must specify an aria-label for accessibility");let{pressProps:g,isPressed:w}=N({isDisabled:a}),{pressProps:t,isPressed:S}=N({isDisabled:a||n,onPress(){s.toggle()}}),{focusableProps:E}=Y(e,r),M=L(g,E),O=J(e,{labelable:!0});return K(r,s.isSelected,s.setSelected),{labelProps:L(t,{onClick:d=>d.preventDefault()}),inputProps:L(O,{"aria-invalid":x||p==="invalid"||void 0,"aria-errormessage":e["aria-errormessage"],"aria-controls":e["aria-controls"],"aria-readonly":n||void 0,onChange:v,disabled:a,...i==null?{}:{value:i},name:u,type:"checkbox",...M}),isSelected:s.isSelected,isPressed:w||S,isDisabled:a,isReadOnly:n,isInvalid:x||p==="invalid"}}function de(e,s,r){let a=Q({...e,value:s.isSelected}),{isInvalid:n,validationErrors:i,validationDetails:u}=a.displayValidation,{labelProps:k,inputProps:f,isSelected:m,isPressed:p,isDisabled:x,isReadOnly:v}=oe({...e,isInvalid:n},s,r);Z(e,a,r);let{isIndeterminate:b,isRequired:o,validationBehavior:g="aria"}=e;c.useEffect(()=>{r.current&&(r.current.indeterminate=!!b)});let{pressProps:w}=N({isDisabled:x||v,onPress(){let{[T]:t}=e,{commitValidation:S}=t||a;S()}});return{labelProps:L(k,w),inputProps:{...f,checked:m,"aria-required":o&&g==="aria"||void 0,required:o&&g==="native"},isSelected:m,isPressed:p,isDisabled:x,isReadOnly:v,isInvalid:n,validationErrors:i,validationDetails:u}}function ce(e={}){let{isReadOnly:s}=e,[r,a]=te(e.isSelected,e.defaultSelected||!1,e.onChange);function n(u){s||a(u)}function i(){s||a(!r)}return{isSelected:r,setSelected:n,toggle:i}}var ue=(e=>(e.Checked="Checked",e.Unchecked="Unchecked",e.Mixed="Mixed",e))(ue||{}),fe=(e=>(e.Default="Default",e.Weak="Weak",e.Strong="Strong",e))(fe||{}),be=(e=>(e.Default="Default",e.Large="Large",e.XLarge="XLarge",e))(be||{});const we=e=>e==="Checked"||e==="Mixed",q="tw-bg-box-selected-strong tw-text-box-selected-strong-inverse hover:tw-bg-box-selected-strong-hover",me={Weak:"tw-bg-box-neutral-strong tw-text-box-neutral-strong-inverse hover:tw-bg-box-neutral-strong-hover",Default:q,Strong:q},xe={Default:"tw-h-4 tw-w-4",Large:"tw-h-5 tw-w-5",XLarge:"tw-h-8 tw-w-8"},he=({id:e,emphasis:s="Default",size:r="Default",disabled:a,required:n,label:i,hideLabel:u,tooltip:k,helperText:f,"aria-label":m,value:p,groupInputProps:x,onChange:v,state:b="Unchecked","data-test-id":o="checkbox"},g)=>{const w=ie(e),t=le(g),{focusProps:S}=ee(),E=ce({onChange:a?void 0:v,isSelected:b==="Checked"}),[M,O]=c.useState(),d=c.useRef(null),P=c.useRef(null),[U,W]=c.useState(!1),[X,A]=c.useState(!1),F=h=>{h.key==="Tab"&&O(!0)},z=()=>{O(!1)};c.useEffect(()=>{var h,y;return(h=t==null?void 0:t.current)==null||h.addEventListener("keyup",F),(y=t==null?void 0:t.current)==null||y.addEventListener("blur",z),()=>{var D,I;(D=t==null?void 0:t.current)==null||D.removeEventListener("keyup",F),(I=t==null?void 0:t.current)==null||I.removeEventListener("blur",z)}},[]);const{inputProps:_}=de({isDisabled:a,isRequired:n,isIndeterminate:b==="Mixed","aria-label":m,value:p},E,t),B={Checked:l.jsx(se,{size:r==="XLarge"?V.Size24:V.Size16}),Mixed:l.jsx(re,{}),Unchecked:null},j=we(b),G=$(["tw-bg-box-disabled tw-pointer-events-none tw-text-box-disabled-inverse tw-border-line-strong",j&&"tw-text-box-disabled-inverse tw-border-line-strong"]),H=j?me[s]:$(["tw-bg-base hover:tw-bg-box-neutral",s==="Strong"?"tw-border-2 tw-border-box-selected-strong":"tw-border tw-border-line-xx-strong"]),C=c.useCallback(()=>{var h,y,D,I;d.current&&W(((h=d.current)==null?void 0:h.scrollWidth)>((y=d.current)==null?void 0:y.clientWidth)),P.current&&A(((D=P.current)==null?void 0:D.scrollWidth)>((I=P.current)==null?void 0:I.clientWidth))},[d,P]);return c.useEffect(()=>{if(!(!i&&!f||u))return C(),window.removeEventListener("resize",C),window.addEventListener("resize",C),()=>{window.removeEventListener("resize",C)}},[i,f,u,C]),l.jsx("div",{className:"tw-gap-1 tw-transition-colors tw-w-full","data-test-id":o,children:l.jsx("div",{className:$(["tw-inline-flex tw-flex-row tw-rounded tw-w-full",M?ne:""]),children:l.jsx(ae,{id:`${w}-label`,disabled:a,clickable:!0,htmlFor:w,tooltip:k,required:n,bold:j,children:l.jsxs("span",{className:"tw-flex tw-items-center tw-whitespace-nowrap",children:[l.jsxs("span",{className:"tw-inline-flex",children:[l.jsx("input",{...L(x||_,S),id:w,ref:t,className:"tw-sr-only","data-test-id":`${o}-input`,role:"checkbox","aria-checked":b==="Checked",required:n,"aria-label":m,"aria-labelledby":i?`${w}-label`:void 0}),l.jsx("span",{"data-test-id":`${o}-icon-box`,"aria-hidden":"true",className:$(["tw-leading-3 tw-relative tw-flex tw-items-center tw-justify-center tw-rounded tw-shrink-0 tw-flex-none",xe[r],a?G:H]),children:B[b]})]}),!u&&l.jsxs("span",{className:"tw-inline-flex tw-flex-col tw-min-w-0 tw-ml-1.5",children:[i&&l.jsx("span",{ref:d,"data-test-id":`${o}-label`,className:$(["tw-text-ellipsis tw-overflow-hidden","tw-text-xs tw-select-none hover:tw-cursor-pointer hover:tw-text-black dark:hover:tw-text-white group-hover:tw-text-black dark:group-hover:tw-text-white",j&&"tw-font-medium"]),title:U?i:void 0,children:i}),f&&l.jsx("span",{ref:P,"data-test-id":`${o}-helper-text`,className:$(["tw-text-ellipsis tw-overflow-hidden","tw-font-sans tw-text-xs tw-font-normal",a?"text-disabled":"tw-text-text-weak"]),title:X?f:void 0,children:f})]})]})})})})},R=c.forwardRef(he);R.displayName="FondueCheckbox";R.__docgenInfo={description:"@deprecated Use `Checkbox` from `@frontify/fondue/components` instead. Also check {@link https://github.com/Frontify/fondue/blob/main/packages/components/MIGRATING.md#checkbox the migration guide}.",methods:[],displayName:"FondueCheckbox",props:{emphasis:{defaultValue:{value:"CheckboxEmphasis.Default",computed:!0},required:!1},size:{defaultValue:{value:"CheckboxSize.Default",computed:!0},required:!1},state:{defaultValue:{value:"CheckboxState.Unchecked",computed:!0},required:!1},"data-test-id":{defaultValue:{value:"'checkbox'",computed:!1},required:!1}}};export{ce as $,ue as C,fe as a,be as b,R as c,de as d};
