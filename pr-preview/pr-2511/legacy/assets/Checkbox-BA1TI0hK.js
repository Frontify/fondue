import{r as l,j as o}from"./iframe-DXiSZ8yV.js";import{c as V,h as G,$ as T,a as Y}from"./useFocusable-B-dbdgUK.js";import{$ as J,b as K,a as Q,c as Z}from"./useFormValidationState-Df0Yw5W6.js";import{$ as ee}from"./useFocusRing-DPazzxim.js";import{$ as te}from"./useControlledState-chuV09hx.js";import{I as re}from"./InputLabel-wedjaRoM.js";import{I as se}from"./IconCheckMark-C4Ixpvio.js";import{I as ae}from"./IconMinus-Bm-LsqLV.js";import{I as W}from"./IconSize-BcCrF_mi.js";import{u as ie}from"./useMemoizedId-DtF_1p7S.js";import{a as ne}from"./focusStyle-Ch_WJ4aJ.js";import{m as P}from"./merge-DI-veSMP.js";import{u as oe}from"./Button-B83Fd9Kf.js";function le(e,a,s){let{isDisabled:r=!1,isReadOnly:n=!1,value:i,name:p,form:b,children:u,"aria-label":$,"aria-labelledby":M,validationState:w="valid",isInvalid:g,onPressStart:f,onPressEnd:d,onPressChange:v,onPress:c,onPressUp:t,onClick:y}=e,j=m=>{m.stopPropagation(),a.setSelected(m.target.checked)},{pressProps:O,isPressed:q}=V({onPressStart:f,onPressEnd:d,onPressChange:v,onPress:c,onPressUp:t,onClick:y,isDisabled:r}),{pressProps:x,isPressed:h}=V({onPressStart:f,onPressEnd:d,onPressChange:v,onPressUp:t,onClick:y,onPress(m){var S;c==null||c(m),a.toggle(),(S=s.current)===null||S===void 0||S.focus()},isDisabled:r||n}),{focusableProps:N}=G(e,s),z=T(O,N),F=Y(e,{labelable:!0});return J(s,a.defaultSelected,a.setSelected),{labelProps:T(x,{onClick:m=>m.preventDefault()}),inputProps:T(F,{"aria-invalid":g||w==="invalid"||void 0,"aria-errormessage":e["aria-errormessage"],"aria-controls":e["aria-controls"],"aria-readonly":n||void 0,onChange:j,disabled:r,...i==null?{}:{value:i},name:p,form:b,type:"checkbox",...z}),isSelected:a.isSelected,isPressed:q||h,isDisabled:r,isReadOnly:n,isInvalid:g||w==="invalid"}}function de(e,a,s){let r=K({...e,value:a.isSelected}),{isInvalid:n,validationErrors:i,validationDetails:p}=r.displayValidation,{labelProps:b,inputProps:u,isSelected:$,isPressed:M,isDisabled:w,isReadOnly:g}=le({...e,isInvalid:n},a,s);Q(e,r,s);let{isIndeterminate:f,isRequired:d,validationBehavior:v="aria"}=e;l.useEffect(()=>{s.current&&(s.current.indeterminate=!!f)});let{pressProps:c}=V({isDisabled:w||g,onPress(){let{[Z]:t}=e,{commitValidation:y}=t||r;y()}});return{labelProps:T(b,c,l.useMemo(()=>({onMouseDown:t=>t.preventDefault()}),[])),inputProps:{...u,checked:$,"aria-required":d&&v==="aria"||void 0,required:d&&v==="native"},isSelected:$,isPressed:M,isDisabled:w,isReadOnly:g,isInvalid:n,validationErrors:i,validationDetails:p}}function ce(e={}){let{isReadOnly:a}=e,[s,r]=te(e.isSelected,e.defaultSelected||!1,e.onChange),[n]=l.useState(s);function i(u){a||r(u)}function p(){a||r(!s)}var b;return{isSelected:s,defaultSelected:(b=e.defaultSelected)!==null&&b!==void 0?b:n,setSelected:i,toggle:p}}var ue=(e=>(e.Checked="Checked",e.Unchecked="Unchecked",e.Mixed="Mixed",e))(ue||{}),fe=(e=>(e.Default="Default",e.Weak="Weak",e.Strong="Strong",e))(fe||{}),pe=(e=>(e.Default="Default",e.Large="Large",e.XLarge="XLarge",e))(pe||{});const be=e=>e==="Checked"||e==="Mixed",_="tw-bg-box-selected-strong tw-text-box-selected-strong-inverse hover:tw-bg-box-selected-strong-hover",me={Weak:"tw-bg-box-neutral-strong tw-text-box-neutral-strong-inverse hover:tw-bg-box-neutral-strong-hover",Default:_,Strong:_},we={Default:"tw-h-4 tw-w-4",Large:"tw-h-5 tw-w-5",XLarge:"tw-h-8 tw-w-8"},ge=({id:e,emphasis:a="Default",size:s="Default",disabled:r,required:n,label:i,hideLabel:p,tooltip:b,helperText:u,"aria-label":$,value:M,groupInputProps:w,onChange:g,state:f="Unchecked","data-test-id":d="checkbox"},v)=>{const c=ie(e),t=oe(v),{focusProps:y}=ee(),j=ce({onChange:r?void 0:g,isSelected:f==="Checked"}),[O,q]=l.useState(),x=l.useRef(null),h=l.useRef(null),[N,z]=l.useState(!1),[F,m]=l.useState(!1),S=k=>{k.key==="Tab"&&q(!0)},U=()=>{q(!1)};l.useEffect(()=>{var k,L;return(k=t==null?void 0:t.current)==null||k.addEventListener("keyup",S),(L=t==null?void 0:t.current)==null||L.addEventListener("blur",U),()=>{var I,D;(I=t==null?void 0:t.current)==null||I.removeEventListener("keyup",S),(D=t==null?void 0:t.current)==null||D.removeEventListener("blur",U)}},[]);const{inputProps:A}=de({isDisabled:r,isRequired:n,isIndeterminate:f==="Mixed","aria-label":$,value:M},j,t),R={Checked:o.jsx(se,{size:s==="XLarge"?W.Size24:W.Size16}),Mixed:o.jsx(ae,{}),Unchecked:null},E=be(f),X=P(["tw-bg-box-disabled tw-pointer-events-none tw-text-box-disabled-inverse tw-border-line-strong",E&&"tw-text-box-disabled-inverse tw-border-line-strong"]),B=E?me[a]:P(["tw-bg-base hover:tw-bg-box-neutral",a==="Strong"?"tw-border-2 tw-border-box-selected-strong":"tw-border tw-border-line-xx-strong"]),C=l.useCallback(()=>{var k,L,I,D;x.current&&z(((k=x.current)==null?void 0:k.scrollWidth)>((L=x.current)==null?void 0:L.clientWidth)),h.current&&m(((I=h.current)==null?void 0:I.scrollWidth)>((D=h.current)==null?void 0:D.clientWidth))},[x,h]);return l.useEffect(()=>{if(!(!i&&!u||p))return C(),window.removeEventListener("resize",C),window.addEventListener("resize",C),()=>{window.removeEventListener("resize",C)}},[i,u,p,C]),o.jsx("div",{className:"tw-gap-1 tw-transition-colors tw-w-full","data-test-id":d,children:o.jsx("div",{className:P(["tw-inline-flex tw-flex-row tw-rounded tw-w-full",O?ne:""]),children:o.jsx(re,{id:`${c}-label`,disabled:r,clickable:!0,htmlFor:c,tooltip:b,required:n,bold:E,children:o.jsxs("span",{className:"tw-flex tw-items-center tw-whitespace-nowrap",children:[o.jsxs("span",{className:"tw-inline-flex",children:[o.jsx("input",{...T(w||A,y),id:c,ref:t,className:"tw-sr-only","data-test-id":`${d}-input`,role:"checkbox","aria-checked":f==="Checked",required:n,"aria-label":$,"aria-labelledby":i?`${c}-label`:void 0}),o.jsx("span",{"data-test-id":`${d}-icon-box`,"aria-hidden":"true",className:P(["tw-leading-3 tw-relative tw-flex tw-items-center tw-justify-center tw-rounded tw-shrink-0 tw-flex-none",we[s],r?X:B]),children:R[f]})]}),!p&&o.jsxs("span",{className:"tw-inline-flex tw-flex-col tw-min-w-0 tw-ml-1.5",children:[i&&o.jsx("span",{ref:x,"data-test-id":`${d}-label`,className:P(["tw-text-ellipsis tw-overflow-hidden","tw-text-xs tw-select-none hover:tw-cursor-pointer hover:tw-text-black dark:hover:tw-text-white group-hover:tw-text-black dark:group-hover:tw-text-white",E&&"tw-font-medium"]),title:N?i:void 0,children:i}),u&&o.jsx("span",{ref:h,"data-test-id":`${d}-helper-text`,className:P(["tw-text-ellipsis tw-overflow-hidden","tw-font-sans tw-text-xs tw-font-normal",r?"text-disabled":"tw-text-text-weak"]),title:F?u:void 0,children:u})]})]})})})})},H=l.forwardRef(ge);H.displayName="FondueCheckbox";H.__docgenInfo={description:"@deprecated Use `Checkbox` from `@frontify/fondue/components` instead. Also check {@link https://github.com/Frontify/fondue/blob/main/packages/components/MIGRATING.md#checkbox the migration guide}.",methods:[],displayName:"FondueCheckbox",props:{id:{required:!1,tsType:{name:"string"},description:""},state:{required:!1,tsType:{name:"CheckboxState"},description:"",defaultValue:{value:"CheckboxState.Unchecked",computed:!0}},emphasis:{required:!1,tsType:{name:"CheckboxEmphasis"},description:"",defaultValue:{value:"CheckboxEmphasis.Default",computed:!0}},size:{required:!1,tsType:{name:"CheckboxSize"},description:"",defaultValue:{value:"CheckboxSize.Default",computed:!0}},disabled:{required:!1,tsType:{name:"boolean"},description:""},required:{required:!1,tsType:{name:"boolean"},description:""},value:{required:!1,tsType:{name:"string"},description:""},onChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(isChecked: boolean) => void",signature:{arguments:[{type:{name:"boolean"},name:"isChecked"}],return:{name:"void"}}},description:""},label:{required:!1,tsType:{name:"string"},description:""},hideLabel:{required:!1,tsType:{name:"boolean"},description:""},tooltip:{required:!1,tsType:{name:"union",raw:`| (LegacyTooltipProps & Pick<TooltipIconProps, 'triggerStyle' | 'triggerIcon'>)
| (LegacyTooltipProps & Pick<TooltipIconProps, 'triggerStyle' | 'triggerIcon'>)[]`,elements:[{name:"unknown"},{name:"Array",elements:[{name:"unknown"}],raw:"(LegacyTooltipProps & Pick<TooltipIconProps, 'triggerStyle' | 'triggerIcon'>)[]"}]},description:""},helperText:{required:!1,tsType:{name:"string"},description:""},"aria-label":{required:!1,tsType:{name:"string"},description:""},groupInputProps:{required:!1,tsType:{name:"HTMLAttributes",elements:[{name:"HTMLElement"}],raw:"HTMLAttributes<HTMLElement>"},description:""},"data-test-id":{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"'checkbox'",computed:!1}}}};export{ce as $,ue as C,pe as a,fe as b,H as c,de as d};
