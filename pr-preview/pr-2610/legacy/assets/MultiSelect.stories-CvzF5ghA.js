import{r,j as s}from"./iframe-WHWdV69_.js";import{F as Te}from"./FormControl-BQpvWfGS.js";import{T as Ke,a as j,C as Me,b as Ae}from"./Checklist-CXkd9PDl.js";import{V as ce}from"./validation-DnizjOrp.js";import{$ as je}from"./LegacyTooltip-BNmyDUDH.js";import{$ as qe}from"./FocusScope-B6LL3bD8.js";import{$ as De}from"./useFocusRing-BRRq1c-1.js";import{u as Ee}from"./usePopper-Bns1CbOQ.js";import{C as We}from"./Checkbox-CTmcK8XF.js";import{T as F,a as C,b as $}from"./Tag-BNDYLYOa.js";import{u as ze,E as Ve,D as Le}from"./EnablePortalWrapper-CD4tVBc2.js";import{m as ue}from"./merge-DI-veSMP.js";import"./preload-helper-Dk1UlhqQ.js";import"./InputLabel-B_Byj-we.js";import"./fondue-icons369-CEwc8FZu.js";import"./focusStyle-hm6eSJHh.js";import"./chain-BbUSVQ0O.js";import"./useLayoutEffect-D42-q8Es.js";import"./useControlledState-DiOaVJYI.js";import"./index-BLqzEEEu.js";import"./useMemoizedId-BEawUhcX.js";import"./index-CHfgbCoO.js";const Ne=t=>{const a=["tw-pr-9"];switch(t){case w.Small:a.push("tw-pl-3 tw-py-1");break;case w.Medium:a.push("tw-pl-[19px] tw-py-[11px]");break;default:return}return ue(a)},Oe=(t,a,i)=>{r.useEffect(()=>{function n(g){i!=null&&i.find(u=>u&&(g.target===u||u.contains(g.target)))||a()}return document.addEventListener("mousedown",n),()=>{document.removeEventListener("mousedown",n)}},[a,t,i])};var S=(t=>(t.Default="Default",t.Summarized="Summarized",t))(S||{}),w=(t=>(t.Small="Small",t.Medium="Medium",t))(w||{});const d=({items:t,activeItemKeys:a,onSelectionChange:i,ariaLabel:n="Select list",disabled:g=!1,placeholder:u,label:q,type:D="Default",size:M="Medium",validation:me=ce.Default,summarizedLabel:E,indeterminateItemKeys:l,flip:pe=!1,emphasis:de=j.Default,enablePortal:ge=!0})=>{const[m,I]=r.useState(!1),[ye,fe]=r.useState([]),c=r.useRef(null),[W,z]=r.useState(null),[p,ve]=r.useState(null),he=r.useRef(null),{isFocusVisible:be,focusProps:Se}=De(),{maxHeight:V}=ze({current:p},{isOpen:m,autoResize:!0}),L=a.length>0,we=E??[a.length,"selected"].join(" ");Oe(null,()=>I(!1),[c==null?void 0:c.current,W]);const xe=V!==Le,N=r.useId(),A=()=>I(e=>!e),{buttonProps:Ie}=je({onPress:A,onKeyDown:e=>{e.key==="Escape"&&I(!1)},elementType:"div"},{current:p}),ke=e=>{const o=new Set(a);o.has(e)?o.delete(e):o.add(e),i(Array.from(o))},Ce=e=>{(e.code==="Space"||e.code==="Enter")&&A()},O=()=>m?$.SelectedWithFocus:$.Selected;r.useEffect(()=>{z(c==null?void 0:c.current)},[]),r.useEffect(()=>{fe(t.map(e=>{const o={...e,label:e.value};return l!=null&&l.includes(e.value)?{...o,state:We.Mixed}:o}))},[t,l]);const k=Ee(p,W,{placement:"bottom-start",strategy:"fixed",modifiers:[{name:"offset",options:{offset:[0,8]}},{name:"flip",enabled:pe}]});return r.useEffect(()=>{(async()=>{k.update&&await k.update()})().catch(console.error)},[a]),r.useLayoutEffect(()=>{const e=o=>{o.key==="Escape"&&I(!1)};return window.addEventListener("keyup",e),()=>{window.removeEventListener("keyup",e)}},[]),s.jsxs("div",{className:"tw-relative",ref:c,children:[s.jsx(Ke,{disabled:g,buttonProps:Ie,isFocusVisible:be,isOpen:m,validation:me,emphasis:de,children:s.jsx("div",{className:ue(["tw-flex tw-flex-1 tw-gap-2",Ne(M)]),ref:ve,children:s.jsx("div",{className:"tw-flex tw-flex-1 tw-gap-2 focus:tw-outline-0",onClick:e=>{e.target===he.current&&m||A()},role:"combobox","aria-expanded":m,"aria-controls":N,"aria-label":n,...Se,tabIndex:0,onKeyDown:Ce,children:s.jsxs("div",{className:"tw-flex tw-flex-wrap tw-gap-2 tw-outline-none tw-items-center tw-min-h-[28px]",children:[q&&L&&s.jsx("span",{className:"tw-body-medium-strong tw-text-primary",children:q}),D==="Default"&&a.map(e=>s.jsx(F,{type:O(),label:e.toString(),size:M==="Small"?C.Small:C.Medium,onClick:g?void 0:()=>ke(e)},e)),D==="Summarized"&&(L||E)&&s.jsx(F,{type:O(),label:we,size:M==="Small"?C.Small:C.Medium,onClick:(l==null?void 0:l.length)===0?()=>i([]):void 0}),a.length===0&&u&&s.jsx("span",{className:"tw-body-medium tw-text-secondary",children:u})]})})})}),m&&xe&&s.jsx(Ve,{enablePortal:ge,children:s.jsx("div",{id:N,ref:z,className:"tw-absolute tw-left-0 tw-w-full tw-overflow-hidden tw-p-0 tw-shadow-mid tw-list-none tw-m-0 tw-mt-2 tw-z-[120000] tw-bg-base tw-min-w-72",style:{...k.styles.popper,width:p==null?void 0:p.getBoundingClientRect().width},...k.attributes.popper,children:s.jsx(qe,{restoreFocus:!0,children:s.jsx("div",{className:"tw-p-4 tw-overflow-y-auto tw-overflow-x-hidden tw-w-full tw-relative",style:{maxHeight:V},children:s.jsx(Me,{activeValues:a.map(e=>e.toString()),setActiveValues:i,checkboxes:ye.filter(e=>!e.isDivider&&!e.isCategory),direction:Ae.Vertical,ariaLabel:n})})})},"content")})]})};d.displayName="FondueMultiSelect";d.__docgenInfo={description:"",methods:[],displayName:"FondueMultiSelect",props:{items:{required:!0,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
    value: string;
    isCategory?: boolean;
    isDivider?: boolean;
    avatar?: ReactNode;
    imgSrc?: string;
    ariaLabel?: string;
}`,signature:{properties:[{key:"value",value:{name:"string",required:!0}},{key:"isCategory",value:{name:"boolean",required:!1}},{key:"isDivider",value:{name:"boolean",required:!1}},{key:"avatar",value:{name:"ReactNode",required:!1}},{key:"imgSrc",value:{name:"string",required:!1}},{key:"ariaLabel",value:{name:"string",required:!1}}]}}],raw:"MultiSelectItem[]"},description:""},activeItemKeys:{required:!0,tsType:{name:"Array",elements:[{name:"unknown"}],raw:"(string | number)[]"},description:""},disabled:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},onSelectionChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(keys: (string | number)[]) => void",signature:{arguments:[{type:{name:"Array",elements:[{name:"unknown"}],raw:"(string | number)[]"},name:"keys"}],return:{name:"void"}}},description:""},ariaLabel:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"'Select list'",computed:!1}},label:{required:!1,tsType:{name:"string"},description:""},placeholder:{required:!1,tsType:{name:"string"},description:""},type:{required:!1,tsType:{name:"MultiSelectType"},description:"",defaultValue:{value:"MultiSelectType.Default",computed:!0}},size:{required:!1,tsType:{name:"MultiSelectSize"},description:"",defaultValue:{value:"MultiSelectSize.Medium",computed:!0}},validation:{required:!1,tsType:{name:"Validation"},description:"",defaultValue:{value:"Validation.Default",computed:!0}},summarizedLabel:{required:!1,tsType:{name:"string"},description:""},indeterminateItemKeys:{required:!1,tsType:{name:"Array",elements:[{name:"unknown"}],raw:"(string | number)[]"},description:""},flip:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},emphasis:{required:!1,tsType:{name:"TriggerEmphasis"},description:"",defaultValue:{value:"TriggerEmphasis.Default",computed:!0}},enablePortal:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"true",computed:!1}}}};const mt={title:"Legacy Components/Multi Select",component:d,tags:["autodocs"],args:{type:S.Default,size:w.Medium,placeholder:"Labels",label:"Labels",activeItemKeys:["Short tag","Tag 74"],items:[{value:"Checkbox label 1"},{value:"Short tag"},{value:"Checkbox label 2"},{value:"Checkbox label 3"},{value:"Tag 74"},{value:"This is a long tag"}]},argTypes:{type:{options:Object.keys(S),control:{type:"select"}},emphasis:{options:Object.keys(j),control:{type:"select"}},size:{options:Object.keys(w),control:{type:"select"}},validation:{options:Object.values(ce),control:{type:"select"}},disabled:{type:"boolean"},flip:{type:"boolean"},ariaLabel:{type:"string"},summarizedLabel:{type:"string"},activeItemKeys:{table:{disable:!0}},indeterminateItemKeys:{table:{disable:!0}}},parameters:{docs:{description:{component:`### *Legacy component warning*
#### This is a unmaintained legacy component. It will be deprecated and replaced with a new component in an upcoming release.`}}}},x=t=>{const[a,i]=r.useState(t.activeItemKeys);return s.jsx(d,{...t,activeItemKeys:a,onSelectionChange:n=>i(n)})},Fe=t=>{const[a,i]=r.useState(t.activeItemKeys);return s.jsx(Te,{helper:{text:"Helper Text"},label:{children:"Multi-Select",htmlFor:""},children:s.jsx(d,{...t,activeItemKeys:a,onSelectionChange:n=>i(n)})})},$e=t=>{const[a,i]=r.useState(t.activeItemKeys);return s.jsx("div",{className:"tw-absolute tw-right-0 tw-p-6 tw-w-96",children:s.jsx(d,{...t,activeItemKeys:a,onSelectionChange:n=>i(n)})})},T=x.bind({}),y=x.bind({});y.args={activeItemKeys:[],placeholder:"Placeholder text"};const f=x.bind({});f.args={type:S.Summarized};const K=Fe.bind({}),v=x.bind({});v.args={type:S.Summarized,summarizedLabel:"Mixed values",indeterminateItemKeys:["This is a long tag"]};const h=$e.bind({});h.args={items:[{value:"Bacon ipsum dolor amet beef tri-tip rump, porchetta meatball andouille bacon shankle pancetta"},{value:"Short tag"},{value:"Checkbox label 2"},{value:"Checkbox label 3"},{value:"Tag 74"},{value:"This is a long tag"}],flip:!0};const b=x.bind({});b.args={activeItemKeys:[],placeholder:"Weak emphasis placeholder text",emphasis:j.Weak};var P,R,_;T.parameters={...T.parameters,docs:{...(P=T.parameters)==null?void 0:P.docs,source:{originalSource:`args => {
  const [activeItemKeys, setActiveItemKeys] = useState<(string | number)[]>(args.activeItemKeys);
  return <MultiSelectComponent {...args} activeItemKeys={activeItemKeys} onSelectionChange={keys => setActiveItemKeys(keys)} />;
}`,...(_=(R=T.parameters)==null?void 0:R.docs)==null?void 0:_.source}}};var H,B,G;y.parameters={...y.parameters,docs:{...(H=y.parameters)==null?void 0:H.docs,source:{originalSource:`args => {
  const [activeItemKeys, setActiveItemKeys] = useState<(string | number)[]>(args.activeItemKeys);
  return <MultiSelectComponent {...args} activeItemKeys={activeItemKeys} onSelectionChange={keys => setActiveItemKeys(keys)} />;
}`,...(G=(B=y.parameters)==null?void 0:B.docs)==null?void 0:G.source}}};var U,X,J;f.parameters={...f.parameters,docs:{...(U=f.parameters)==null?void 0:U.docs,source:{originalSource:`args => {
  const [activeItemKeys, setActiveItemKeys] = useState<(string | number)[]>(args.activeItemKeys);
  return <MultiSelectComponent {...args} activeItemKeys={activeItemKeys} onSelectionChange={keys => setActiveItemKeys(keys)} />;
}`,...(J=(X=f.parameters)==null?void 0:X.docs)==null?void 0:J.source}}};var Q,Y,Z;K.parameters={...K.parameters,docs:{...(Q=K.parameters)==null?void 0:Q.docs,source:{originalSource:`args => {
  const [activeItemKeys, setActiveItemKeys] = useState<(string | number)[]>(args.activeItemKeys);
  return <FormControl helper={{
    text: 'Helper Text'
  }} label={{
    children: 'Multi-Select',
    htmlFor: ''
  }}>
            <MultiSelectComponent {...args} activeItemKeys={activeItemKeys} onSelectionChange={keys => setActiveItemKeys(keys)} />
        </FormControl>;
}`,...(Z=(Y=K.parameters)==null?void 0:Y.docs)==null?void 0:Z.source}}};var ee,te,ae;v.parameters={...v.parameters,docs:{...(ee=v.parameters)==null?void 0:ee.docs,source:{originalSource:`args => {
  const [activeItemKeys, setActiveItemKeys] = useState<(string | number)[]>(args.activeItemKeys);
  return <MultiSelectComponent {...args} activeItemKeys={activeItemKeys} onSelectionChange={keys => setActiveItemKeys(keys)} />;
}`,...(ae=(te=v.parameters)==null?void 0:te.docs)==null?void 0:ae.source}}};var se,re,ie;h.parameters={...h.parameters,docs:{...(se=h.parameters)==null?void 0:se.docs,source:{originalSource:`args => {
  const [activeItemKeys, setActiveItemKeys] = useState<(string | number)[]>(args.activeItemKeys);
  return <div className="tw-absolute tw-right-0 tw-p-6 tw-w-96">
            <MultiSelectComponent {...args} activeItemKeys={activeItemKeys} onSelectionChange={keys => setActiveItemKeys(keys)} />
        </div>;
}`,...(ie=(re=h.parameters)==null?void 0:re.docs)==null?void 0:ie.source}}};var ne,oe,le;b.parameters={...b.parameters,docs:{...(ne=b.parameters)==null?void 0:ne.docs,source:{originalSource:`args => {
  const [activeItemKeys, setActiveItemKeys] = useState<(string | number)[]>(args.activeItemKeys);
  return <MultiSelectComponent {...args} activeItemKeys={activeItemKeys} onSelectionChange={keys => setActiveItemKeys(keys)} />;
}`,...(le=(oe=b.parameters)==null?void 0:oe.docs)==null?void 0:le.source}}};const pt=["MultiSelect","WithPlaceholder","WithOptionsSummarized","WithFormControl","WithMixedValues","WithRightAlignedContainer","WithWeakTriggerEmphasis"];export{T as MultiSelect,K as WithFormControl,v as WithMixedValues,f as WithOptionsSummarized,y as WithPlaceholder,h as WithRightAlignedContainer,b as WithWeakTriggerEmphasis,pt as __namedExportsOrder,mt as default};
