import{r as a}from"./index-i66itsuO.js";import{a as l,u as b}from"./index-lavJW8GG.js";function y({prop:e,defaultProp:u,onChange:o=()=>{}}){const[t,r]=h({defaultProp:u,onChange:o}),s=e!==void 0,c=s?e:t,i=l(o),f=a.useCallback(n=>{if(s){const d=typeof n=="function"?n(e):n;d!==e&&i(d)}else r(n)},[s,e,r,i]);return[c,f]}function h({defaultProp:e,onChange:u}){const o=a.useState(e),[t]=o,r=a.useRef(t),s=l(u);return a.useEffect(()=>{r.current!==t&&(s(t),r.current=t)},[t,r,s]),o}function g(e){const[u,o]=a.useState(void 0);return b(()=>{if(e){o({width:e.offsetWidth,height:e.offsetHeight});const t=new ResizeObserver(r=>{if(!Array.isArray(r)||!r.length)return;const s=r[0];let c,i;if("borderBoxSize"in s){const f=s.borderBoxSize,n=Array.isArray(f)?f[0]:f;c=n.inlineSize,i=n.blockSize}else c=e.offsetWidth,i=e.offsetHeight;o({width:c,height:i})});return t.observe(e,{box:"border-box"}),()=>t.unobserve(e)}else o(void 0)},[e]),u}export{g as a,y as u};
