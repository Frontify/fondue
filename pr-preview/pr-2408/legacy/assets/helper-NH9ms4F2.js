import{v as Pe,n as ce,l as Ie,B as ie,m as xe,D as Ne,a as De,t as de,o as ke,A as Me}from"./useFocusRing-ChZ7shwC.js";import{r as y,R as ue,j as he}from"./iframe-Q6jTPbLu.js";import{$ as Te,b as Be}from"./chain-D9i0b07P.js";import{e as Oe,b as Se,$ as U,f as re}from"./useFocusable-Bv1KETgF.js";import{$ as oe,a as z}from"./keyboard-DLaHSr0i.js";import{$ as ne}from"./useLayoutEffect-CNGvG9Li.js";import{a as He}from"./FocusScope-CKZCPTEq.js";import{r as We}from"./index-C3qdTENE.js";import{$ as we}from"./context-B_QYxr56.js";import{c as ze}from"./SelectionManager-BhFHhizd.js";function pe(i,e){const t=y.useRef(!0),l=y.useRef(null);ne(()=>(t.current=!0,()=>{t.current=!1}),[]),ne(()=>{t.current?t.current=!1:(!l.current||e.some((r,n)=>!Object.is(r,l[n])))&&i(),l.current=e},e)}function Ue(i,e){const t=[];for(;i&&i!==document.documentElement;)oe(i,e)&&t.push(i),i=i.parentElement;return t}let je=0;const te=new Map;function Ge(i){let[e,t]=y.useState();return ne(()=>{if(!i)return;let l=te.get(i);if(l)t(l.element.id);else{let r=`react-aria-description-${je++}`;t(r);let n=document.createElement("div");n.id=r,n.style.display="none",n.textContent=i,document.body.appendChild(n),l={refCount:0,element:n},te.set(i,l)}return l.refCount++,()=>{l&&--l.refCount===0&&(l.element.remove(),te.delete(i))}},[i]),{"aria-describedby":i?e:void 0}}function j(i,e,t,l){let r=Oe(t),n=t==null;y.useEffect(()=>{if(n||!i.current)return;let a=i.current;return a.addEventListener(e,r,l),()=>{a.removeEventListener(e,r,l)}},[i,e,l,n])}function Ee(i,e){let t=ve(i,e,"left"),l=ve(i,e,"top"),r=e.offsetWidth,n=e.offsetHeight,a=i.scrollLeft,u=i.scrollTop,{borderTopWidth:f,borderLeftWidth:h,scrollPaddingTop:w,scrollPaddingRight:g,scrollPaddingBottom:p,scrollPaddingLeft:K}=getComputedStyle(i),v=a+parseInt(h,10),$=u+parseInt(f,10),D=v+i.clientWidth,E=$+i.clientHeight,m=parseInt(w,10)||0,C=parseInt(p,10)||0,F=parseInt(g,10)||0,I=parseInt(K,10)||0;t<=a+I?a=t-parseInt(h,10)-I:t+r>D-F&&(a+=t+r-D+F),l<=$+m?u=l-parseInt(f,10)-m:l+n>E-C&&(u+=l+n-E+C),i.scrollLeft=a,i.scrollTop=u}function ve(i,e,t){const l=t==="left"?"offsetLeft":"offsetTop";let r=0;for(;e.offsetParent&&(r+=e[l],e.offsetParent!==i);){if(e.offsetParent.contains(i)){r-=i[l];break}e=e.offsetParent}return r}function ye(i,e){if(i&&document.contains(i)){let a=document.scrollingElement||document.documentElement,u=window.getComputedStyle(a).overflow==="hidden";if(u){let f=Ue(i);u||f.push(a);for(let h of f)Ee(h,i)}else{var t;let{left:f,top:h}=i.getBoundingClientRect();i==null||(t=i.scrollIntoView)===null||t===void 0||t.call(i,{block:"nearest"});let{left:w,top:g}=i.getBoundingClientRect();if(Math.abs(f-w)>1||Math.abs(h-g)>1){var l,r,n;e==null||(r=e.containingElement)===null||r===void 0||(l=r.scrollIntoView)===null||l===void 0||l.call(r,{block:"center",inline:"center"}),(n=i.scrollIntoView)===null||n===void 0||n.call(i,{block:"nearest"})}}}}const Ve="react-aria-clear-focus",Ye="react-aria-focus";let se=!1,G=0;function Xe(){se=!0,setTimeout(()=>{se=!1},50)}function be(i){i.pointerType==="touch"&&Xe()}function qe(){if(!(typeof document>"u"))return G===0&&typeof PointerEvent<"u"&&document.addEventListener("pointerup",be),G++,()=>{G--,!(G>0)&&typeof PointerEvent<"u"&&document.removeEventListener("pointerup",be)}}function Kt(i){let{onHoverStart:e,onHoverChange:t,onHoverEnd:l,isDisabled:r}=i,[n,a]=y.useState(!1),u=y.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;y.useEffect(qe,[]);let{addGlobalListener:f,removeAllGlobalListeners:h}=Pe(),{hoverProps:w,triggerHoverEnd:g}=y.useMemo(()=>{let p=($,D)=>{if(u.pointerType=D,r||D==="touch"||u.isHovered||!$.currentTarget.contains($.target))return;u.isHovered=!0;let E=$.currentTarget;u.target=E,f(ce($.target),"pointerover",m=>{u.isHovered&&u.target&&!Ie(u.target,m.target)&&K(m,m.pointerType)},{capture:!0}),e&&e({type:"hoverstart",target:E,pointerType:D}),t&&t(!0),a(!0)},K=($,D)=>{let E=u.target;u.pointerType="",u.target=null,!(D==="touch"||!u.isHovered||!E)&&(u.isHovered=!1,h(),l&&l({type:"hoverend",target:E,pointerType:D}),t&&t(!1),a(!1))},v={};return typeof PointerEvent<"u"&&(v.onPointerEnter=$=>{se&&$.pointerType==="mouse"||p($,$.pointerType)},v.onPointerLeave=$=>{!r&&$.currentTarget.contains($.target)&&K($,$.pointerType)}),{hoverProps:v,triggerHoverEnd:K}},[e,t,l,r,u,f,h]);return y.useEffect(()=>{r&&g({currentTarget:u.target},u.pointerType)},[r]),{hoverProps:w,isHovered:n}}const Ze=500;function Je(i){let{isDisabled:e,onLongPressStart:t,onLongPressEnd:l,onLongPress:r,threshold:n=Ze,accessibilityDescription:a}=i;const u=y.useRef(void 0);let{addGlobalListener:f,removeGlobalListener:h}=Pe(),{pressProps:w}=Se({isDisabled:e,onPressStart(p){if(p.continuePropagation(),(p.pointerType==="mouse"||p.pointerType==="touch")&&(t&&t({...p,type:"longpressstart"}),u.current=setTimeout(()=>{p.target.dispatchEvent(new PointerEvent("pointercancel",{bubbles:!0})),ce(p.target).activeElement!==p.target&&ie(p.target),r&&r({...p,type:"longpress"}),u.current=void 0},n),p.pointerType==="touch")){let K=v=>{v.preventDefault()};f(p.target,"contextmenu",K,{once:!0}),f(window,"pointerup",()=>{setTimeout(()=>{h(p.target,"contextmenu",K)},30)},{once:!0})}},onPressEnd(p){u.current&&clearTimeout(u.current),l&&(p.pointerType==="mouse"||p.pointerType==="touch")&&l({...p,type:"longpressend"})}}),g=Ge(r&&!e?a:void 0);return{longPressProps:U(w,g)}}function Fe(i){let e=_e(ce(i));e!==i&&(e&&Qe(e,i),i&&Re(i,e))}function Qe(i,e){i.dispatchEvent(new FocusEvent("blur",{relatedTarget:e})),i.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:e}))}function Re(i,e){i.dispatchEvent(new FocusEvent("focus",{relatedTarget:e})),i.dispatchEvent(new FocusEvent("focusin",{bubbles:!0,relatedTarget:e}))}function _e(i){let e=xe(i),t=e==null?void 0:e.getAttribute("aria-activedescendant");return t&&i.getElementById(t)||e}let le=new Map;function et(i){let{locale:e}=we(),t=e+(i?Object.entries(i).sort((r,n)=>r[0]<n[0]?-1:1).join():"");if(le.has(t))return le.get(t);let l=new Intl.Collator(e,i);return le.set(t,l),l}function ae(i){return Ne()?i.altKey:i.ctrlKey}function V(i,e){var t,l;let r=`[data-key="${CSS.escape(String(e))}"]`,n=(t=i.current)===null||t===void 0?void 0:t.dataset.collection;return n&&(r=`[data-collection="${CSS.escape(n)}"]${r}`),(l=i.current)===null||l===void 0?void 0:l.querySelector(r)}const Ce=new WeakMap;function tt(i){let e=Te();return Ce.set(i,e),e}function lt(i){return Ce.get(i)}const it=1e3;function rt(i){let{keyboardDelegate:e,selectionManager:t,onTypeSelect:l}=i,r=y.useRef({search:"",timeout:void 0}).current,n=a=>{let u=ot(a.key);if(!(!u||a.ctrlKey||a.metaKey||!a.currentTarget.contains(a.target)||r.search.length===0&&u===" ")){if(u===" "&&r.search.trim().length>0&&(a.preventDefault(),"continuePropagation"in a||a.stopPropagation()),r.search+=u,e.getKeyForSearch!=null){let f=e.getKeyForSearch(r.search,t.focusedKey);f==null&&(f=e.getKeyForSearch(r.search)),f!=null&&(t.setFocusedKey(f),l&&l(f))}clearTimeout(r.timeout),r.timeout=setTimeout(()=>{r.search=""},it)}};return{typeSelectProps:{onKeyDownCapture:e.getKeyForSearch?n:void 0}}}function ot(i){return i.length===1||!/^[A-Z]/i.test(i)?i:""}function nt(i){let{selectionManager:e,keyboardDelegate:t,ref:l,autoFocus:r=!1,shouldFocusWrap:n=!1,disallowEmptySelection:a=!1,disallowSelectAll:u=!1,escapeKeyBehavior:f="clearSelection",selectOnFocus:h=e.selectionBehavior==="replace",disallowTypeAhead:w=!1,shouldUseVirtualFocus:g,allowsTabNavigation:p=!1,isVirtualized:K,scrollRef:v=l,linkBehavior:$="action"}=i,{direction:D}=we(),E=De(),m=s=>{var d;if(s.altKey&&s.key==="Tab"&&s.preventDefault(),!(!((d=l.current)===null||d===void 0)&&d.contains(s.target)))return;const b=(c,O)=>{if(c!=null){if(e.isLink(c)&&$==="selection"&&h&&!ae(s)){We.flushSync(()=>{e.setFocusedKey(c,O)});let H=V(l,c),fe=e.getItemProps(c);H&&E.open(H,s,fe.href,fe.routerOptions);return}if(e.setFocusedKey(c,O),e.isLink(c)&&$==="override")return;s.shiftKey&&e.selectionMode==="multiple"?e.extendSelection(c):h&&!ae(s)&&e.replaceSelection(c)}};switch(s.key){case"ArrowDown":if(t.getKeyBelow){var P,S,o;let c=e.focusedKey!=null?(P=t.getKeyBelow)===null||P===void 0?void 0:P.call(t,e.focusedKey):(S=t.getFirstKey)===null||S===void 0?void 0:S.call(t);c==null&&n&&(c=(o=t.getFirstKey)===null||o===void 0?void 0:o.call(t,e.focusedKey)),c!=null&&(s.preventDefault(),b(c))}break;case"ArrowUp":if(t.getKeyAbove){var x,k,X;let c=e.focusedKey!=null?(x=t.getKeyAbove)===null||x===void 0?void 0:x.call(t,e.focusedKey):(k=t.getLastKey)===null||k===void 0?void 0:k.call(t);c==null&&n&&(c=(X=t.getLastKey)===null||X===void 0?void 0:X.call(t,e.focusedKey)),c!=null&&(s.preventDefault(),b(c))}break;case"ArrowLeft":if(t.getKeyLeftOf){var q,Z,J;let c=e.focusedKey!=null?(q=t.getKeyLeftOf)===null||q===void 0?void 0:q.call(t,e.focusedKey):null;c==null&&n&&(c=D==="rtl"?(Z=t.getFirstKey)===null||Z===void 0?void 0:Z.call(t,e.focusedKey):(J=t.getLastKey)===null||J===void 0?void 0:J.call(t,e.focusedKey)),c!=null&&(s.preventDefault(),b(c,D==="rtl"?"first":"last"))}break;case"ArrowRight":if(t.getKeyRightOf){var Q,_,ee;let c=e.focusedKey!=null?(Q=t.getKeyRightOf)===null||Q===void 0?void 0:Q.call(t,e.focusedKey):null;c==null&&n&&(c=D==="rtl"?(_=t.getLastKey)===null||_===void 0?void 0:_.call(t,e.focusedKey):(ee=t.getFirstKey)===null||ee===void 0?void 0:ee.call(t,e.focusedKey)),c!=null&&(s.preventDefault(),b(c,D==="rtl"?"last":"first"))}break;case"Home":if(t.getFirstKey){if(e.focusedKey===null&&s.shiftKey)return;s.preventDefault();let c=t.getFirstKey(e.focusedKey,z(s));e.setFocusedKey(c),c!=null&&(z(s)&&s.shiftKey&&e.selectionMode==="multiple"?e.extendSelection(c):h&&e.replaceSelection(c))}break;case"End":if(t.getLastKey){if(e.focusedKey===null&&s.shiftKey)return;s.preventDefault();let c=t.getLastKey(e.focusedKey,z(s));e.setFocusedKey(c),c!=null&&(z(s)&&s.shiftKey&&e.selectionMode==="multiple"?e.extendSelection(c):h&&e.replaceSelection(c))}break;case"PageDown":if(t.getKeyPageBelow&&e.focusedKey!=null){let c=t.getKeyPageBelow(e.focusedKey);c!=null&&(s.preventDefault(),b(c))}break;case"PageUp":if(t.getKeyPageAbove&&e.focusedKey!=null){let c=t.getKeyPageAbove(e.focusedKey);c!=null&&(s.preventDefault(),b(c))}break;case"a":z(s)&&e.selectionMode==="multiple"&&u!==!0&&(s.preventDefault(),e.selectAll());break;case"Escape":f==="clearSelection"&&!a&&e.selectedKeys.size!==0&&(s.stopPropagation(),s.preventDefault(),e.clearSelection());break;case"Tab":if(!p){if(s.shiftKey)l.current.focus();else{let c=He(l.current,{tabbable:!0}),O,H;do H=c.lastChild(),H&&(O=H);while(H);O&&(!O.contains(document.activeElement)||document.activeElement&&!ke(document.activeElement))&&ie(O)}break}}},C=y.useRef({top:0,left:0});j(v,"scroll",K?void 0:()=>{var s,d,b,P;C.current={top:(b=(s=v.current)===null||s===void 0?void 0:s.scrollTop)!==null&&b!==void 0?b:0,left:(P=(d=v.current)===null||d===void 0?void 0:d.scrollLeft)!==null&&P!==void 0?P:0}});let F=s=>{if(e.isFocused){s.currentTarget.contains(s.target)||e.setFocused(!1);return}if(s.currentTarget.contains(s.target)){if(e.setFocused(!0),e.focusedKey==null){var d,b;let o=k=>{k!=null&&(e.setFocusedKey(k),h&&!e.isSelected(k)&&e.replaceSelection(k))},x=s.relatedTarget;var P,S;x&&s.currentTarget.compareDocumentPosition(x)&Node.DOCUMENT_POSITION_FOLLOWING?o((P=e.lastSelectedKey)!==null&&P!==void 0?P:(d=t.getLastKey)===null||d===void 0?void 0:d.call(t)):o((S=e.firstSelectedKey)!==null&&S!==void 0?S:(b=t.getFirstKey)===null||b===void 0?void 0:b.call(t))}else!K&&v.current&&(v.current.scrollTop=C.current.top,v.current.scrollLeft=C.current.left);if(e.focusedKey!=null&&v.current){let o=V(l,e.focusedKey);o instanceof HTMLElement&&(!o.contains(document.activeElement)&&!g&&ie(o),de()==="keyboard"&&ye(o,{containingElement:l.current}))}}},I=s=>{s.currentTarget.contains(s.relatedTarget)||e.setFocused(!1)},R=y.useRef(!1);j(l,Ye,g?s=>{let{detail:d}=s;s.stopPropagation(),e.setFocused(!0),(d==null?void 0:d.focusStrategy)==="first"&&(R.current=!0)}:void 0),pe(()=>{if(R.current){var s,d;let b=(d=(s=t.getFirstKey)===null||s===void 0?void 0:s.call(t))!==null&&d!==void 0?d:null;if(b==null){let P=xe();Fe(l.current),Re(P,null),e.collection.size>0&&(R.current=!1)}else e.setFocusedKey(b),R.current=!1}},[e.collection]),pe(()=>{e.collection.size>0&&(R.current=!1)},[e.focusedKey]),j(l,Ve,g?s=>{var d;s.stopPropagation(),e.setFocused(!1),!((d=s.detail)===null||d===void 0)&&d.clearFocusKey&&e.setFocusedKey(null)}:void 0);const M=y.useRef(r),L=y.useRef(!1);y.useEffect(()=>{if(M.current){var s,d;let S=null;var b;r==="first"&&(S=(b=(s=t.getFirstKey)===null||s===void 0?void 0:s.call(t))!==null&&b!==void 0?b:null);var P;r==="last"&&(S=(P=(d=t.getLastKey)===null||d===void 0?void 0:d.call(t))!==null&&P!==void 0?P:null);let o=e.selectedKeys;if(o.size){for(let x of o)if(e.canSelectItem(x)){S=x;break}}e.setFocused(!0),e.setFocusedKey(S),S==null&&!g&&l.current&&re(l.current),e.collection.size>0&&(M.current=!1,L.current=!0)}});let B=y.useRef(e.focusedKey),N=y.useRef(null);y.useEffect(()=>{if(e.isFocused&&e.focusedKey!=null&&(e.focusedKey!==B.current||L.current)&&v.current&&l.current){let s=de(),d=V(l,e.focusedKey);if(!(d instanceof HTMLElement))return;(s==="keyboard"||L.current)&&(N.current&&cancelAnimationFrame(N.current),N.current=requestAnimationFrame(()=>{v.current&&(Ee(v.current,d),s!=="virtual"&&ye(d,{containingElement:l.current}))}))}!g&&e.isFocused&&e.focusedKey==null&&B.current!=null&&l.current&&re(l.current),B.current=e.focusedKey,L.current=!1}),y.useEffect(()=>()=>{N.current&&cancelAnimationFrame(N.current)},[]),j(l,"react-aria-focus-scope-restore",s=>{s.preventDefault(),e.setFocused(!0)});let A={onKeyDown:m,onFocus:F,onBlur:I,onMouseDown(s){v.current===s.target&&s.preventDefault()}},{typeSelectProps:W}=rt({keyboardDelegate:t,selectionManager:e});w||(A=U(W,A));let T;g||(T=e.focusedKey==null?0:-1);let Y=tt(e.collection);return{collectionProps:U(A,{tabIndex:T,"data-collection":Y})}}function Pt(i){let{id:e,selectionManager:t,key:l,ref:r,shouldSelectOnPressUp:n,shouldUseVirtualFocus:a,focus:u,isDisabled:f,onAction:h,allowsDifferentPressOrigin:w,linkBehavior:g="action"}=i,p=De();e=Te(e);let K=o=>{if(o.pointerType==="keyboard"&&ae(o))t.toggleSelection(l);else{if(t.selectionMode==="none")return;if(t.isLink(l)){if(g==="selection"&&r.current){let x=t.getItemProps(l);p.open(r.current,o,x.href,x.routerOptions),t.setSelectedKeys(t.selectedKeys);return}else if(g==="override"||g==="none")return}t.selectionMode==="single"?t.isSelected(l)&&!t.disallowEmptySelection?t.toggleSelection(l):t.replaceSelection(l):o&&o.shiftKey?t.extendSelection(l):t.selectionBehavior==="toggle"||o&&(z(o)||o.pointerType==="touch"||o.pointerType==="virtual")?t.toggleSelection(l):t.replaceSelection(l)}};y.useEffect(()=>{l===t.focusedKey&&t.isFocused&&(a?Fe(r.current):u?u():document.activeElement!==r.current&&r.current&&re(r.current))},[r,l,t.focusedKey,t.childFocusStrategy,t.isFocused,a]),f=f||t.isDisabled(l);let v={};!a&&!f?v={tabIndex:l===t.focusedKey?0:-1,onFocus(o){o.target===r.current&&t.setFocusedKey(l)}}:f&&(v.onMouseDown=o=>{o.preventDefault()});let $=t.isLink(l)&&g==="override",D=h&&i.UNSTABLE_itemBehavior==="action",E=t.isLink(l)&&g!=="selection"&&g!=="none",m=!f&&t.canSelectItem(l)&&!$&&!D,C=(h||E)&&!f,F=C&&(t.selectionBehavior==="replace"?!m:!m||t.isEmpty),I=C&&m&&t.selectionBehavior==="replace",R=F||I,M=y.useRef(null),L=R&&m,B=y.useRef(!1),N=y.useRef(!1),A=t.getItemProps(l),W=o=>{if(h){var x;h(),(x=r.current)===null||x===void 0||x.dispatchEvent(new CustomEvent("react-aria-item-action",{bubbles:!0}))}E&&r.current&&p.open(r.current,o,A.href,A.routerOptions)},T={ref:r};if(n?(T.onPressStart=o=>{M.current=o.pointerType,B.current=L,o.pointerType==="keyboard"&&(!R||$e())&&K(o)},w?(T.onPressUp=F?void 0:o=>{o.pointerType==="mouse"&&m&&K(o)},T.onPress=F?W:o=>{o.pointerType!=="keyboard"&&o.pointerType!=="mouse"&&m&&K(o)}):T.onPress=o=>{if(F||I&&o.pointerType!=="mouse"){if(o.pointerType==="keyboard"&&!ge())return;W(o)}else o.pointerType!=="keyboard"&&m&&K(o)}):(T.onPressStart=o=>{M.current=o.pointerType,B.current=L,N.current=F,m&&(o.pointerType==="mouse"&&!F||o.pointerType==="keyboard"&&(!C||$e()))&&K(o)},T.onPress=o=>{(o.pointerType==="touch"||o.pointerType==="pen"||o.pointerType==="virtual"||o.pointerType==="keyboard"&&R&&ge()||o.pointerType==="mouse"&&N.current)&&(R?W(o):m&&K(o))}),v["data-collection"]=lt(t.collection),v["data-key"]=l,T.preventFocusOnPress=a,a&&(T=U(T,{onPressStart(o){o.pointerType!=="touch"&&(t.setFocused(!0),t.setFocusedKey(l))},onPress(o){o.pointerType==="touch"&&(t.setFocused(!0),t.setFocusedKey(l))}})),A)for(let o of["onPressStart","onPressEnd","onPressChange","onPress","onPressUp","onClick"])A[o]&&(T[o]=Be(T[o],A[o]));let{pressProps:Y,isPressed:s}=Se(T),d=I?o=>{M.current==="mouse"&&(o.stopPropagation(),o.preventDefault(),W(o))}:void 0,{longPressProps:b}=Je({isDisabled:!L,onLongPress(o){o.pointerType==="touch"&&(K(o),t.setSelectionBehavior("toggle"))}}),P=o=>{M.current==="touch"&&B.current&&o.preventDefault()},S=g!=="none"&&t.isLink(l)?o=>{Me.isOpening||o.preventDefault()}:void 0;return{itemProps:U(v,m||F||a&&!f?Y:{},L?b:{},{onDoubleClick:d,onDragStartCapture:P,onClick:S,id:e},a?{onMouseDown:o=>o.preventDefault()}:void 0),isPressed:s,isSelected:t.isSelected(l),isFocused:t.isFocused&&t.focusedKey===l,isDisabled:f,allowsSelection:m,hasAction:R}}function ge(){let i=window.event;return(i==null?void 0:i.key)==="Enter"}function $e(){let i=window.event;return(i==null?void 0:i.key)===" "||(i==null?void 0:i.code)==="Space"}class me{getItemRect(e){let t=this.ref.current;if(!t)return null;let l=e!=null?V(this.ref,e):null;if(!l)return null;let r=t.getBoundingClientRect(),n=l.getBoundingClientRect();return{x:n.left-r.left-t.clientLeft+t.scrollLeft,y:n.top-r.top-t.clientTop+t.scrollTop,width:n.width,height:n.height}}getContentSize(){let e=this.ref.current;var t,l;return{width:(t=e==null?void 0:e.scrollWidth)!==null&&t!==void 0?t:0,height:(l=e==null?void 0:e.scrollHeight)!==null&&l!==void 0?l:0}}getVisibleRect(){let e=this.ref.current;var t,l,r,n;return{x:(t=e==null?void 0:e.scrollLeft)!==null&&t!==void 0?t:0,y:(l=e==null?void 0:e.scrollTop)!==null&&l!==void 0?l:0,width:(r=e==null?void 0:e.clientWidth)!==null&&r!==void 0?r:0,height:(n=e==null?void 0:e.clientHeight)!==null&&n!==void 0?n:0}}constructor(e){this.ref=e}}class st{isDisabled(e){var t;return this.disabledBehavior==="all"&&(((t=e.props)===null||t===void 0?void 0:t.isDisabled)||this.disabledKeys.has(e.key))}findNextNonDisabled(e,t){let l=e;for(;l!=null;){let r=this.collection.getItem(l);if((r==null?void 0:r.type)==="item"&&!this.isDisabled(r))return l;l=t(l)}return null}getNextKey(e){let t=e;return t=this.collection.getKeyAfter(t),this.findNextNonDisabled(t,l=>this.collection.getKeyAfter(l))}getPreviousKey(e){let t=e;return t=this.collection.getKeyBefore(t),this.findNextNonDisabled(t,l=>this.collection.getKeyBefore(l))}findKey(e,t,l){let r=e,n=this.layoutDelegate.getItemRect(r);if(!n||r==null)return null;let a=n;do{if(r=t(r),r==null)break;n=this.layoutDelegate.getItemRect(r)}while(n&&l(a,n)&&r!=null);return r}isSameRow(e,t){return e.y===t.y||e.x!==t.x}isSameColumn(e,t){return e.x===t.x||e.y!==t.y}getKeyBelow(e){return this.layout==="grid"&&this.orientation==="vertical"?this.findKey(e,t=>this.getNextKey(t),this.isSameRow):this.getNextKey(e)}getKeyAbove(e){return this.layout==="grid"&&this.orientation==="vertical"?this.findKey(e,t=>this.getPreviousKey(t),this.isSameRow):this.getPreviousKey(e)}getNextColumn(e,t){return t?this.getPreviousKey(e):this.getNextKey(e)}getKeyRightOf(e){let t=this.direction==="ltr"?"getKeyRightOf":"getKeyLeftOf";return this.layoutDelegate[t]?(e=this.layoutDelegate[t](e),this.findNextNonDisabled(e,l=>this.layoutDelegate[t](l))):this.layout==="grid"?this.orientation==="vertical"?this.getNextColumn(e,this.direction==="rtl"):this.findKey(e,l=>this.getNextColumn(l,this.direction==="rtl"),this.isSameColumn):this.orientation==="horizontal"?this.getNextColumn(e,this.direction==="rtl"):null}getKeyLeftOf(e){let t=this.direction==="ltr"?"getKeyLeftOf":"getKeyRightOf";return this.layoutDelegate[t]?(e=this.layoutDelegate[t](e),this.findNextNonDisabled(e,l=>this.layoutDelegate[t](l))):this.layout==="grid"?this.orientation==="vertical"?this.getNextColumn(e,this.direction==="ltr"):this.findKey(e,l=>this.getNextColumn(l,this.direction==="ltr"),this.isSameColumn):this.orientation==="horizontal"?this.getNextColumn(e,this.direction==="ltr"):null}getFirstKey(){let e=this.collection.getFirstKey();return this.findNextNonDisabled(e,t=>this.collection.getKeyAfter(t))}getLastKey(){let e=this.collection.getLastKey();return this.findNextNonDisabled(e,t=>this.collection.getKeyBefore(t))}getKeyPageAbove(e){let t=this.ref.current,l=this.layoutDelegate.getItemRect(e);if(!l)return null;if(t&&!oe(t))return this.getFirstKey();let r=e;if(this.orientation==="horizontal"){let n=Math.max(0,l.x+l.width-this.layoutDelegate.getVisibleRect().width);for(;l&&l.x>n&&r!=null;)r=this.getKeyAbove(r),l=r==null?null:this.layoutDelegate.getItemRect(r)}else{let n=Math.max(0,l.y+l.height-this.layoutDelegate.getVisibleRect().height);for(;l&&l.y>n&&r!=null;)r=this.getKeyAbove(r),l=r==null?null:this.layoutDelegate.getItemRect(r)}return r??this.getFirstKey()}getKeyPageBelow(e){let t=this.ref.current,l=this.layoutDelegate.getItemRect(e);if(!l)return null;if(t&&!oe(t))return this.getLastKey();let r=e;if(this.orientation==="horizontal"){let n=Math.min(this.layoutDelegate.getContentSize().width,l.y-l.width+this.layoutDelegate.getVisibleRect().width);for(;l&&l.x<n&&r!=null;)r=this.getKeyBelow(r),l=r==null?null:this.layoutDelegate.getItemRect(r)}else{let n=Math.min(this.layoutDelegate.getContentSize().height,l.y-l.height+this.layoutDelegate.getVisibleRect().height);for(;l&&l.y<n&&r!=null;)r=this.getKeyBelow(r),l=r==null?null:this.layoutDelegate.getItemRect(r)}return r??this.getLastKey()}getKeyForSearch(e,t){if(!this.collator)return null;let l=this.collection,r=t||this.getFirstKey();for(;r!=null;){let n=l.getItem(r);if(!n)return null;let a=n.textValue.slice(0,e.length);if(n.textValue&&this.collator.compare(a,e)===0)return r;r=this.getNextKey(r)}return null}constructor(...e){if(e.length===1){let t=e[0];this.collection=t.collection,this.ref=t.ref,this.collator=t.collator,this.disabledKeys=t.disabledKeys||new Set,this.disabledBehavior=t.disabledBehavior||"all",this.orientation=t.orientation||"vertical",this.direction=t.direction,this.layout=t.layout||"stack",this.layoutDelegate=t.layoutDelegate||new me(t.ref)}else this.collection=e[0],this.disabledKeys=e[1],this.ref=e[2],this.collator=e[3],this.layout="stack",this.orientation="vertical",this.disabledBehavior="all",this.layoutDelegate=new me(this.ref);this.layout==="stack"&&this.orientation==="vertical"&&(this.getKeyLeftOf=void 0,this.getKeyRightOf=void 0)}}function xt(i){let{selectionManager:e,collection:t,disabledKeys:l,ref:r,keyboardDelegate:n,layoutDelegate:a}=i,u=et({usage:"search",sensitivity:"base"}),f=e.disabledBehavior,h=y.useMemo(()=>n||new st({collection:t,disabledKeys:l,disabledBehavior:f,ref:r,collator:u,layoutDelegate:a}),[n,a,t,l,r,u,f]),{collectionProps:w}=nt({...i,ref:r,selectionManager:e,keyboardDelegate:h});return{listProps:w}}function Le(i){return null}Le.getCollectionNode=function*(e,t){let{childItems:l,title:r,children:n}=e,a=e.title||e.children,u=e.textValue||(typeof a=="string"?a:"")||e["aria-label"]||"";!u&&(t!=null&&t.suppressTextValueWarning),yield{type:"item",props:e,rendered:a,textValue:u,"aria-label":e["aria-label"],hasChildNodes:at(e),*childNodes(){if(l)for(let f of l)yield{type:"item",value:f};else if(r){let f=[];ue.Children.forEach(n,h=>{f.push({type:"item",element:h})}),yield*f}}}};function at(i){return i.hasChildItems!=null?i.hasChildItems:!!(i.childItems||i.title&&ue.Children.count(i.children)>0)}let ct=Le;function Ae(i){return null}Ae.getCollectionNode=function*(e){let{children:t,title:l,items:r}=e;yield{type:"section",props:e,hasChildNodes:!0,rendered:l,"aria-label":e["aria-label"],*childNodes(){if(typeof t=="function"){if(!r)throw new Error("props.children was a function but props.items is missing");for(let n of r)yield{type:"item",value:n,renderer:t}}else{let n=[];ue.Children.forEach(t,a=>{n.push({type:"item",element:a})}),yield*n}}}};let ut=Ae;const Ke=new WeakMap;function Dt(i){let e=Ke.get(i);if(e!=null)return e;let t=0,l=r=>{for(let n of r)n.type==="section"?l(ze(n,i)):n.type==="item"&&t++};return l(i),Ke.set(i,t),t}const Tt=(i,e)=>({"aria-label":i,children:e.map(({id:t,menuItems:l,ariaLabel:r})=>he.jsx(ut,{title:t,"aria-label":r,children:l.map(n=>he.jsx(ct,{children:n.title},n.id))},t))}),St=i=>i.flatMap(({menuItems:e})=>e),wt=i=>i.reduce((e,t)=>({...e,[t.id]:t}),{}),Et=i=>new Set(i.reduce((e,t)=>[...e,t.disabled?t.id:""],[]).filter(e=>e!=="").map(e=>e.toString()));export{xt as $,Pt as a,ct as b,Dt as c,Kt as d,wt as e,Et as f,St as g,et as h,st as i,rt as j,Je as k,Tt as m};
