import{r as g,a as A,j as p}from"./iframe-DLd4WZJZ.js";import{$ as ze,c as rt,T as st,a as dt,d as be,C as ut,b as ct}from"./Checklist-BTjhq010.js";import{$ as mt}from"./LegacyTooltip-C3aoYE4F.js";import{$ as ft,a as pt}from"./FocusScope-XBxOyUkn.js";import{e as bt,f as Ue,g as _e,h as vt,i as gt,b as ve,c as yt,$ as te,j as ht}from"./useFocusRing-C3R0V8mE.js";import{a as G,$ as T,u as wt,b as ge,d as xt}from"./usePopper-BYrUHtW_.js";import{o as $t,p as St,k as Pt,q as It,e as Ct,f as kt,g as Dt,d as Ft,$ as Mt,a as Vt,b as Tt,c as Kt,h as ne,i as At,m as Bt,j as He,l as jt,n as ye}from"./helper-DT-Yaqzs.js";import{a as Q,b as Ge,$ as he}from"./chain-ClNFszml.js";import{$ as Ye,d as Xe,e as Je}from"./Checkbox-v77oayth.js";import{$ as Rt,a as Qe}from"./VisuallyHidden-CnsGSbG0.js";import{$ as Ze}from"./useControlledState-BYgXI4eT.js";import{m as R}from"./merge-DI-veSMP.js";import{a as Nt,F as qt}from"./focusStyle-hm6eSJHh.js";import{M as Et,b as ee,m as Lt,a as Ot,c as Wt,d as H,e as zt}from"./MenuItem-DxJKEJ0d.js";import{L as Ut,a as _t}from"./LoadingCircle-BYRloOmJ.js";import{u as Ht,E as Gt,D as Yt}from"./EnablePortalWrapper-v5XqhkCa.js";import{u as et,g as Xt}from"./useMemoizedId-D0dchfWt.js";import{V as we}from"./validation-DnizjOrp.js";import{m as Jt}from"./proxy-Bb6C99xQ.js";import{T as Z}from"./TextInput-MyTPNLkc.js";import{a as J,b as xe,H as Qt,F as N}from"./FormControl--UjtNYLL.js";import"./preload-helper-DyHTrhc7.js";import"./fondue-icons369-GDrmXGJE.js";import"./index-Bx8Ak1Oi.js";import"./useLayoutEffect--7U9ZmH-.js";import"./index-D6EDfIY-.js";import"./InputLabel-CjO9BBgF.js";import"./elements-BOYmskOL.js";const le=new WeakMap;function Zt(e,t,l){let{keyboardDelegate:n,isDisabled:u,isRequired:r,name:i,form:o,validationBehavior:s="aria"}=e,c=$t({usage:"search",sensitivity:"base"}),a=g.useMemo(()=>n||new St(t.collection,t.disabledKeys,l,c),[n,t.collection,t.disabledKeys,c,l]),{menuTriggerProps:d,menuProps:y}=Pt({isDisabled:u,type:"listbox"},t,l),h=$=>{if(t.selectionManager.selectionMode!=="multiple")switch($.key){case"ArrowLeft":{var D,M;$.preventDefault();let V=t.selectedKey!=null?(D=a.getKeyAbove)===null||D===void 0?void 0:D.call(a,t.selectedKey):(M=a.getFirstKey)===null||M===void 0?void 0:M.call(a);V&&t.setSelectedKey(V);break}case"ArrowRight":{var B,K;$.preventDefault();let V=t.selectedKey!=null?(B=a.getKeyBelow)===null||B===void 0?void 0:B.call(a,t.selectedKey):(K=a.getFirstKey)===null||K===void 0?void 0:K.call(a);V&&t.setSelectedKey(V);break}}},{typeSelectProps:v}=It({keyboardDelegate:a,selectionManager:t.selectionManager,onTypeSelect($){t.setSelectedKey($)}}),{isInvalid:S,validationErrors:P,validationDetails:I}=t.displayValidation,{labelProps:w,fieldProps:k,descriptionProps:b,errorMessageProps:m}=ze({...e,labelElementType:"span",isInvalid:S,errorMessage:e.errorMessage||P});v.onKeyDown=v.onKeyDownCapture,delete v.onKeyDownCapture,t.selectionManager.selectionMode==="multiple"&&(v={});let f=G(e,{labelable:!0}),x=T(v,d,k),C=Q();return le.set(t,{isDisabled:u,isRequired:r,name:i,form:o,validationBehavior:s}),{labelProps:{...w,onClick:()=>{if(!e.isDisabled){var $;($=l.current)===null||$===void 0||$.focus(),Ue("keyboard")}}},triggerProps:T(f,{...x,isDisabled:u,onKeyDown:Ge(x.onKeyDown,h,e.onKeyDown),onKeyUp:e.onKeyUp,"aria-labelledby":[C,x["aria-labelledby"],x["aria-label"]&&!x["aria-labelledby"]?x.id:null].filter(Boolean).join(" "),onFocus($){t.isFocused||(e.onFocus&&e.onFocus($),e.onFocusChange&&e.onFocusChange(!0),t.setFocused(!0))},onBlur($){t.isOpen||(e.onBlur&&e.onBlur($),e.onFocusChange&&e.onFocusChange(!1),t.setFocused(!1))}}),valueProps:{id:C},menuProps:{...y,autoFocus:t.focusStrategy||!0,shouldSelectOnPressUp:!0,shouldFocusOnHover:!0,disallowEmptySelection:!0,linkBehavior:"selection",onBlur:$=>{bt($.currentTarget,$.relatedTarget)||(e.onBlur&&e.onBlur($),e.onFocusChange&&e.onFocusChange(!1),t.setFocused(!1))},"aria-labelledby":[k["aria-labelledby"],x["aria-label"]&&!k["aria-labelledby"]?x.id:null].filter(Boolean).join(" ")},descriptionProps:b,errorMessageProps:m,isInvalid:S,validationErrors:P,validationDetails:I,hiddenSelectProps:{isDisabled:u,name:i,label:e.label,state:t,triggerRef:l,form:o}}}function en(e,t,l){let n=le.get(t)||{},{autoComplete:u,name:r=n.name,form:i=n.form,isDisabled:o=n.isDisabled}=e,{validationBehavior:s,isRequired:c}=n,{visuallyHiddenProps:a}=Rt({style:{position:"fixed",top:0,left:0}});Ye(e.selectRef,t.defaultValue,t.setValue),Xe({validationBehavior:s,focus:()=>{var v;return(v=l.current)===null||v===void 0?void 0:v.focus()}},t,e.selectRef);let d=t.setValue,y=g.useCallback(v=>{v.target.multiple?d(Array.from(v.target.selectedOptions,S=>S.value)):d(v.currentTarget.value)},[d]);var h;return{containerProps:{...a,"aria-hidden":!0,"data-react-aria-prevent-focus":!0,"data-a11y-ignore":"aria-hidden-focus"},inputProps:{style:{display:"none"}},selectProps:{tabIndex:-1,autoComplete:u,disabled:o,multiple:t.selectionManager.selectionMode==="multiple",required:s==="native"&&c,name:r,form:i,value:(h=t.value)!==null&&h!==void 0?h:"",onChange:y,onInput:y}}}function tn(e){let{state:t,triggerRef:l,label:n,name:u,form:r,isDisabled:i}=e,o=g.useRef(null),s=g.useRef(null),{containerProps:c,selectProps:a}=en({...e,selectRef:t.collection.size<=300?o:s},t,l),d=Array.isArray(t.value)?t.value:[t.value];if(t.collection.size<=300)return A.createElement("div",{...c,"data-testid":"hidden-select-container"},A.createElement("label",null,n,A.createElement("select",{...a,ref:o},A.createElement("option",null),[...t.collection.getKeys()].map(y=>{let h=t.collection.getItem(y);if(h&&h.type==="item")return A.createElement("option",{key:h.key,value:h.key},h.textValue)}),t.collection.size===0&&u&&d.map((y,h)=>A.createElement("option",{key:h,value:y??""})))));if(u){let y=le.get(t)||{},{validationBehavior:h}=y;d.length===0&&(d=[null]);let v=d.map((S,P)=>{let I={type:"hidden",autoComplete:a.autoComplete,name:u,form:r,disabled:i,value:S??""};return h==="native"?A.createElement("input",{key:P,...I,ref:P===0?s:null,style:{display:"none"},type:"text",required:P===0?a.required:!1,onChange:()=>{}}):A.createElement("input",{key:P,...I,ref:P===0?s:null})});return A.createElement(A.Fragment,null,v)}return null}class $e{*[Symbol.iterator](){yield*this.iterable}get size(){return this._size}getKeys(){return this.keyMap.keys()}getKeyBefore(t){let l=this.keyMap.get(t);var n;return l&&(n=l.prevKey)!==null&&n!==void 0?n:null}getKeyAfter(t){let l=this.keyMap.get(t);var n;return l&&(n=l.nextKey)!==null&&n!==void 0?n:null}getFirstKey(){return this.firstKey}getLastKey(){return this.lastKey}getItem(t){var l;return(l=this.keyMap.get(t))!==null&&l!==void 0?l:null}at(t){const l=[...this.getKeys()];return this.getItem(l[t])}getChildren(t){let l=this.keyMap.get(t);return(l==null?void 0:l.childNodes)||[]}constructor(t){this.keyMap=new Map,this.firstKey=null,this.lastKey=null,this.iterable=t;let l=o=>{if(this.keyMap.set(o.key,o),o.childNodes&&o.type==="section")for(let s of o.childNodes)l(s)};for(let o of t)l(o);let n=null,u=0,r=0;for(let[o,s]of this.keyMap)n?(n.nextKey=o,s.prevKey=n.key):(this.firstKey=o,s.prevKey=void 0),s.type==="item"&&(s.index=u++),(s.type==="section"||s.type==="item")&&r++,n=s,n.nextKey=void 0;this._size=r;var i;this.lastKey=(i=n==null?void 0:n.key)!==null&&i!==void 0?i:null}}function nn(e){let{filter:t,layoutDelegate:l}=e,n=Ct(e),u=g.useMemo(()=>e.disabledKeys?new Set(e.disabledKeys):new Set,[e.disabledKeys]),r=g.useCallback(c=>t?new $e(t(c)):new $e(c),[t]),i=g.useMemo(()=>({suppressTextValueWarning:e.suppressTextValueWarning}),[e.suppressTextValueWarning]),o=kt(e,r,i),s=g.useMemo(()=>new Dt(o,n,{layoutDelegate:l}),[o,n,l]);return ln(o,s),{collection:o,disabledKeys:u,selectionManager:s}}function ln(e,t){const l=g.useRef(null);g.useEffect(()=>{if(t.focusedKey!=null&&!e.getItem(t.focusedKey)&&l.current){const a=l.current.getItem(t.focusedKey),d=[...l.current.getKeys()].map(I=>{const w=l.current.getItem(I);return(w==null?void 0:w.type)==="item"?w:null}).filter(I=>I!==null),y=[...e.getKeys()].map(I=>{const w=e.getItem(I);return(w==null?void 0:w.type)==="item"?w:null}).filter(I=>I!==null);var n,u;const h=((n=d==null?void 0:d.length)!==null&&n!==void 0?n:0)-((u=y==null?void 0:y.length)!==null&&u!==void 0?u:0);var r,i,o;let v=Math.min(h>1?Math.max(((r=a==null?void 0:a.index)!==null&&r!==void 0?r:0)-h+1,0):(i=a==null?void 0:a.index)!==null&&i!==void 0?i:0,((o=y==null?void 0:y.length)!==null&&o!==void 0?o:0)-1),S=null,P=!1;for(;v>=0;){if(!t.isDisabled(y[v].key)){S=y[v];break}if(v<y.length-1&&!P)v++;else{P=!0;var s,c;v>((s=a==null?void 0:a.index)!==null&&s!==void 0?s:0)&&(v=(c=a==null?void 0:a.index)!==null&&c!==void 0?c:0),v--}}t.setFocusedKey(S?S.key:null)}l.current=e},[e,t])}function an(e){let{selectionMode:t="single"}=e,l=Ft(e),[n,u]=g.useState(null),r=g.useMemo(()=>{var b;return e.defaultValue!==void 0?e.defaultValue:t==="single"?(b=e.defaultSelectedKey)!==null&&b!==void 0?b:null:[]},[e.defaultValue,e.defaultSelectedKey,t]),i=g.useMemo(()=>e.value!==void 0?e.value:t==="single"?e.selectedKey:void 0,[e.value,e.selectedKey,t]),[o,s]=Ze(i,r,e.onChange),c=t==="single"&&Array.isArray(o)?o[0]:o,a=b=>{if(t==="single"){var m,f;let x=Array.isArray(b)?(f=b[0])!==null&&f!==void 0?f:null:b;s(x),x!==c&&((m=e.onSelectionChange)===null||m===void 0||m.call(e,x))}else{let x=[];Array.isArray(b)?x=b:b!=null&&(x=[b]),s(x)}},d=nn({...e,selectionMode:t,disallowEmptySelection:t==="single",allowDuplicateSelectionEvents:!0,selectedKeys:g.useMemo(()=>on(c),[c]),onSelectionChange:b=>{if(b!=="all"){if(t==="single"){var m;let f=(m=b.values().next().value)!==null&&m!==void 0?m:null;a(f),l.close()}else a([...b]);v.commitValidation()}}}),y=d.selectionManager.firstSelectedKey,h=g.useMemo(()=>[...d.selectionManager.selectedKeys].map(b=>d.collection.getItem(b)).filter(b=>b!=null),[d.selectionManager.selectedKeys,d.collection]),v=Je({...e,value:Array.isArray(c)&&c.length===0?null:c}),[S,P]=g.useState(!1),[I]=g.useState(c);var w,k;return{...v,...d,...l,value:c,defaultValue:r??I,setValue:a,selectedKey:y,setSelectedKey:a,selectedItem:(w=h[0])!==null&&w!==void 0?w:null,selectedItems:h,defaultSelectedKey:(k=e.defaultSelectedKey)!==null&&k!==void 0?k:e.selectionMode==="single"?I:null,focusStrategy:n,open(b=null){(d.collection.size!==0||e.allowsEmptyCollection)&&(u(b),l.open())},toggle(b=null){(d.collection.size!==0||e.allowsEmptyCollection)&&(u(b),l.toggle())},isFocused:S,setFocused:P}}function on(e){if(e!==void 0)return e===null?[]:Array.isArray(e)?e:[e]}const ie=new WeakMap;function rn(e){return typeof e=="string"?e.replace(/\s*/g,""):""+e}function sn(e,t){let l=ie.get(e);if(!l)throw new Error("Unknown list");return`${l.id}-option-${rn(t)}`}function dn(e,t,l){let n=G(e,{labelable:!0}),u=e.selectionBehavior||"toggle",r=e.linkBehavior||(u==="replace"?"action":"override");u==="toggle"&&r==="action"&&(r="override");let{listProps:i}=Mt({...e,ref:l,selectionManager:t.selectionManager,collection:t.collection,disabledKeys:t.disabledKeys,linkBehavior:r}),{focusWithinProps:o}=_e({onFocusWithin:e.onFocus,onBlurWithin:e.onBlur,onFocusWithinChange:e.onFocusChange}),s=Q(e.id);ie.set(t,{id:s,shouldUseVirtualFocus:e.shouldUseVirtualFocus,shouldSelectOnPressUp:e.shouldSelectOnPressUp,shouldFocusOnHover:e.shouldFocusOnHover,isVirtualized:e.isVirtualized,onAction:e.onAction,linkBehavior:r,UNSTABLE_itemBehavior:e.UNSTABLE_itemBehavior});let{labelProps:c,fieldProps:a}=rt({...e,id:s,labelElementType:"span"});return{labelProps:c,listBoxProps:T(n,o,t.selectionManager.selectionMode==="multiple"?{"aria-multiselectable":"true"}:{},{role:"listbox",...T(a,i)})}}function un(e,t,l){var n,u;let{key:r}=e,i=ie.get(t);var o;let s=(o=e.isDisabled)!==null&&o!==void 0?o:t.selectionManager.isDisabled(r);var c;let a=(c=e.isSelected)!==null&&c!==void 0?c:t.selectionManager.isSelected(r);var d;let y=(d=e.shouldSelectOnPressUp)!==null&&d!==void 0?d:i==null?void 0:i.shouldSelectOnPressUp;var h;let v=(h=e.shouldFocusOnHover)!==null&&h!==void 0?h:i==null?void 0:i.shouldFocusOnHover;var S;let P=(S=e.shouldUseVirtualFocus)!==null&&S!==void 0?S:i==null?void 0:i.shouldUseVirtualFocus;var I;let w=(I=e.isVirtualized)!==null&&I!==void 0?I:i==null?void 0:i.isVirtualized,k=he(),b=he(),m={role:"option","aria-disabled":s||void 0,"aria-selected":t.selectionManager.selectionMode!=="none"?a:void 0};vt()&&gt()||(m["aria-label"]=e["aria-label"],m["aria-labelledby"]=k,m["aria-describedby"]=b);let f=t.collection.getItem(r);if(w){let j=Number(f==null?void 0:f.index);m["aria-posinset"]=Number.isNaN(j)?void 0:j+1,m["aria-setsize"]=Vt(t.collection)}let x=i!=null&&i.onAction?()=>{var j;return i==null||(j=i.onAction)===null||j===void 0?void 0:j.call(i,r)}:void 0,C=sn(t,r),{itemProps:$,isPressed:D,isFocused:M,hasAction:B,allowsSelection:K}=Tt({selectionManager:t.selectionManager,key:r,ref:l,shouldSelectOnPressUp:y,allowsDifferentPressOrigin:y&&v,isVirtualized:w,shouldUseVirtualFocus:P,isDisabled:s,onAction:x||!(f==null||(n=f.props)===null||n===void 0)&&n.onAction?Ge(f==null||(u=f.props)===null||u===void 0?void 0:u.onAction,x):void 0,linkBehavior:i==null?void 0:i.linkBehavior,UNSTABLE_itemBehavior:i==null?void 0:i.UNSTABLE_itemBehavior,id:C}),{hoverProps:V}=Kt({isDisabled:s||!v,onHoverStart(){ve()||(t.selectionManager.setFocused(!0),t.selectionManager.setFocusedKey(r))}}),F=G(f==null?void 0:f.props);delete F.id;let q=yt(f==null?void 0:f.props);return{optionProps:{...m,...T(F,$,V,q),id:C},labelProps:{id:k},descriptionProps:{id:b},isFocused:M,isFocusVisible:M&&t.selectionManager.isFocused&&ve(),isSelected:a,isDisabled:s,isPressed:D,allowsSelection:K,hasAction:B}}function cn(e){let{heading:t,"aria-label":l}=e,n=Q();return{itemProps:{role:"presentation"},headingProps:t?{id:n,role:"presentation",onMouseDown:u=>{u.preventDefault()}}:{},groupProps:{role:"group","aria-label":l,"aria-labelledby":t?n:void 0}}}const ae=({state:e,menuItem:t,node:l})=>{const n=g.useRef(null),{optionProps:u,isSelected:r}=un({key:l.key,shouldFocusOnHover:!1},e,n),{title:i,decorator:o,subtitle:s,size:c,style:a,disabled:d,selectionIndicator:y}=t,{isFocusVisible:h,focusProps:v}=te();return p.jsx("li",{...T(u,v),"data-test-id":"menu-item",className:R(["tw-relative hover:tw-bg-box-neutral-hover tw-list-none tw-outline-none",d&&"tw-pointer-events-none tw-top-px",h&&Nt]),ref:n,children:p.jsx(Et,{title:i,decorator:o,subtitle:s,size:c,style:a,disabled:d,active:r,selectionIndicator:y})})};ae.displayName="FondueSelectMenuItem";ae.__docgenInfo={description:"@deprecated Use `Select` from `@frontify/fondue/components` instead.",methods:[],displayName:"FondueSelectMenuItem",props:{state:{required:!0,tsType:{name:"ListState",elements:[{name:"object"}],raw:"ListState<object>"},description:""},menuItem:{required:!0,tsType:{name:"intersection",raw:"Omit<MenuItemProps, 'switchComponent'> & { id: string | number; link?: string }",elements:[{name:"Omit",elements:[{name:"MenuItemProps"},{name:"literal",value:"'switchComponent'"}],raw:"Omit<MenuItemProps, 'switchComponent'>"},{name:"signature",type:"object",raw:"{ id: string | number; link?: string }",signature:{properties:[{key:"id",value:{name:"union",raw:"string | number",elements:[{name:"string"},{name:"number"}],required:!0}},{key:"link",value:{name:"string",required:!1}}]}}]},description:""},node:{required:!0,tsType:{name:"Node",elements:[{name:"object"}],raw:"Node<object>"},description:""}}};const oe=({ariaLabel:e,children:t})=>{const{itemProps:l,groupProps:n}=cn({"aria-label":e});return p.jsx("li",{...l,className:"tw-border-b tw-border-b-line last:tw-border-0","data-test-id":"menu-block-divider",children:p.jsx("ul",{...n,className:"tw-py-2 tw-px-0 tw-m-0 tw-list-none","data-test-id":"menu-item-list",children:t})})};oe.displayName="FondueSelectMenuSection";oe.__docgenInfo={description:"@deprecated Use `Select` from `@frontify/fondue/components` instead.",methods:[],displayName:"FondueSelectMenuSection",props:{ariaLabel:{required:!1,tsType:{name:"string"},description:""},children:{required:!1,tsType:{name:"ReactNode"},description:""}}};const re=({menuBlocks:e,ariaProps:t,state:l,ariaLabel:n="Select Menu",scrollable:u=!1})=>{const r=ne(e),i=At(r),o=g.useRef(null),{listBoxProps:s}=dn({...t,"aria-label":n},l,o);return p.jsx("ul",{...s,ref:o,className:R(["tw-list-none tw-p-0 tw-m-0 tw-bg-base tw-z-20 focus-visible:tw-outline-none",u&&"tw-overflow-y-auto"]),children:[...l.collection].map(c=>p.jsx(oe,{ariaLabel:c["aria-label"],children:[...c.childNodes].map(a=>p.jsx(ae,{state:l,node:a,menuItem:i[a.key]},a.key))},c.key))})};re.displayName="FondueSelectMenu";re.__docgenInfo={description:"@deprecated Use `Select` from `@frontify/fondue/components` instead.",methods:[],displayName:"FondueSelectMenu",props:{menuBlocks:{required:!0,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
    id: string;
    menuItems: MenuItemType[];
    ariaLabel?: string;
}`,signature:{properties:[{key:"id",value:{name:"string",required:!0}},{key:"menuItems",value:{name:"Array",elements:[{name:"intersection",raw:"Omit<MenuItemProps, 'switchComponent'> & { id: string | number; link?: string }",elements:[{name:"Omit",elements:[{name:"MenuItemProps"},{name:"literal",value:"'switchComponent'"}],raw:"Omit<MenuItemProps, 'switchComponent'>"},{name:"signature",type:"object",raw:"{ id: string | number; link?: string }",signature:{properties:[{key:"id",value:{name:"union",raw:"string | number",elements:[{name:"string"},{name:"number"}],required:!0}},{key:"link",value:{name:"string",required:!1}}]}}]}],raw:"MenuItemType[]",required:!0}},{key:"ariaLabel",value:{name:"string",required:!1}}]}}],raw:"MenuBlock[]"},description:""},ariaProps:{required:!0,tsType:{name:"AriaListBoxOptions",elements:[{name:"any"}],raw:"AriaListBoxOptions<any>"},description:""},state:{required:!0,tsType:{name:"ListState",elements:[{name:"any"}],raw:"ListState<any>"},description:""},ariaLabel:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"'Select Menu'",computed:!1}},scrollable:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}}}};var tt=(e=>(e.Small="Small",e.Large="Large",e))(tt||{});const mn=(e,t)=>He(ne(e)).has(t)?null:e.map(({menuItems:n})=>n).flat().find(({id:n})=>n.toString()===(t==null?void 0:t.toString()))||null,se=({id:e,menuBlocks:t,onChange:l,activeItemId:n,placeholder:u="Select item",size:r="Small",disabled:i=!1,clearable:o=!1,ariaLabel:s="Dropdown",decorator:c,autoResize:a=!0,validation:d=we.Default,alignment:y="Start",position:h="Bottom",emphasis:v=dt.Default,flip:S=!1,"data-test-id":P="dropdown",enablePortal:I=!0})=>{var pe;const w=n?mn(t,n):null,k=Bt(s,t),b=an({...k,defaultSelectedKey:n,onSelectionChange:Y=>l(Y),disabledKeys:He(ne(t))}),m=g.useRef(null),{triggerProps:f,valueProps:x,menuProps:C}=Zt({...k,isDisabled:i},b,m),{buttonProps:$}=mt({...f,isDisabled:i},m),{isOpen:D}=b,{isFocusVisible:M,focusProps:B}=te(),K=g.useRef(null),{overlayProps:V}=jt({isOpen:D,onClose:()=>b.close(),shouldCloseOnBlur:!0,isDismissable:!0},K);g.useEffect(()=>{b.disabledKeys.has(n)||n!==b.selectedKey&&b.setSelectedKey(n)},[n]);const{maxHeight:F}=Ht(m,{isOpen:D,autoResize:a}),q=!a||F!==Yt,j=w?ee.Active:ee.Default,it=i?ee.Disabled:j,at=w?Lt[w.style||Ot.Primary][it]:"tw-text-text-x-weak",ue=o?()=>{b.setSelectedKey("");const Y=b.collection.getFirstKey();Y&&b.selectionManager.setFocusedKey(Y)}:void 0,ce=!!w&&!!ue,me=g.useRef(null),ot={"Top-Start":"top-start","Top-End":"top-end","Bottom-Start":"bottom-start","Bottom-End":"bottom-end"},fe=wt(m==null?void 0:m.current,me.current,{placement:ot[`${h}-${y}`],strategy:"fixed",modifiers:[{name:"offset",options:{offset:[0,8]}},{name:"flip",enabled:S}]});return p.jsxs("div",{className:"tw-relative tw-w-full tw-font-sans tw-text-s","data-test-id":P,children:[p.jsxs(st,{disabled:i,buttonProps:$,isFocusVisible:!i&&M,isOpen:D,size:r==="Large"?be.Large:be.Small,emphasis:v,onClear:ue,showClear:ce,validation:d,children:[p.jsx(tn,{state:b,triggerRef:m}),p.jsx("button",{type:"button",...T($,B),id:et(e),ref:m,"data-test-id":`${P}-trigger`,className:R(["tw-overflow-hidden tw-flex-auto tw-h-full tw-rounded tw-text-left tw-outline-none",r==="Small"?"tw-py-2 tw-pl-3 tw-min-h-[34px]":"tw-pl-5 tw-py-4 tw-min-h-[60px]",ce?"tw-pr-12":"tw-pr-8",at]),children:p.jsx(Wt,{ariaProps:x,title:(w==null?void 0:w.title)||u,decorator:c??(w==null?void 0:w.decorator),subtitle:w==null?void 0:w.subtitle,size:r==="Small"?H.Small:H.Large})})]}),!i&&D&&q&&p.jsx(Gt,{enablePortal:I,children:g.createElement("div",{ref:me,style:{...fe.styles.popper,width:(pe=m.current)==null?void 0:pe.getBoundingClientRect().width,minWidth:"fit-content"},...fe.attributes.popper,className:"tw-absolute tw-p-0 tw-shadow tw-list-none tw-m-0 tw-z-[120000] tw-min-w-full tw-overflow-hidden",key:"content"},p.jsx(ft,{restoreFocus:!0,children:p.jsxs("div",{...V,ref:K,style:a?{maxHeight:F}:{},className:"tw-flex tw-flex-col","data-test-id":`${P}-menu`,role:"dialog",children:[p.jsx(ye,{onDismiss:()=>close()}),p.jsx(re,{ariaProps:C,state:b,menuBlocks:t,scrollable:!0}),p.jsx(ye,{onDismiss:()=>close()})]})}))}),d===we.Loading&&p.jsx("span",{className:"tw-absolute tw-top-[-0.55rem] tw-right-[-0.55rem] tw-bg-base tw-rounded-full tw-p-[2px] tw-border tw-border-line-weak",children:p.jsx(Ut,{size:_t.ExtraSmall})})]})};se.displayName="FonduesDropdown";se.__docgenInfo={description:"@deprecated Use `Dropdown` from `@frontify/fondue/components` instead. Also check {@link https://github.com/Frontify/fondue/blob/main/packages/components/MIGRATING.md#dropdown the migration guide}.",methods:[],displayName:"FonduesDropdown",props:{id:{required:!1,tsType:{name:"string"},description:""},menuBlocks:{required:!0,tsType:{name:"Array",elements:[{name:"MenuBlock"}],raw:"MenuBlock[]"},description:""},onChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(id?: string | number) => void",signature:{arguments:[{type:{name:"union",raw:"string | number",elements:[{name:"string"},{name:"number"}]},name:"id"}],return:{name:"void"}}},description:""},activeItemId:{required:!1,tsType:{name:"union",raw:"string | number",elements:[{name:"string"},{name:"number"}]},description:""},placeholder:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"'Select item'",computed:!1}},size:{required:!1,tsType:{name:"DropdownSize"},description:"",defaultValue:{value:"DropdownSize.Small",computed:!0}},disabled:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},clearable:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},ariaLabel:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"'Dropdown'",computed:!1}},decorator:{required:!1,tsType:{name:"ReactElement"},description:""},autoResize:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"true",computed:!1}},validation:{required:!1,tsType:{name:"Validation"},description:"",defaultValue:{value:"Validation.Default",computed:!0}},alignment:{required:!1,tsType:{name:"DropdownAlignment"},description:"",defaultValue:{value:"DropdownAlignment.Start",computed:!0}},position:{required:!1,tsType:{name:"DropdownPosition"},description:"",defaultValue:{value:"DropdownPosition.Bottom",computed:!0}},emphasis:{required:!1,tsType:{name:"TriggerEmphasis"},description:"",defaultValue:{value:"TriggerEmphasis.Default",computed:!0}},flip:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},"data-test-id":{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"'dropdown'",computed:!1}},enablePortal:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"true",computed:!1}}}};const nt=new WeakMap;function fn(e,t,l){let{value:n,children:u,"aria-label":r,"aria-labelledby":i,onPressStart:o,onPressEnd:s,onPressChange:c,onPress:a,onPressUp:d,onClick:y}=e;const h=e.isDisabled||t.isDisabled;let v=u!=null,S=r!=null||i!=null,P=t.selectedValue===n,I=F=>{F.stopPropagation(),t.setSelectedValue(n)},{pressProps:w,isPressed:k}=ge({onPressStart:o,onPressEnd:s,onPressChange:c,onPress:a,onPressUp:d,onClick:y,isDisabled:h}),{pressProps:b,isPressed:m}=ge({onPressStart:o,onPressEnd:s,onPressChange:c,onPressUp:d,onClick:y,isDisabled:h,onPress(F){var q;a==null||a(F),t.setSelectedValue(n),(q=l.current)===null||q===void 0||q.focus()}}),{focusableProps:f}=xt(T(e,{onFocus:()=>t.setLastFocusedValue(n)}),l),x=T(w,f),C=G(e,{labelable:!0}),$=-1;t.selectedValue!=null?t.selectedValue===n&&($=0):(t.lastFocusedValue===n||t.lastFocusedValue==null)&&($=0),h&&($=void 0);let{name:D,form:M,descriptionId:B,errorMessageId:K,validationBehavior:V}=nt.get(t);return Ye(l,t.defaultSelectedValue,t.setSelectedValue),Xe({validationBehavior:V},t,l),{labelProps:T(b,g.useMemo(()=>({onClick:F=>F.preventDefault(),onMouseDown:F=>F.preventDefault()}),[])),inputProps:T(C,{...x,type:"radio",name:D,form:M,tabIndex:$,disabled:h,required:t.isRequired&&V==="native",checked:P,value:n,onChange:I,"aria-describedby":[e["aria-describedby"],t.isInvalid?K:null,B].filter(Boolean).join(" ")||void 0}),isDisabled:h,isSelected:P,isPressed:k||m}}function pn(e,t){let{name:l,form:n,isReadOnly:u,isRequired:r,isDisabled:i,orientation:o="vertical",validationBehavior:s="aria"}=e,{direction:c}=zt(),{isInvalid:a,validationErrors:d,validationDetails:y}=t.displayValidation,{labelProps:h,fieldProps:v,descriptionProps:S,errorMessageProps:P}=ze({...e,labelElementType:"span",isInvalid:t.isInvalid,errorMessage:e.errorMessage||d}),I=G(e,{labelable:!0}),{focusWithinProps:w}=_e({onBlurWithin(m){var f;(f=e.onBlur)===null||f===void 0||f.call(e,m),t.selectedValue||t.setLastFocusedValue(null)},onFocusWithin:e.onFocus,onFocusWithinChange:e.onFocusChange}),k=m=>{let f;switch(m.key){case"ArrowRight":c==="rtl"&&o!=="vertical"?f="prev":f="next";break;case"ArrowLeft":c==="rtl"&&o!=="vertical"?f="next":f="prev";break;case"ArrowDown":f="next";break;case"ArrowUp":f="prev";break;default:return}m.preventDefault();let x=pt(m.currentTarget,{from:m.target,accept:$=>$ instanceof ht($).HTMLInputElement&&$.type==="radio"}),C;f==="next"?(C=x.nextNode(),C||(x.currentNode=m.currentTarget,C=x.firstChild())):(C=x.previousNode(),C||(x.currentNode=m.currentTarget,C=x.lastChild())),C&&(C.focus(),t.setSelectedValue(C.value))},b=Q(l);return nt.set(t,{name:b,form:n,descriptionId:S.id,errorMessageId:P.id,validationBehavior:s}),{radioGroupProps:T(I,{role:"radiogroup",onKeyDown:k,"aria-invalid":t.isInvalid||void 0,"aria-errormessage":e["aria-errormessage"],"aria-readonly":u||void 0,"aria-required":r||void 0,"aria-disabled":i||void 0,"aria-orientation":o,...v,...w}),labelProps:h,descriptionProps:S,errorMessageProps:P,isInvalid:a,validationErrors:d,validationDetails:y}}let bn=Math.round(Math.random()*1e10),vn=0;function gn(e){let t=g.useMemo(()=>e.name||`radio-group-${bn}-${++vn}`,[e.name]);var l;let[n,u]=Ze(e.value,(l=e.defaultValue)!==null&&l!==void 0?l:null,e.onChange),[r]=g.useState(n),[i,o]=g.useState(null),s=Je({...e,value:n}),c=y=>{!e.isReadOnly&&!e.isDisabled&&(u(y),s.commitValidation())},a=s.displayValidation.isInvalid;var d;return{...s,name:t,selectedValue:n,defaultSelectedValue:e.value!==void 0?r:(d=e.defaultValue)!==null&&d!==void 0?d:null,setSelectedValue:c,lastFocusedValue:i,setLastFocusedValue:o,isDisabled:e.isDisabled||!1,isReadOnly:e.isReadOnly||!1,isRequired:e.isRequired||!1,validationState:e.validationState||(a?"invalid":null),isInvalid:a}}const X=e=>e.icon!==void 0,lt=g.forwardRef((e,t)=>{const{id:l,item:n,disabled:u,radioGroupState:r,size:i}=e,o=g.useRef(null),s=n.id===r.selectedValue,{inputProps:c}=fn({value:n.id,"aria-label":X(n)?n.ariaLabel:n.value.toString(),isDisabled:u,id:s?l:void 0},r,o),{isFocusVisible:a,focusProps:d}=te(),y=()=>{var v;u||(r.setSelectedValue(n.id),(v=o.current)==null||v.focus(),Ue("pointer"))},h=()=>{switch(!0){case X(n):return"fondue-segmented-controls-item-icon";case typeof n.value=="string":return"fondue-segmented-controls-item-text";default:return"fondue-segmented-controls-item-number"}};return p.jsxs("div",{ref:t,className:R(["tw-relative",a&&qt]),children:[p.jsx(Qe,{children:p.jsx("input",{...c,...d,"data-test-id":"fondue-segmented-controls-input",ref:o})}),p.jsx("div",{onClick:y,role:"none","data-test-id":h(),className:R(["tw-relative tw-w-full tw-py-1.5 tw-inline-flex tw-justify-center tw-items-center tw-font-sans tw-font-normal tw-h-full tw-text-center",i==="small"?"tw-px-2":"tw-px-4",s&&!u?"tw-transition tw-ease-in-out tw-delay-300 tw-text-text tw-bg-base":"tw-text-text-weak",u?"tw-text-box-disabled-inverse tw-bg-box-disabled tw-h-[2.15rem] tw-rounded hover:tw-cursor-not-allowed tw-border-line-x-strong":"hover:tw-text-text hover:tw-cursor-pointer"]),children:p.jsxs("span",{className:"tw-overflow-hidden tw-text-ellipsis tw-whitespace-nowrap tw-flex tw-items-center",children:[X(n)?p.jsx("span",{className:"tw-leading-3",children:n.icon}):null,n.value?p.jsx("span",{className:X(n)?"tw-ml-2":"",children:n.value.toString()}):null]})})]},n.id)});lt.displayName="SegmentedControlsItem";const de=({id:e,items:t,activeItemId:l,onChange:n,ariaLabel:u="SegmentedControls",disabled:r=!1,hugWidth:i=!1,size:o})=>{const s=g.useMemo(()=>t.some(m=>!m.disabled),[t]),c=et(e),a={onChange:n,value:l,label:u,isDisabled:r},d=gn(a),{radioGroupProps:y,labelProps:h}=pn(a,d),v=g.useRef([]),S=g.useRef(null),[P,I]=g.useState(null),w=g.useMemo(()=>t.map((m,f)=>p.jsx(lt,{id:c,item:m,disabled:m.disabled??r,radioGroupState:d,ref:x=>v.current[f]=x,size:o},`fondue-segmented-controls-${c}-item-${m.id}`)),[t,c,r,d,o]),k=s?t.findIndex((m,f)=>{const x=m.id===d.selectedValue;if(m.disabled&&x)if(f>0){const C=f-1;d.setSelectedValue(t[C].id)}else{const C=f+1;d.setSelectedValue(t[C].id)}return x}):-1,b=i?"tw-flex":"tw-grid tw-grid-flow-col tw-auto-cols-fr tw-justify-evenly";return g.useLayoutEffect(()=>{const m=v.current[k];if(m&&S.current){const f=S.current.getBoundingClientRect(),x=m.getBoundingClientRect();let C=x.left-f.left,$=x.width;k===0?(C-=1,$+=2):$+=1;const D=$/f.width*100,M=C/f.width*100;I({width:`${D}%`,left:`${M}%`})}},[l,k,o]),p.jsxs("div",{className:R([i?"tw-inline-flex":"tw-flex","tw-relative"]),children:[p.jsx("fieldset",{...y,"data-test-id":"fondue-segmented-controls",className:R(["tw-relative tw-divide-x tw-divide-line-strong tw-w-full tw-h-9 tw-p-0 tw-border tw-border-solid tw-border-line-strong tw-m-0 tw-bg-base-alt tw-rounded tw-font-sans tw-text-sm tw-select-none",b]),ref:S,children:w}),p.jsx(Qe,{children:p.jsx("span",{...h,children:u})}),l&&P&&p.jsx(Jt.div,{"aria-hidden":"true",animate:P,initial:!1,transition:{type:"tween",duration:.3},className:R(["tw-absolute tw-h-9 tw-box-border tw-border tw-rounded tw-pointer-events-none tw-top-0",r?"tw-border-line-x-strong hover:tw-cursor-not-allowed":"tw-border-line-xx-strong tw-bg-transparent"])})]})};de.displayName="FondueSegmentedControls";de.__docgenInfo={description:"@deprecated Use `SegmentedControl` from `@frontify/fondue/components` instead. Also check {@link https://github.com/Frontify/fondue/blob/main/packages/components/MIGRATING.md#segmented-control the migration guide}.",methods:[],displayName:"FondueSegmentedControls",props:{id:{required:!1,tsType:{name:"string"},description:""},items:{required:!0,tsType:{name:"Array",elements:[{name:"unknown"}],raw:"(TextOrNumberItem | IconItem)[]"},description:""},activeItemId:{required:!1,tsType:{name:"string"},description:""},onChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(id: string) => void",signature:{arguments:[{type:{name:"string"},name:"id"}],return:{name:"void"}}},description:""},ariaLabel:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"'SegmentedControls'",computed:!1}},disabled:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},hugWidth:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},size:{required:!1,tsType:{name:"union",raw:"'small' | 'medium'",elements:[{name:"literal",value:"'small'"},{name:"literal",value:"'medium'"}]},description:""}}};const _n={title:"Legacy Components/Deprecated/Form Control",component:N,tags:["autodocs"],args:{style:J.Primary,disabled:!1,direction:xe.Vertical,label:{children:"Input Label",required:!1,htmlFor:Xt(),tooltip:{content:"Tooltip Text"}},extra:"Extra Text or Element",helper:{text:"Helper Text (before/after) and variant (Primary/Success/Danger)",position:Qt.After},children:""},argTypes:{orientation:{options:Object.values(xe),control:"select"},children:{table:{disable:!0}},style:{options:Object.values(J),control:"radio"}},parameters:{status:{type:"deprecated"},docs:{description:{component:"### *Legacy component warning*\n#### This is a deprecated component. It will be removed in the next major version.\nFor use in frontify `web-app`, you can use the common `Form` component."}}}},E=e=>{const[t,l]=g.useState("");return p.jsx(N,{clickable:!0,...e,children:p.jsx(Z,{value:t,onChange:l})})},L=e=>{const[t,l]=g.useState("");return p.jsx(N,{...e,style:J.Danger,children:p.jsx(Z,{value:t,onChange:l})})},O=e=>{const[t,l]=g.useState("");return p.jsx(N,{...e,style:J.Positive,children:p.jsx(Z,{value:t,onChange:l})})},W=e=>{const[t,l]=g.useState("");return p.jsx(N,{...e,disabled:!0,children:p.jsx(Z,{value:t,onChange:l})})},z=e=>{const[t,l]=g.useState("a");return p.jsx(N,{...e,children:p.jsx(de,{items:[{id:"1",value:"abc"},{id:"2",value:"def"},{id:"3",value:"ghi"}],activeItemId:t,onChange:l})})},U=e=>{const[t,l]=g.useState();return p.jsx(N,{...e,children:p.jsx(se,{onChange:n=>l(n),activeItemId:t,size:tt.Small,menuBlocks:[{id:"block1",menuItems:[{id:"1",title:"Small 1",size:H.Small},{id:"2",title:"Small 2",size:H.Small},{id:"3",title:"Small 3",size:H.Small}]}]})})},_=e=>{const[t,l]=g.useState([]),n=Array.from({length:5}).fill({}).map((u,r)=>({id:`checkbox-${r}`,value:`checkbox-${r}`,label:`Checkbox Nr. ${r}`,tooltip:{content:`Random Tooltip ${r}`}}));return p.jsx(N,{...e,children:p.jsx(ut,{activeValues:t,setActiveValues:l,direction:ct.Vertical,checkboxes:n})})};E.__docgenInfo={description:"",methods:[],displayName:"WithTextInput"};L.__docgenInfo={description:"",methods:[],displayName:"WithStyleDanger"};O.__docgenInfo={description:"",methods:[],displayName:"WithStylePositive"};W.__docgenInfo={description:"",methods:[],displayName:"WithStyleDisabled"};z.__docgenInfo={description:"",methods:[],displayName:"WithSegmentedControls"};U.__docgenInfo={description:"",methods:[],displayName:"WithDropdown"};_.__docgenInfo={description:"",methods:[],displayName:"WithVerticalChecklist"};var Se,Pe,Ie;E.parameters={...E.parameters,docs:{...(Se=E.parameters)==null?void 0:Se.docs,source:{originalSource:`args => {
  const [input, setInput] = useState('');
  return <FormControl clickable {...args}>
            <TextInput value={input} onChange={setInput} />
        </FormControl>;
}`,...(Ie=(Pe=E.parameters)==null?void 0:Pe.docs)==null?void 0:Ie.source}}};var Ce,ke,De;L.parameters={...L.parameters,docs:{...(Ce=L.parameters)==null?void 0:Ce.docs,source:{originalSource:`args => {
  const [input, setInput] = useState('');
  return <FormControl {...args} style={FormControlStyle.Danger}>
            <TextInput value={input} onChange={setInput} />
        </FormControl>;
}`,...(De=(ke=L.parameters)==null?void 0:ke.docs)==null?void 0:De.source}}};var Fe,Me,Ve;O.parameters={...O.parameters,docs:{...(Fe=O.parameters)==null?void 0:Fe.docs,source:{originalSource:`args => {
  const [input, setInput] = useState('');
  return <FormControl {...args} style={FormControlStyle.Positive}>
            <TextInput value={input} onChange={setInput} />
        </FormControl>;
}`,...(Ve=(Me=O.parameters)==null?void 0:Me.docs)==null?void 0:Ve.source}}};var Te,Ke,Ae;W.parameters={...W.parameters,docs:{...(Te=W.parameters)==null?void 0:Te.docs,source:{originalSource:`args => {
  const [input, setInput] = useState('');
  return <FormControl {...args} disabled>
            <TextInput value={input} onChange={setInput} />
        </FormControl>;
}`,...(Ae=(Ke=W.parameters)==null?void 0:Ke.docs)==null?void 0:Ae.source}}};var Be,je,Re;z.parameters={...z.parameters,docs:{...(Be=z.parameters)==null?void 0:Be.docs,source:{originalSource:`args => {
  const [activeItemId, setActiveItemId] = useState<string>('a');
  return <FormControl {...args}>
            <SegmentedControls items={[{
      id: '1',
      value: 'abc'
    }, {
      id: '2',
      value: 'def'
    }, {
      id: '3',
      value: 'ghi'
    }]} activeItemId={activeItemId} onChange={setActiveItemId} />
        </FormControl>;
}`,...(Re=(je=z.parameters)==null?void 0:je.docs)==null?void 0:Re.source}}};var Ne,qe,Ee;U.parameters={...U.parameters,docs:{...(Ne=U.parameters)==null?void 0:Ne.docs,source:{originalSource:`args => {
  const [activeItemId, setActiveItemId] = useState<string | number | undefined>();
  return <FormControl {...args}>
            <Dropdown onChange={id => setActiveItemId(id)} activeItemId={activeItemId} size={DropdownSize.Small} menuBlocks={[{
      id: 'block1',
      menuItems: [{
        id: '1',
        title: 'Small 1',
        size: MenuItemContentSize.Small
      }, {
        id: '2',
        title: 'Small 2',
        size: MenuItemContentSize.Small
      }, {
        id: '3',
        title: 'Small 3',
        size: MenuItemContentSize.Small
      }]
    }]} />
        </FormControl>;
}`,...(Ee=(qe=U.parameters)==null?void 0:qe.docs)==null?void 0:Ee.source}}};var Le,Oe,We;_.parameters={..._.parameters,docs:{...(Le=_.parameters)==null?void 0:Le.docs,source:{originalSource:`args => {
  const [activeBoxes, setActiveBoxes] = useState<string[]>([]);
  const checkboxes = Array.from({
    length: 5
  }).fill({}).map((_, index) => ({
    id: \`checkbox-\${index}\`,
    value: \`checkbox-\${index}\`,
    label: \`Checkbox Nr. \${index}\`,
    tooltip: {
      content: \`Random Tooltip \${index}\`
    }
  }));
  return <FormControl {...args}>
            <Checklist activeValues={activeBoxes} setActiveValues={setActiveBoxes} direction={ChecklistDirection.Vertical} checkboxes={checkboxes} />
        </FormControl>;
}`,...(We=(Oe=_.parameters)==null?void 0:Oe.docs)==null?void 0:We.source}}};const Hn=["WithTextInput","WithStyleDanger","WithStylePositive","WithStyleDisabled","WithSegmentedControls","WithDropdown","WithVerticalChecklist"];export{U as WithDropdown,z as WithSegmentedControls,L as WithStyleDanger,W as WithStyleDisabled,O as WithStylePositive,E as WithTextInput,_ as WithVerticalChecklist,Hn as __namedExportsOrder,_n as default};
