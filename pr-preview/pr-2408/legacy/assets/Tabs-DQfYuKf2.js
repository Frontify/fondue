import{j as r}from"./jsx-runtime-DF2Pcvd1.js";import{$ as R}from"./useFocusRing-BMciCUIT.js";import{r as i}from"./index-B2-qRKKC.js";import{b as N}from"./Badge-BmJvcpMl.js";import{I as M}from"./IconDotsHorizontal-C5cqS_8x.js";import{u as _}from"./useMemoizedId-BB39KVn8.js";import{b as q,F as U,a as V}from"./focusStyle-BtNTXUM4.js";import{m as x}from"./merge-DI-veSMP.js";import{m as z}from"./motion-bD4j9jgw.js";var K=(o=>(o.None="None",o.XSmall="XSmall",o.Small="Small",o.Medium="Medium",o.Large="Large",o))(K||{}),H=(o=>(o.Small="Small",o.Large="Large",o))(H||{});const Y={None:"tw-pl-0",XSmall:"tw-pl-xs",Small:"tw-pl-s",Medium:"tw-pl-m",Large:"tw-pl-l"},W=(o,p)=>o.disabled?"tw-text-text-disabled":o.id===p?"tw-font-medium tw-text-text":"tw-text-text-weak hover:tw-text-text",k=({paddingX:o,size:p,activeItemId:a,children:h,onChange:v,maxHeight:$,minHeight:I})=>{const L=_(),S=i.useRef(null),[E,A]=i.useState(!1),[w,m]=i.useState(!1),g=i.Children.map(h,e=>i.isValidElement(e)?e==null?void 0:e.props:null)??[],[O,C]=i.useState([0]),d=i.useCallback(()=>{const e=S.current;A((e&&e.scrollWidth>e.clientWidth)??!1);const n=[];if(e){for(const t of e.children){const l=[...e.children].indexOf(t),u=e.getBoundingClientRect(),f=t.getBoundingClientRect();(f.right>u.right||f.left<u.left)&&n.push(l)}const s=[...n].sort((t,l)=>t-l);C(s)}},[]),b=()=>O.map(e=>g[e]),j=(e,n)=>{const s=e.findIndex(t=>t.id===a);return e.filter((t,l)=>n==="next"&&l>s&&!t.disabled||n==="previous"&&l<s&&!t.disabled?t:!1)},T=e=>{["ArrowRight","ArrowDown","ArrowLeft","ArrowUp"].includes(e.key)&&e.stopPropagation();const n=b(),s=e.target,t=s.id.includes("-m"),l=s.id.replace("-btn-m",""),u=t?n:g,f=j(u,"next"),y=j(u,"previous");(e.key==="ArrowRight"||e.key==="ArrowDown")&&f.length>0&&c(f[0].id,t),(e.key==="ArrowLeft"||e.key==="ArrowUp")&&y.length>0&&c(y[y.length-1].id,t),e.key==="Enter"&&t&&(c(l,!0),m(!1),document.getElementById(`${l}-content`).focus()),s.id.includes("-m")||m(!1)},c=(e,n)=>{try{const s=document.getElementById(`${e}-btn`),t=document.getElementById(n?`${e}-btn-m`:`${e}-btn`);v&&v(e),E&&s.scrollIntoView({behavior:"smooth",block:"end",inline:"end"}),t.focus()}catch(s){throw new Error(s.message)}},B=e=>{d();const n=b();if(e.key==="Enter"&&!w&&n.length>0){const s=document.getElementById(`${n[0].id}-btn-m`);s&&s.focus()}w&&(e.key==="ArrowRight"||e.key==="ArrowDown")&&c(n[0].id,!0)};i.useEffect(()=>{d()},[d]),i.useEffect(()=>(window.addEventListener("resize",d),()=>{window.removeEventListener("resize",d)}),[d]);const{isFocusVisible:D,focusProps:F}=R();return r.jsxs(r.Fragment,{children:[r.jsxs("div",{"data-test-id":"tabs",className:"tw-flex tw-relative tw-border-b tw-border-line",children:[r.jsx("div",{ref:S,role:"tablist",className:x(["tw-overflow-x-hidden tw-h-full tw-w-full tw-flex tw-justify-start",Y[o??"Small"],p==="Small"?"tw-gap-xxs":"tw-gap-xs "]),children:g.map(e=>r.jsxs("button",{"data-test-id":"tab-item",role:"tab",type:"button","aria-selected":e.id===a,"aria-controls":`${e.id}-content`,"aria-hidden":e.disabled,tabIndex:e.id===a?0:-1,id:`${e.id}-btn`,className:x(["tw-group tw-relative tw-mx-0 tw-px-2 tw-w-max tw-cursor-pointer tw-flex tw-items-center tw-justify-center tw-whitespace-nowrap",W(e,a),q,p==="Small"?"tw-h-12 tw-text-body-medium":"tw-h-14 tw-text-body-large"]),onClick:()=>{e.disabled||(c(e.id,!1),m(!1))},onKeyDown:n=>T(n),children:[e.decorator&&r.jsx("span",{className:"tw-mr-1.5",children:e.decorator}),r.jsx("span",{children:e.label}),e.badge&&r.jsx("span",{className:"tw-ml-1.5",children:r.jsx(N,{disabled:e.disabled,style:e.badge.style,children:e.badge.children})}),e.id===a&&r.jsx(z.div,{initial:!1,layoutDependency:a,"data-test-id":"tab-active-highlight",layoutId:L,className:"tw-absolute tw-h-[3px] tw-bg-box-selected-strong tw-rounded-t-x-large tw-w-full tw-bottom-0"})]},e.id))}),E&&r.jsxs("div",{"data-test-id":"tab-overflow",className:"tw-z-50 tw-flex-grow tw-pl-3 tw-flex tw-justify-center tw-items-center",children:[r.jsx("button",{className:x(["tw-w-6 tw-h-6 tw-bg-box-neutral tw-rounded tw-flex tw-justify-center tw-items-center",D?U:""]),type:"button",onClick:()=>{d(),m(!w)},onKeyDown:e=>B(e),...F,children:r.jsx(M,{})}),w&&r.jsx("div",{className:"tw-absolute tw-right-0 tw-top-11 tw-px-3 tw-pt-3 tw-bg-base tw-shadow tw-w-max",role:"dialog",children:b().map(e=>{var n,s;return r.jsxs("button",{className:x(["tw-flex tw-items-center tw-w-full tw-mb-3 tw-text-left tw-text-text-weak",e.disabled&&"tw-text-text-disabled",V]),onClick:()=>{e.disabled||(c(e.id,!0),m(!1))},role:"tab",type:"button","aria-selected":e.id===a,"aria-controls":`${e.id}-content`,"aria-hidden":e.disabled,tabIndex:!e.disabled&&w?0:-1,id:`${e.id}-btn-m`,onKeyDown:t=>T(t),children:[e.decorator,r.jsx("span",{className:"tw-mr-1 tw-ml-1.5",children:e.label}),e.badge&&r.jsx(N,{disabled:e.disabled,style:(n=e.badge)==null?void 0:n.style,children:(s=e.badge)==null?void 0:s.children})]},e.id)})})]})]}),r.jsx("div",{"data-test-id":"tab-content",className:"tw-flex tw-flex-col tw-overflow-y-auto",children:r.jsx("div",{className:"tw-mr-0",style:{maxHeight:$,minHeight:I},children:i.Children.map(h,e=>i.isValidElement(e)?i.cloneElement(e,{...e.props,active:e.props.id===a}):null)})})]})};k.displayName="FondueTabs";k.__docgenInfo={description:"",methods:[],displayName:"FondueTabs",props:{paddingX:{required:!1,tsType:{name:"TabsPaddingX"},description:""},size:{required:!1,tsType:{name:"TabSize"},description:""},activeItemId:{required:!0,tsType:{name:"string"},description:""},children:{required:!0,tsType:{name:"ReactNode"},description:""},onChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(tabId: string) => void",signature:{arguments:[{type:{name:"string"},name:"tabId"}],return:{name:"void"}}},description:""},maxHeight:{required:!1,tsType:{name:"literal",value:"`${number}${DimensionUnity}`"},description:""},minHeight:{required:!1,tsType:{name:"literal",value:"`${number}${DimensionUnity}`"},description:""}}};export{k as T,K as a,H as b};
