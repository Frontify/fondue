import{u as Pe,n as P,v as _e,w as Ie,x as Oe,l as y,q as v,y as Ue,z as Ae,A as oe,B as W,C as Fe,h as Ne,j as le,t as Re,m as ce,c as He}from"./useFocusRing-C73RBflu.js";import{r as b,R as Q}from"./iframe-BMoEVkia.js";import{b as Ee,c as ze}from"./chain-DdvpU25y.js";import{$ as N}from"./useLayoutEffect-rRRXELWE.js";import"./index-FARF4T7D.js";function me(e){var r,i,a="";if(typeof e=="string"||typeof e=="number")a+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(r=0;r<s;r++)e[r]&&(i=me(e[r]))&&(a&&(a+=" "),a+=i)}else for(i in e)e[i]&&(a&&(a+=" "),a+=i);return a}function Be(){for(var e,r,i=0,a="",s=arguments.length;i<s;i++)(e=arguments[i])&&(r=me(e))&&(a&&(a+=" "),a+=r);return a}function R(...e){let r={...e[0]};for(let i=1;i<e.length;i++){let a=e[i];for(let s in a){let u=r[s],f=a[s];typeof u=="function"&&typeof f=="function"&&s[0]==="o"&&s[1]==="n"&&s.charCodeAt(2)>=65&&s.charCodeAt(2)<=90?r[s]=Ee(u,f):(s==="className"||s==="UNSAFE_className")&&typeof u=="string"&&typeof f=="string"?r[s]=Be(u,f):s==="id"&&u&&f?r.id=ze(u,f):r[s]=f!==void 0?f:u}}return r}const Ge=new Set(["id"]),Ye=new Set(["aria-label","aria-labelledby","aria-describedby","aria-details"]),je=new Set(["href","hrefLang","target","rel","download","ping","referrerPolicy"]),Xe=new Set(["dir","lang","hidden","inert","translate"]),fe=new Set(["onClick","onAuxClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onTouchCancel","onTouchEnd","onTouchMove","onTouchStart","onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut","onGotPointerCapture","onLostPointerCapture","onScroll","onWheel","onAnimationStart","onAnimationEnd","onAnimationIteration","onTransitionCancel","onTransitionEnd","onTransitionRun","onTransitionStart"]),Ve=/^(data-.*)$/;function bt(e,r={}){let{labelable:i,isLink:a,global:s,events:u=s,propNames:f}=r,d={};for(const $ in e)Object.prototype.hasOwnProperty.call(e,$)&&(Ge.has($)||i&&Ye.has($)||a&&je.has($)||s&&Xe.has($)||u&&(fe.has($)||$.endsWith("Capture")&&fe.has($.slice(0,-7)))||f!=null&&f.has($)||Ve.test($))&&(d[$]=e[$]);return d}let m=new Map,q=new Set;function ue(){if(typeof window>"u")return;function e(a){return"propertyName"in a}let r=a=>{if(!e(a)||!a.target)return;let s=m.get(a.target);s||(s=new Set,m.set(a.target,s),a.target.addEventListener("transitioncancel",i,{once:!0})),s.add(a.propertyName)},i=a=>{if(!e(a)||!a.target)return;let s=m.get(a.target);if(s&&(s.delete(a.propertyName),s.size===0&&(a.target.removeEventListener("transitioncancel",i),m.delete(a.target)),m.size===0)){for(let u of q)u();q.clear()}};document.body.addEventListener("transitionrun",r),document.body.addEventListener("transitionend",i)}typeof document<"u"&&(document.readyState!=="loading"?ue():document.addEventListener("DOMContentLoaded",ue));function We(){for(const[e]of m)"isConnected"in e&&!e.isConnected&&m.delete(e)}function Te(e){requestAnimationFrame(()=>{We(),m.size===0?e():q.add(e)})}var X;const qe=(X=Q.useInsertionEffect)!==null&&X!==void 0?X:N;function O(e){const r=b.useRef(null);return qe(()=>{r.current=e},[e]),b.useCallback((...i)=>{const a=r.current;return a==null?void 0:a(...i)},[])}function he(e,r){N(()=>{if(e&&e.ref&&r)return e.ref.current=r.current,()=>{e.ref&&(e.ref.current=null)}})}let K="default",J="",F=new WeakMap;function Je(e){if(Pe()){if(K==="default"){const r=P(e);J=r.documentElement.style.webkitUserSelect,r.documentElement.style.webkitUserSelect="none"}K="disabled"}else if(e instanceof HTMLElement||e instanceof SVGElement){let r="userSelect"in e.style?"userSelect":"webkitUserSelect";F.set(e,e.style[r]),e.style[r]="none"}}function de(e){if(Pe()){if(K!=="disabled")return;K="restoring",setTimeout(()=>{Te(()=>{if(K==="restoring"){const r=P(e);r.documentElement.style.webkitUserSelect==="none"&&(r.documentElement.style.webkitUserSelect=J||""),J="",K="default"}})},300)}else if((e instanceof HTMLElement||e instanceof SVGElement)&&e&&F.has(e)){let r=F.get(e),i="userSelect"in e.style?"userSelect":"webkitUserSelect";e.style[i]==="none"&&(e.style[i]=r),e.getAttribute("style")===""&&e.removeAttribute("style"),F.delete(e)}}const Se=Q.createContext({register:()=>{}});Se.displayName="PressResponderContext";function Qe(e,r){return r.get?r.get.call(e):r.value}function xe(e,r,i){if(!r.has(e))throw new TypeError("attempted to "+i+" private field on non-instance");return r.get(e)}function Ze(e,r){var i=xe(e,r,"get");return Qe(e,i)}function et(e,r){if(r.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function tt(e,r,i){et(e,r),r.set(e,i)}function rt(e,r,i){if(r.set)r.set.call(e,i);else{if(!r.writable)throw new TypeError("attempted to set read only private field");r.value=i}}function pe(e,r,i){var a=xe(e,r,"set");return rt(e,a,i),i}function nt(e){let r=b.useContext(Se);if(r){let{register:i,...a}=r;e=R(a,e),i()}return he(r,e.ref),e}var U=new WeakMap;class A{continuePropagation(){pe(this,U,!1)}get shouldStopPropagation(){return Ze(this,U)}constructor(r,i,a,s){tt(this,U,{writable:!0,value:void 0}),pe(this,U,!0);var u;let f=(u=s==null?void 0:s.target)!==null&&u!==void 0?u:a.currentTarget;const d=f==null?void 0:f.getBoundingClientRect();let $,x=0,k,g=null;a.clientX!=null&&a.clientY!=null&&(k=a.clientX,g=a.clientY),d&&(k!=null&&g!=null?($=k-d.left,x=g-d.top):($=d.width/2,x=d.height/2)),this.type=r,this.pointerType=i,this.target=a.currentTarget,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.x=$,this.y=x}}const $e=Symbol("linkClicked"),be="react-aria-pressable-style",ve="data-react-aria-pressable";function vt(e){let{onPress:r,onPressChange:i,onPressStart:a,onPressEnd:s,onPressUp:u,onClick:f,isDisabled:d,isPressed:$,preventFocusOnPress:x,shouldCancelOnPointerExit:k,allowTextSelectionOnPress:g,ref:H,...we}=nt(e),[Ce,ee]=b.useState(!1),E=b.useRef({isPressed:!1,ignoreEmulatedMouseEvents:!1,didFirePressStart:!1,isTriggeringEvent:!1,activePointerId:null,target:null,isOverTarget:!1,pointerType:null,disposables:[]}),{addGlobalListener:w,removeAllGlobalListeners:M,removeGlobalListener:L}=_e(),D=b.useCallback((t,o)=>{let n=E.current;if(d||n.didFirePressStart)return!1;let l=!0;if(n.isTriggeringEvent=!0,a){let p=new A("pressstart",o,t);a(p),l=p.shouldStopPropagation}return i&&i(!0),n.isTriggeringEvent=!1,n.didFirePressStart=!0,ee(!0),l},[d,a,i]),T=b.useCallback((t,o,n=!0)=>{let l=E.current;if(!l.didFirePressStart)return!1;l.didFirePressStart=!1,l.isTriggeringEvent=!0;let p=!0;if(s){let c=new A("pressend",o,t);s(c),p=c.shouldStopPropagation}if(i&&i(!1),ee(!1),r&&n&&!d){let c=new A("press",o,t);r(c),p&&(p=c.shouldStopPropagation)}return l.isTriggeringEvent=!1,p},[d,s,i,r]),Ke=O(T),_=b.useCallback((t,o)=>{let n=E.current;if(d)return!1;if(u){n.isTriggeringEvent=!0;let l=new A("pressup",o,t);return u(l),n.isTriggeringEvent=!1,l.shouldStopPropagation}return!0},[d,u]),Me=O(_),C=b.useCallback(t=>{let o=E.current;if(o.isPressed&&o.target){o.didFirePressStart&&o.pointerType!=null&&T(S(o.target,t),o.pointerType,!1),o.isPressed=!1,se(null),o.isOverTarget=!1,o.activePointerId=null,o.pointerType=null,M(),g||de(o.target);for(let n of o.disposables)n();o.disposables=[]}},[g,M,T]),z=O(C),te=b.useCallback(t=>{k&&C(t)},[k,C]),B=b.useCallback(t=>{d||f==null||f(t)},[d,f]),re=b.useCallback((t,o)=>{if(!d&&f){let n=new MouseEvent("click",t);Ie(n,o),f(Oe(n))}},[d,f]),Le=O(re),[ne,ae]=b.useState(!1);N(()=>{let t=E.current;if(ne){let o=c=>{var h;if(t.isPressed&&t.target&&V(c,t.target)){var G;ge(v(c),c.key)&&c.preventDefault();let j=v(c),I=y(t.target,v(c));Ke(S(t.target,c),"keyboard",I),I&&Le(c,t.target),M(),c.key!=="Enter"&&Z(t.target)&&y(t.target,j)&&!c[$e]&&(c[$e]=!0,oe(t.target,c,!1)),t.isPressed=!1,ae(!1),(G=t.metaKeyEvents)===null||G===void 0||G.delete(c.key)}else if(c.key==="Meta"&&(!((h=t.metaKeyEvents)===null||h===void 0)&&h.size)){var Y;let j=t.metaKeyEvents;t.metaKeyEvents=void 0;for(let I of j.values())(Y=t.target)===null||Y===void 0||Y.dispatchEvent(new KeyboardEvent("keyup",I))}},n=t.target,p=Ee(c=>{n&&V(c,n)&&!c.repeat&&y(n,v(c))&&t.target&&Me(S(t.target,c),"keyboard")},o);return w(P(t.target),"keyup",p,!0),()=>{L(P(t.target),"keyup",p,!0)}}},[ne,w,M,L]);let[ie,se]=b.useState(null);N(()=>{let t=E.current;if(ie==="pointer"){let o=l=>{if(l.pointerId===t.activePointerId&&t.isPressed&&l.button===0&&t.target){if(y(t.target,v(l))&&t.pointerType!=null){let p=!1,c=setTimeout(()=>{t.isPressed&&t.target instanceof HTMLElement&&(p?z(l):(W(t.target),t.target.click()))},80);w(l.currentTarget,"click",()=>p=!0,!0),t.disposables.push(()=>clearTimeout(c))}else z(l);t.isOverTarget=!1}},n=l=>{z(l)};return w(P(t.target),"pointerup",o,!1),w(P(t.target),"pointercancel",n,!1),()=>{L(P(t.target),"pointerup",o,!1),L(P(t.target),"pointercancel",n,!1)}}},[ie,w,L]);let De=b.useMemo(()=>{let t=E.current,o={onKeyDown(n){if(V(n.nativeEvent,n.currentTarget)&&y(n.currentTarget,v(n.nativeEvent))){var l;ge(v(n.nativeEvent),n.key)&&n.preventDefault();let p=!0;!t.isPressed&&!n.repeat&&(t.target=n.currentTarget,t.isPressed=!0,ae(!0),t.pointerType="keyboard",p=D(n,"keyboard")),p&&n.stopPropagation(),n.metaKey&&Ne()&&((l=t.metaKeyEvents)===null||l===void 0||l.set(n.key,n.nativeEvent))}else n.key==="Meta"&&(t.metaKeyEvents=new Map)},onClick(n){if(!(n&&!y(n.currentTarget,v(n.nativeEvent)))&&n&&n.button===0&&!t.isTriggeringEvent&&!oe.isOpening){let l=!0;if(d&&n.preventDefault(),!t.ignoreEmulatedMouseEvents&&!t.isPressed&&(t.pointerType==="virtual"||Fe(n.nativeEvent))){let p=D(n,"virtual"),c=_(n,"virtual"),h=T(n,"virtual");B(n),l=p&&c&&h}else if(t.isPressed&&t.pointerType!=="keyboard"){let p=t.pointerType||n.nativeEvent.pointerType||"virtual",c=_(S(n.currentTarget,n),p),h=T(S(n.currentTarget,n),p,!0);l=c&&h,t.isOverTarget=!1,B(n),C(n)}t.ignoreEmulatedMouseEvents=!1,l&&n.stopPropagation()}}};return typeof PointerEvent<"u"&&(o.onPointerDown=n=>{if(n.button!==0||!y(n.currentTarget,v(n.nativeEvent)))return;if(Ue(n.nativeEvent)){t.pointerType="virtual";return}t.pointerType=n.pointerType;let l=!0;if(!t.isPressed){t.isPressed=!0,se("pointer"),t.isOverTarget=!0,t.activePointerId=n.pointerId,t.target=n.currentTarget,g||Je(t.target),l=D(n,t.pointerType);let p=v(n.nativeEvent);"releasePointerCapture"in p&&p.releasePointerCapture(n.pointerId)}l&&n.stopPropagation()},o.onMouseDown=n=>{if(y(n.currentTarget,v(n.nativeEvent))&&n.button===0){if(x){let l=Ae(n.target);l&&t.disposables.push(l)}n.stopPropagation()}},o.onPointerUp=n=>{!y(n.currentTarget,v(n.nativeEvent))||t.pointerType==="virtual"||n.button===0&&!t.isPressed&&_(n,t.pointerType||n.pointerType)},o.onPointerEnter=n=>{n.pointerId===t.activePointerId&&t.target&&!t.isOverTarget&&t.pointerType!=null&&(t.isOverTarget=!0,D(S(t.target,n),t.pointerType))},o.onPointerLeave=n=>{n.pointerId===t.activePointerId&&t.target&&t.isOverTarget&&t.pointerType!=null&&(t.isOverTarget=!1,T(S(t.target,n),t.pointerType,!1),te(n))},o.onDragStart=n=>{y(n.currentTarget,v(n.nativeEvent))&&C(n)}),o},[d,x,M,g,C,te,T,D,_,B,re]);return b.useEffect(()=>{if(!H)return;const t=P(H.current);if(!t||!t.head||t.getElementById(be))return;const o=t.createElement("style");o.id=be,o.textContent=`
@layer {
  [${ve}] {
    touch-action: pan-x pan-y pinch-zoom;
  }
}
    `.trim(),t.head.prepend(o)},[H]),b.useEffect(()=>{let t=E.current;return()=>{var o;g||de((o=t.target)!==null&&o!==void 0?o:void 0);for(let n of t.disposables)n();t.disposables=[]}},[g]),{isPressed:$||Ce,pressProps:R(we,De,{[ve]:!0})}}function Z(e){return e.tagName==="A"&&e.hasAttribute("href")}function V(e,r){const{key:i,code:a}=e,s=r,u=s.getAttribute("role");return(i==="Enter"||i===" "||i==="Spacebar"||a==="Space")&&!(s instanceof le(s).HTMLInputElement&&!ke(s,i)||s instanceof le(s).HTMLTextAreaElement||s.isContentEditable)&&!((u==="link"||!u&&Z(s))&&i!=="Enter")}function S(e,r){let i=r.clientX,a=r.clientY;return{currentTarget:e,shiftKey:r.shiftKey,ctrlKey:r.ctrlKey,metaKey:r.metaKey,altKey:r.altKey,clientX:i,clientY:a}}function at(e){return e instanceof HTMLInputElement?!1:e instanceof HTMLButtonElement?e.type!=="submit"&&e.type!=="reset":!Z(e)}function ge(e,r){return e instanceof HTMLInputElement?!ke(e,r):at(e)}const it=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function ke(e,r){return e.type==="checkbox"||e.type==="radio"?r===" ":it.has(e.type)}function st(e){const r=P(e);if(Re()==="virtual"){let i=ce(r);Te(()=>{const a=ce(r);(a===i||a===r.body)&&e.isConnected&&W(e)})}else W(e)}function ye(e){if(!e)return;let r=!0;return i=>{let a={...i,preventDefault(){i.preventDefault()},isDefaultPrevented(){return i.isDefaultPrevented()},stopPropagation(){r=!0},continuePropagation(){r=!1},isPropagationStopped(){return r}};e(a),r&&i.stopPropagation()}}function ot(e){return{keyboardProps:e.isDisabled?{}:{onKeyDown:ye(e.onKeyDown),onKeyUp:ye(e.onKeyUp)}}}let lt=Q.createContext(null);function ct(e){let r=b.useContext(lt)||{};he(r,e);let{ref:i,...a}=r;return a}function gt(e,r){let{focusProps:i}=He(e),{keyboardProps:a}=ot(e),s=R(i,a),u=ct(r),f=e.isDisabled?{}:u,d=b.useRef(e.autoFocus);b.useEffect(()=>{d.current&&r.current&&st(r.current),d.current=!1},[r]);let $=e.excludeFromTabOrder?-1:0;return e.isDisabled&&($=void 0),{focusableProps:R({...s,tabIndex:$},f)}}export{R as $,bt as a,vt as b,ot as c,gt as d,O as e,st as f};
