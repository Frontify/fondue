import{r,j as a}from"./iframe-BIVIoUZs.js";import{m as K}from"./fondue-icons369-BP7VdQPH.js";import{b as C}from"./focusStyle-hm6eSJHh.js";import{m as o}from"./merge-DI-veSMP.js";import"./preload-helper-QIu1LiSg.js";const N={getLabel:t=>{let s="";const n=i=>{r.Children.map(i,e=>{if(typeof e=="string")s+=e;else{const d=e;d!=null&&d.props&&n(d.props.children)}})};return n(t),s},copyStyles:t=>({fontSize:window.getComputedStyle(t).getPropertyValue("font-size"),lineHeight:window.getComputedStyle(t).getPropertyValue("line-height"),letterSpacing:window.getComputedStyle(t).getPropertyValue("letter-spacing"),minWidth:window.getComputedStyle(t).getPropertyValue("width"),fontWeight:window.getComputedStyle(t).getPropertyValue("font-weight")})};var h=(t=>(t.INPUT="INPUT",t.LABEL="LABEL",t))(h||{});const c=({onEditableSave:t,onModeChange:s,onAdditionalValueSave:n,children:i,options:e,isOverflowing:d=!1,"data-test-id":Y="editable-node-container"})=>{const w=N.getLabel(i),[S,T]=r.useState(w),[f,x]=r.useState("LABEL"),[I,G]=r.useState(),y=r.useRef(null),J=l=>T(l.target.value),L=l=>{x("LABEL"),s&&s("LABEL"),e!=null&&e.additionalValues&&n&&n(e.additionalValues,l.target.value),t&&t(l.target.value)},E=l=>()=>{T(l),x("INPUT"),s&&s("INPUT")},Q=l=>{l.key==="Enter"&&L(l)},X=l=>L(l);r.useEffect(()=>x((e==null?void 0:e.mode)??"LABEL"),[e==null?void 0:e.mode]);const Z=e!=null&&e.enableDoubleClick?{onDoubleClick:E(w),onKeyPress:l=>l.key==="Enter"&&E(w)()}:{onClick:E(w)};r.useEffect(()=>{var l;v.current&&G(N.copyStyles(v.current)),f==="INPUT"&&((l=y.current)==null||l.select())},[f,y,i]);const v=r.useRef(),$=i&&r.cloneElement(i,{ref:v});return a.jsxs("div",{"data-test-id":Y,className:o(["tw-relative tw-h-full",(e==null?void 0:e.removeBoxPadding)===!0?"":"tw-p-2"]),children:[f==="INPUT"?a.jsx("div",{className:o(["tw-flex tw-items-center",(e==null?void 0:e.isSlimInputField)===!0?"-tw-translate-x-[0.315rem] -tw-translate-y-[0.07rem]":"-tw-translate-x-[0.81rem] -tw-translate-y-[0.56rem]"]),children:a.jsxs("div",{"data-test-id":"editable-input",className:o(["tw-relative",d&&"tw-w-full tw-flex tw-items-center"]),children:[a.jsx("input",{ref:y,type:"text",className:o([(e==null?void 0:e.isSlimInputField)===!0?"focus-visible:tw-outline-none":C,"tw-absolute tw-w-full tw-text-text tw-border tw-rounded tw-bg-base tw-border-solid",(e==null?void 0:e.isSlimInputField)===!0?"tw-py-0 tw-px-1":"tw-px-3 tw-py-2"]),style:I,value:S,onChange:J,onKeyDown:Q,onBlur:X}),a.jsx("span",{"aria-hidden":"true",className:o(["tw-rounded tw-px-4 tw-py-2 tw-bg-base tw-truncate",(e==null?void 0:e.isSlimInputField)===!0&&"tw-py-0 tw-px-2",d&&"tw-w-0"]),style:I,children:S})]})}):null,a.jsx("button",{type:"button",style:{display:f==="INPUT"?"none":"flex"},className:o([d&&"tw-w-full","tw-h-full tw-items-center",C]),...Z,"data-test-id":"node-link-name","aria-pressed":"false",children:$})]})};c.displayName="FondueEditableText";c.__docgenInfo={description:`Component to switch between Label and Input state. Wraps the Children
with a Button, to allow for accessibility and copies styles to input field

Events:
- onEditableSave         // When changing from input to label state
- onModeChange           // Indicates which state is active
- onAdditionalValueSave  // Similar to editable Save with additional Values provided

Options properties:
- mode:                   enum EditableMode  // {INPUT = 'INPUT',LABEL = 'LABEL'}
- enableDoubleClick:      boolean            // should the input be triggered by a double click or single click
- isSlimInputField:       boolean            // removes y padding
- additionalValues?:      string             // additional Values like ID`,methods:[],displayName:"FondueEditableText",props:{children:{required:!1,tsType:{name:"ReactElement"},description:""},onAdditionalValueSave:{required:!1,tsType:{name:"signature",type:"function",raw:"(additionalValue: string, value: string) => void",signature:{arguments:[{type:{name:"string"},name:"additionalValue"},{type:{name:"string"},name:"value"}],return:{name:"void"}}},description:""},onEditableSave:{required:!1,tsType:{name:"signature",type:"function",raw:"(value: string) => void",signature:{arguments:[{type:{name:"string"},name:"value"}],return:{name:"void"}}},description:""},onModeChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(editableState?: EditableMode) => void",signature:{arguments:[{type:{name:"EditableMode"},name:"editableState"}],return:{name:"void"}}},description:""},options:{required:!1,tsType:{name:"EditableOptionProps"},description:""},isOverflowing:{required:!1,tsType:{name:"boolean"},description:"@deprecated Temporary solution for text with ellipisis in Tree Component",defaultValue:{value:"false",computed:!1}},"data-test-id":{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"'editable-node-container'",computed:!1}}}};const re={title:"Legacy Components/Editable Text",component:c,tags:["autodocs"],parameters:{status:{type:"legacy"},actions:{argTypesRegex:"^on.*"},docs:{description:{component:`### *Legacy component warning*
#### This is a unmaintained legacy component. It will be deprecated and replaced with a new component in an upcoming release.`}}},argTypes:{children:{table:{disable:!0}},isOverflowing:{table:{disable:!0}},options:{table:{category:"Custom"}},onAdditionalValueSave:{table:{category:"Event"}},onEditableSave:{table:{category:"Event"}},onModeChange:{table:{category:"Event"}}}},H=t=>a.jsx(c,{...t,children:t.children}),M=t=>{const[s,n]=r.useState("Im set from the outside");return a.jsxs("div",{className:"tw-flex tw-items-center",children:[a.jsx(c,{...t,onEditableSave:i=>n(i),children:a.jsx("h1",{children:s})})," ",a.jsx(K,{size:24})]})},m=H.bind({});m.args={children:a.jsx("p",{children:"Change me"}),options:{}};const u=H.bind({});u.args={children:a.jsx("div",{className:"tw-flex tw-flex-row tw-items-center",children:a.jsx("h1",{className:"tw-text-text",children:"hey Styled"})}),options:{mode:h.LABEL,enableDoubleClick:!1,additionalValues:"Values only for the Event"}};u.storyName="Editable Text h1 styling";const p=()=>{const[t,s]=r.useState("Im set from the outside");return a.jsxs("div",{className:"tw-flex tw-items-center",children:[a.jsx(c,{onEditableSave:n=>s(n),options:{additionalValues:"ID",enableDoubleClick:!0},children:a.jsx("h1",{className:"tw-text-xl",children:t})}),a.jsx(K,{size:24})]})},b=M.bind({});b.args={options:{mode:h.INPUT}};const g=M.bind({});g.args={options:{mode:h.INPUT,isSlimInputField:!0}};p.__docgenInfo={description:"",methods:[],displayName:"ControlledExample"};var P,V,j;m.parameters={...m.parameters,docs:{...(P=m.parameters)==null?void 0:P.docs,source:{originalSource:"(args: EditableTextProps) => <EditableText {...args}>{args.children}</EditableText>",...(j=(V=m.parameters)==null?void 0:V.docs)==null?void 0:j.source}}};var B,D,k;u.parameters={...u.parameters,docs:{...(B=u.parameters)==null?void 0:B.docs,source:{originalSource:"(args: EditableTextProps) => <EditableText {...args}>{args.children}</EditableText>",...(k=(D=u.parameters)==null?void 0:D.docs)==null?void 0:k.source}}};var U,A,F;p.parameters={...p.parameters,docs:{...(U=p.parameters)==null?void 0:U.docs,source:{originalSource:`() => {
  const [label, setLabel] = useState('Im set from the outside');
  return <div className="tw-flex tw-items-center">
            <EditableText onEditableSave={value => setLabel(value)} options={{
      additionalValues: 'ID',
      enableDoubleClick: true
    }}>
                <h1 className={'tw-text-xl'}>{label}</h1>
            </EditableText>
            <IconPen size={24} />
        </div>;
}`,...(F=(A=p.parameters)==null?void 0:A.docs)==null?void 0:F.source}}};var _,R,q;b.parameters={...b.parameters,docs:{...(_=b.parameters)==null?void 0:_.docs,source:{originalSource:`(args: EditableTextProps) => {
  const [label, setLabel] = useState('Im set from the outside');
  return <div className="tw-flex tw-items-center">
            <EditableText {...args} onEditableSave={value => setLabel(value)}>
                <h1>{label}</h1>
            </EditableText>{' '}
            <IconPen size={24} />
        </div>;
}`,...(q=(R=b.parameters)==null?void 0:R.docs)==null?void 0:q.source}}};var z,W,O;g.parameters={...g.parameters,docs:{...(z=g.parameters)==null?void 0:z.docs,source:{originalSource:`(args: EditableTextProps) => {
  const [label, setLabel] = useState('Im set from the outside');
  return <div className="tw-flex tw-items-center">
            <EditableText {...args} onEditableSave={value => setLabel(value)}>
                <h1>{label}</h1>
            </EditableText>{' '}
            <IconPen size={24} />
        </div>;
}`,...(O=(W=g.parameters)==null?void 0:W.docs)==null?void 0:O.source}}};const ne=["EditableTextDefault","Default","ControlledExample","ControllelInitialInput","ControllelSlimInputField"];export{p as ControlledExample,b as ControllelInitialInput,g as ControllelSlimInputField,u as Default,m as EditableTextDefault,ne as __namedExportsOrder,re as default};
