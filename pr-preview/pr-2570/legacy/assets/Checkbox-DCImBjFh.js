import{r,j as l}from"./iframe-Bc4fHx6q.js";import{c as F,h as le,$ as z,a as de}from"./usePopper-Bh2F49LT.js";import{c as ce,$ as ue}from"./useFocusRing-BG0BgZMD.js";import{a as U,$ as fe}from"./useEffectEvent-Bb1DK4BZ.js";import{$ as me}from"./useControlledState-DSoqjy9q.js";import{I as ve}from"./InputLabel-CnM-1s77.js";import{I as pe}from"./useLink-BHz5kRsY.js";import{I as C}from"./IconSize-BcCrF_mi.js";import{u as we}from"./IconExclamationMarkTriangle16-B9Jwjmbu.js";import{F as be}from"./focusStyle-6rwBDk7H.js";import{m as L}from"./merge-DI-veSMP.js";import{u as he}from"./Portal-BzaWKIIa.js";function ge(e,t,i){let a=U(()=>{i&&i(t)});r.useEffect(()=>{var o;let n=e==null||(o=e.current)===null||o===void 0?void 0:o.form;return n==null||n.addEventListener("reset",a),()=>{n==null||n.removeEventListener("reset",a)}},[e,a])}const B={badInput:!1,customError:!1,patternMismatch:!1,rangeOverflow:!1,rangeUnderflow:!1,stepMismatch:!1,tooLong:!1,tooShort:!1,typeMismatch:!1,valueMissing:!1,valid:!0},J={...B,customError:!0,valid:!1},q={isInvalid:!1,validationDetails:B,validationErrors:[]},xe=r.createContext({}),H="__formValidationState"+Date.now();function ye(e){if(e[H]){let{realtimeValidation:t,displayValidation:i,updateValidation:a,resetValidation:o,commitValidation:n}=e[H];return{realtimeValidation:t,displayValidation:i,updateValidation:a,resetValidation:o,commitValidation:n}}return $e(e)}function $e(e){let{isInvalid:t,validationState:i,name:a,value:o,builtinValidation:n,validate:f,validationBehavior:c="aria"}=e;i&&(t||(t=i==="invalid"));let v=t!==void 0?{isInvalid:t,validationErrors:[],validationDetails:J}:null,u=r.useMemo(()=>{if(!f||o==null)return null;let m=Ie(f,o);return Q(m)},[f,o]);n!=null&&n.validationDetails.valid&&(n=void 0);let s=r.useContext(xe),p=r.useMemo(()=>a?Array.isArray(a)?a.flatMap(m=>W(s[m])):W(s[a]):[],[s,a]),[h,g]=r.useState(s),[b,x]=r.useState(!1);s!==h&&(g(s),x(!1));let w=r.useMemo(()=>Q(b?[]:p),[b,p]),d=r.useRef(q),[$,E]=r.useState(q),S=r.useRef(q),V=()=>{if(!I)return;y(!1);let m=u||n||d.current;A(m,S.current)||(S.current=m,E(m))},[I,y]=r.useState(!1);return r.useEffect(V),{realtimeValidation:v||w||u||n||q,displayValidation:c==="native"?v||w||$:v||w||u||n||$,updateValidation(m){c==="aria"&&!A($,m)?E(m):d.current=m},resetValidation(){let m=q;A(m,S.current)||(S.current=m,E(m)),c==="native"&&y(!1),x(!0)},commitValidation(){c==="native"&&y(!0),x(!0)}}}function W(e){return e?Array.isArray(e)?e:[e]:[]}function Ie(e,t){if(typeof e=="function"){let i=e(t);if(i&&typeof i!="boolean")return W(i)}return[]}function Q(e){return e.length?{isInvalid:!0,validationErrors:e,validationDetails:J}:null}function A(e,t){return e===t?!0:!!e&&!!t&&e.isInvalid===t.isInvalid&&e.validationErrors.length===t.validationErrors.length&&e.validationErrors.every((i,a)=>i===t.validationErrors[a])&&Object.entries(e.validationDetails).every(([i,a])=>t.validationDetails[i]===a)}function it(...e){let t=new Set,i=!1,a={...B};for(let f of e){var o,n;for(let c of f.validationErrors)t.add(c);i||(i=f.isInvalid);for(let c in a)(o=a)[n=c]||(o[n]=f.validationDetails[c])}return a.valid=!i,{isInvalid:i,validationErrors:[...t],validationDetails:a}}function Se(e,t,i){let{validationBehavior:a,focus:o}=e;fe(()=>{if(a==="native"&&(i!=null&&i.current)&&!i.current.disabled){let u=t.realtimeValidation.isInvalid?t.realtimeValidation.validationErrors.join(" ")||"Invalid value.":"";i.current.setCustomValidity(u),i.current.hasAttribute("title")||(i.current.title=""),t.realtimeValidation.isInvalid||t.updateValidation(Ce(i.current))}});let n=r.useRef(!1),f=U(()=>{n.current||t.resetValidation()}),c=U(u=>{var s;t.displayValidation.isInvalid||t.commitValidation();let p=i==null||(s=i.current)===null||s===void 0?void 0:s.form;if(!u.defaultPrevented&&i&&p&&Ee(p)===i.current){var h;o?o():(h=i.current)===null||h===void 0||h.focus(),ce("keyboard")}u.preventDefault()}),v=U(()=>{t.commitValidation()});r.useEffect(()=>{let u=i==null?void 0:i.current;if(!u)return;let s=u.form,p=s==null?void 0:s.reset;return s&&(s.reset=()=>{n.current=!window.event||window.event.type==="message"&&window.event.target instanceof MessagePort,p==null||p.call(s),n.current=!1}),u.addEventListener("invalid",c),u.addEventListener("change",v),s==null||s.addEventListener("reset",f),()=>{u.removeEventListener("invalid",c),u.removeEventListener("change",v),s==null||s.removeEventListener("reset",f),s&&(s.reset=p)}},[i,c,v,f,a])}function Me(e){let t=e.validity;return{badInput:t.badInput,customError:t.customError,patternMismatch:t.patternMismatch,rangeOverflow:t.rangeOverflow,rangeUnderflow:t.rangeUnderflow,stepMismatch:t.stepMismatch,tooLong:t.tooLong,tooShort:t.tooShort,typeMismatch:t.typeMismatch,valueMissing:t.valueMissing,valid:t.valid}}function Ce(e){return{isInvalid:!e.validity.valid,validationDetails:Me(e),validationErrors:e.validationMessage?[e.validationMessage]:[]}}function Ee(e){for(let t=0;t<e.elements.length;t++){let i=e.elements[t];if(!i.validity.valid)return i}return null}function ke(e,t,i){let{isDisabled:a=!1,isReadOnly:o=!1,value:n,name:f,form:c,children:v,"aria-label":u,"aria-labelledby":s,validationState:p="valid",isInvalid:h,onPressStart:g,onPressEnd:b,onPressChange:x,onPress:w,onPressUp:d,onClick:$}=e,E=M=>{M.stopPropagation(),t.setSelected(M.target.checked)},{pressProps:S,isPressed:V}=F({onPressStart:g,onPressEnd:b,onPressChange:x,onPress:w,onPressUp:d,onClick:$,isDisabled:a}),{pressProps:I,isPressed:y}=F({onPressStart:g,onPressEnd:b,onPressChange:x,onPressUp:d,onClick:$,onPress(M){var P;w==null||w(M),t.toggle(),(P=i.current)===null||P===void 0||P.focus()},isDisabled:a||o}),{focusableProps:R}=le(e,i),_=z(S,R),m=de(e,{labelable:!0});return ge(i,t.defaultSelected,t.setSelected),{labelProps:z(I,{onClick:M=>M.preventDefault()}),inputProps:z(m,{"aria-invalid":h||p==="invalid"||void 0,"aria-errormessage":e["aria-errormessage"],"aria-controls":e["aria-controls"],"aria-readonly":o||void 0,onChange:E,disabled:a,...n==null?{}:{value:n},name:f,form:c,type:"checkbox",..._}),isSelected:t.isSelected,isPressed:V||y,isDisabled:a,isReadOnly:o,isInvalid:h||p==="invalid"}}function Ve(e,t,i){let a=ye({...e,value:t.isSelected}),{isInvalid:o,validationErrors:n,validationDetails:f}=a.displayValidation,{labelProps:c,inputProps:v,isSelected:u,isPressed:s,isDisabled:p,isReadOnly:h}=ke({...e,isInvalid:o},t,i);Se(e,a,i);let{isIndeterminate:g,isRequired:b,validationBehavior:x="aria"}=e;r.useEffect(()=>{i.current&&(i.current.indeterminate=!!g)});let{pressProps:w}=F({isDisabled:p||h,onPress(){let{[H]:d}=e,{commitValidation:$}=d||a;$()}});return{labelProps:z(c,w,r.useMemo(()=>({onMouseDown:d=>d.preventDefault()}),[])),inputProps:{...v,checked:u,"aria-required":b&&x==="aria"||void 0,required:b&&x==="native"},isSelected:u,isPressed:s,isDisabled:p,isReadOnly:h,isInvalid:o,validationErrors:n,validationDetails:f}}function Pe(e={}){let{isReadOnly:t}=e,[i,a]=me(e.isSelected,e.defaultSelected||!1,e.onChange),[o]=r.useState(i);function n(v){t||a(v)}function f(){t||a(!i)}var c;return{isSelected:i,defaultSelected:(c=e.defaultSelected)!==null&&c!==void 0?c:o,setSelected:n,toggle:f}}function K(e){return l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:12,height:12,className:"tw-flex tw-items-center tw-justify-center tw-fill-current",name:"IconMinus12","aria-hidden":"true",...e,children:l.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M9.5 6h-7a.5.5 0 1 1 0-1h7a.5.5 0 0 1 0 1",clipRule:"evenodd"})})}const Le=r.memo(K);K.__docgenInfo={description:"@deprecated Use icons from `@frontify/fondue/icons` instead.",methods:[],displayName:"IconMinus12",props:{size:{required:!1,tsType:{name:"IconSize"},description:""},filled:{required:!1,tsType:{name:"boolean"},description:""}}};function Z(e){return l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,className:"tw-flex tw-items-center tw-justify-center tw-fill-current",name:"IconMinus16","aria-hidden":"true",...e,children:l.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M12 8H4a.5.5 0 1 1 0-1h8a.5.5 0 0 1 0 1",clipRule:"evenodd"})})}const Te=r.memo(Z);Z.__docgenInfo={description:"@deprecated Use icons from `@frontify/fondue/icons` instead.",methods:[],displayName:"IconMinus16",props:{size:{required:!1,tsType:{name:"IconSize"},description:""},filled:{required:!1,tsType:{name:"boolean"},description:""}}};function ee(e){return l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:20,height:20,className:"tw-flex tw-items-center tw-justify-center tw-fill-current",name:"IconMinus20","aria-hidden":"true",...e,children:l.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M4 9.75A.75.75 0 0 1 4.75 9h10.5a.75.75 0 0 1 0 1.5H4.75A.75.75 0 0 1 4 9.75",clipRule:"evenodd"})})}const je=r.memo(ee);ee.__docgenInfo={description:"@deprecated Use icons from `@frontify/fondue/icons` instead.",methods:[],displayName:"IconMinus20",props:{size:{required:!1,tsType:{name:"IconSize"},description:""},filled:{required:!1,tsType:{name:"boolean"},description:""}}};function te(e){return l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,className:"tw-flex tw-items-center tw-justify-center tw-fill-current",name:"IconMinus24","aria-hidden":"true",...e,children:l.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M5 11.75a.75.75 0 0 1 .75-.75h12.5a.75.75 0 0 1 0 1.5H5.75a.75.75 0 0 1-.75-.75",clipRule:"evenodd"})})}const De=r.memo(te);te.__docgenInfo={description:"@deprecated Use icons from `@frontify/fondue/icons` instead.",methods:[],displayName:"IconMinus24",props:{size:{required:!1,tsType:{name:"IconSize"},description:""},filled:{required:!1,tsType:{name:"boolean"},description:""}}};function ie(e){return l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:32,height:32,className:"tw-flex tw-items-center tw-justify-center tw-fill-current",name:"IconMinus32","aria-hidden":"true",...e,children:l.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M7.04 16.05a1 1 0 0 1 1-1h16a1 1 0 0 1 0 2h-16a1 1 0 0 1-1-1",clipRule:"evenodd"})})}const Ne=r.memo(ie);ie.__docgenInfo={description:"@deprecated Use icons from `@frontify/fondue/icons` instead.",methods:[],displayName:"IconMinus32",props:{size:{required:!1,tsType:{name:"IconSize"},description:""},filled:{required:!1,tsType:{name:"boolean"},description:""}}};const X=e=>{const t=e.size||C.Size16;return l.jsxs("span",{children:[t===C.Size12&&!e.filled&&l.jsx(Le,{...e}),t===C.Size16&&!e.filled&&l.jsx(Te,{...e}),t===C.Size20&&!e.filled&&l.jsx(je,{...e}),t===C.Size24&&!e.filled&&l.jsx(De,{...e}),t===C.Size32&&!e.filled&&l.jsx(Ne,{...e})]})};X.displayName="FondueIconMinus";const qe=r.memo(X);X.__docgenInfo={description:"@deprecated Use icons from `@frontify/fondue/icons` instead.",methods:[],displayName:"FondueIconMinus",props:{size:{required:!1,tsType:{name:"IconSize"},description:""},filled:{required:!1,tsType:{name:"boolean"},description:""}}};var ze=(e=>(e.Checked="Checked",e.Unchecked="Unchecked",e.Mixed="Mixed",e))(ze||{}),Re=(e=>(e.Default="Default",e.Weak="Weak",e.Strong="Strong",e))(Re||{}),_e=(e=>(e.Default="Default",e.Large="Large",e.XLarge="XLarge",e))(_e||{});const Oe=e=>e==="Checked"||e==="Mixed",Y="tw-bg-box-selected-strong tw-text-box-selected-strong-inverse hover:tw-bg-box-selected-strong-hover",Ue={Weak:"tw-bg-box-neutral-strong tw-text-box-neutral-strong-inverse hover:tw-bg-box-neutral-strong-hover",Default:Y,Strong:Y},Ae={Default:"tw-h-4 tw-w-4",Large:"tw-h-5 tw-w-5",XLarge:"tw-h-8 tw-w-8"},Fe=({id:e,emphasis:t="Default",size:i="Default",disabled:a,required:o,label:n,hideLabel:f,tooltip:c,helperText:v,"aria-label":u,value:s,groupInputProps:p,onChange:h,state:g="Unchecked","data-test-id":b="checkbox"},x)=>{const w=we(e),d=he(x),{focusProps:$}=ue(),E=Pe({onChange:a?void 0:h,isSelected:g==="Checked"}),[S,V]=r.useState(),I=r.useRef(null),y=r.useRef(null),[R,_]=r.useState(!1),[m,M]=r.useState(!1),P=k=>{k.key==="Tab"&&V(!0)},G=()=>{V(!1)};r.useEffect(()=>{var k,j;return(k=d==null?void 0:d.current)==null||k.addEventListener("keyup",P),(j=d==null?void 0:d.current)==null||j.addEventListener("blur",G),()=>{var D,N;(D=d==null?void 0:d.current)==null||D.removeEventListener("keyup",P),(N=d==null?void 0:d.current)==null||N.removeEventListener("blur",G)}},[]);const{inputProps:ne}=Ve({isDisabled:a,isRequired:o,isIndeterminate:g==="Mixed","aria-label":u,value:s},E,d),re={Checked:l.jsx(pe,{size:i==="XLarge"?C.Size24:C.Size16}),Mixed:l.jsx(qe,{}),Unchecked:null},O=Oe(g),se=L(["tw-bg-box-disabled tw-pointer-events-none tw-text-box-disabled-inverse tw-border-line-strong",O&&"tw-text-box-disabled-inverse tw-border-line-strong"]),oe=O?Ue[t]:L(["tw-bg-base hover:tw-bg-box-neutral",t==="Strong"?"tw-border-2 tw-border-box-selected-strong":"tw-border tw-border-line-xx-strong"]),T=r.useCallback(()=>{var k,j,D,N;I.current&&_(((k=I.current)==null?void 0:k.scrollWidth)>((j=I.current)==null?void 0:j.clientWidth)),y.current&&M(((D=y.current)==null?void 0:D.scrollWidth)>((N=y.current)==null?void 0:N.clientWidth))},[I,y]);return r.useEffect(()=>{if(!(!n&&!v||f))return T(),window.removeEventListener("resize",T),window.addEventListener("resize",T),()=>{window.removeEventListener("resize",T)}},[n,v,f,T]),l.jsx("div",{className:"tw-gap-1 tw-transition-colors tw-w-full","data-test-id":b,children:l.jsx("div",{className:L(["tw-inline-flex tw-flex-row tw-rounded tw-w-full",S?be:""]),children:l.jsx(ve,{id:`${w}-label`,disabled:a,clickable:!0,htmlFor:w,tooltip:c,required:o,bold:O,children:l.jsxs("span",{className:"tw-flex tw-items-center tw-whitespace-nowrap",children:[l.jsxs("span",{className:"tw-inline-flex",children:[l.jsx("input",{...z(p||ne,$),id:w,ref:d,className:"tw-sr-only","data-test-id":`${b}-input`,role:"checkbox","aria-checked":g==="Checked",required:o,"aria-label":u,"aria-labelledby":n?`${w}-label`:void 0}),l.jsx("span",{"data-test-id":`${b}-icon-box`,"aria-hidden":"true",className:L(["tw-leading-3 tw-relative tw-flex tw-items-center tw-justify-center tw-rounded tw-shrink-0 tw-flex-none",Ae[i],a?se:oe]),children:re[g]})]}),!f&&l.jsxs("span",{className:"tw-inline-flex tw-flex-col tw-min-w-0 tw-ml-1.5",children:[n&&l.jsx("span",{ref:I,"data-test-id":`${b}-label`,className:L(["tw-text-ellipsis tw-overflow-hidden","tw-text-xs tw-select-none hover:tw-cursor-pointer hover:tw-text-black dark:hover:tw-text-white group-hover:tw-text-black dark:group-hover:tw-text-white",O&&"tw-font-medium"]),title:R?n:void 0,children:n}),v&&l.jsx("span",{ref:y,"data-test-id":`${b}-helper-text`,className:L(["tw-text-ellipsis tw-overflow-hidden","tw-font-sans tw-text-xs tw-font-normal",a?"text-disabled":"tw-text-text-weak"]),title:m?v:void 0,children:v})]})]})})})})},ae=r.forwardRef(Fe);ae.displayName="FondueCheckbox";ae.__docgenInfo={description:"@deprecated Use `Checkbox` from `@frontify/fondue/components` instead. Also check {@link https://github.com/Frontify/fondue/blob/main/packages/components/MIGRATING.md#checkbox the migration guide}.",methods:[],displayName:"FondueCheckbox",props:{id:{required:!1,tsType:{name:"string"},description:""},state:{required:!1,tsType:{name:"CheckboxState"},description:"",defaultValue:{value:"CheckboxState.Unchecked",computed:!0}},emphasis:{required:!1,tsType:{name:"CheckboxEmphasis"},description:"",defaultValue:{value:"CheckboxEmphasis.Default",computed:!0}},size:{required:!1,tsType:{name:"CheckboxSize"},description:"",defaultValue:{value:"CheckboxSize.Default",computed:!0}},disabled:{required:!1,tsType:{name:"boolean"},description:""},required:{required:!1,tsType:{name:"boolean"},description:""},value:{required:!1,tsType:{name:"string"},description:""},onChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(isChecked: boolean) => void",signature:{arguments:[{type:{name:"boolean"},name:"isChecked"}],return:{name:"void"}}},description:""},label:{required:!1,tsType:{name:"string"},description:""},hideLabel:{required:!1,tsType:{name:"boolean"},description:""},tooltip:{required:!1,tsType:{name:"union",raw:`| (LegacyTooltipProps & Pick<TooltipIconProps, 'triggerStyle' | 'triggerIcon'>)
| (LegacyTooltipProps & Pick<TooltipIconProps, 'triggerStyle' | 'triggerIcon'>)[]`,elements:[{name:"unknown"},{name:"Array",elements:[{name:"unknown"}],raw:"(LegacyTooltipProps & Pick<TooltipIconProps, 'triggerStyle' | 'triggerIcon'>)[]"}]},description:""},helperText:{required:!1,tsType:{name:"string"},description:""},"aria-label":{required:!1,tsType:{name:"string"},description:""},groupInputProps:{required:!1,tsType:{name:"HTMLAttributes",elements:[{name:"HTMLElement"}],raw:"HTMLAttributes<HTMLElement>"},description:""},"data-test-id":{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"'checkbox'",computed:!1}}}};export{ge as $,ze as C,Se as a,ye as b,Pe as c,q as d,Ve as e,H as f,it as g,ae as h,_e as i,Re as j};
