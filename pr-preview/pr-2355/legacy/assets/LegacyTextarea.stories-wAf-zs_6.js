import{j as a}from"./jsx-runtime-BYYWji4R.js";import{r as u}from"./index-ClcD9ViR.js";import{a as _,V as t}from"./validation-CJXPAjNB.js";import{$}from"./useFocusRing-DlZ7W1lC.js";import{i as K}from"./react-textarea-autosize.browser.esm-C6BrUbjJ.js";import{L as W,a as B}from"./LoadingCircle-DNdkLylS.js";import{I as D}from"./IconExclamationMarkTriangle-DebOIQd7.js";import{u as P}from"./useMemoizedId-BicaxHcO.js";import{F as U}from"./focusStyle-BtNTXUM4.js";import{m as b}from"./merge-DI-veSMP.js";import"./_commonjsHelpers-Cpj98o6Y.js";import"./useEffectEvent-sx_rQw4H.js";import"./IconSize-BcCrF_mi.js";import"./IconExclamationMarkTriangle16-DGaIrm4W.js";import"./IconExclamationMarkTriangle24-BCoex7hw.js";import"./generateRandomId-Dxm0_E-2.js";const l=({id:s,value:p,required:i=!1,decorator:d,placeholder:F,disabled:f=!1,onInput:g,onBlur:y,validation:r=t.Default,minRows:T,maxRows:z,autosize:w=!1,resizeable:H=!0,onFocus:x,selectable:k=!1,focusOnMount:v,onEnterPressed:c,...A})=>{const V=w?K:"textarea",m=u.useRef(null);u.useEffect(()=>{var e;v&&((e=m.current)==null||e.focus())},[v]);const j=e=>{e.key==="Enter"&&(c==null||c(e))},C=e=>{y&&y(e.target.value)},N=e=>{g&&g(e.target.value)},{isFocusVisible:O,focusProps:R}=$({isTextInput:!0,within:!0}),S={maxRows:z,minRows:T};return a.jsxs("div",{className:"tw-relative",...R,children:[d&&a.jsx("div",{className:"tw-absolute tw-top-2 tw-left-2 tw-inline-flex tw-items-end tw-text-black-80","data-test-id":"decorator",children:d}),a.jsx(V,{...w?S:{rows:T},onClick:()=>{var e;return(e=m.current)==null?void 0:e.focus()},id:P(s),ref:m,value:p,placeholder:F,required:i,className:b(["tw-w-full tw-p-2 tw-border tw-rounded tw-text-s tw-outline-none tw-transition tw-placeholder-black-60",!!d&&"tw-pl-7 ",f?"tw-border-black-5 tw-bg-black-5 tw-text-black-40":"tw-text-black tw-border-black-20 hover:tw-border-line-x-strong focus-within:tw-border-line-xx-strong focus-within:hover:tw-border-line-xx-strong",O&&U,_[r],!H&&"tw-resize-none",r===t.Error&&"tw-pr-8"]),disabled:f,onBlur:C,onFocus:e=>{k&&e.target.select(),x&&x(e)},onInput:N,onKeyDown:j,"data-test-id":"textarea",...A}),r===t.Loading&&a.jsx("span",{className:"tw-absolute tw-top-[-0.55rem] tw-right-[-0.55rem] tw-bg-white tw-rounded-full tw-p-[2px] tw-border tw-border-black-10",children:a.jsx(W,{size:B.ExtraSmall})}),(r===t.Error||r===t.Warning)&&a.jsx("span",{className:b(["tw-absolute tw-top-[0.6rem] tw-right-[0.6rem]",r===t.Error&&"tw-text-text-negative",r===t.Warning&&"tw-text-text-warning"]),"data-test-id":"error-state-exclamation-mark-icon",children:a.jsx(D,{})})]})};l.displayName="FondueLegacyTextarea";l.__docgenInfo={description:"",methods:[],displayName:"FondueLegacyTextarea",props:{id:{required:!1,tsType:{name:"string"},description:""},value:{required:!1,tsType:{name:"string"},description:""},required:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},decorator:{required:!1,tsType:{name:"ReactNode"},description:""},placeholder:{required:!1,tsType:{name:"string"},description:""},disabled:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},onInput:{required:!1,tsType:{name:"signature",type:"function",raw:"(value: string) => void",signature:{arguments:[{type:{name:"string"},name:"value"}],return:{name:"void"}}},description:""},onBlur:{required:!1,tsType:{name:"signature",type:"function",raw:"(value: string) => void",signature:{arguments:[{type:{name:"string"},name:"value"}],return:{name:"void"}}},description:""},onFocus:{required:!1,tsType:{name:"signature",type:"function",raw:"(e: FocusEvent<HTMLTextAreaElement>) => void",signature:{arguments:[{type:{name:"FocusEvent",elements:[{name:"HTMLTextAreaElement"}],raw:"FocusEvent<HTMLTextAreaElement>"},name:"e"}],return:{name:"void"}}},description:""},validation:{required:!1,tsType:{name:"Validation"},description:"",defaultValue:{value:"Validation.Default",computed:!0}},minRows:{required:!1,tsType:{name:"number"},description:"When autosize if false, this is used as 'rows' property for standard textarea"},maxRows:{required:!1,tsType:{name:"number"},description:"When autosize if false, this property is ignored"},autosize:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},resizeable:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"true",computed:!1}},selectable:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},focusOnMount:{required:!1,tsType:{name:"boolean"},description:""},onEnterPressed:{required:!1,tsType:{name:"signature",type:"function",raw:"(event: KeyboardEvent<HTMLTextAreaElement>) => void",signature:{arguments:[{type:{name:"KeyboardEvent",elements:[{name:"HTMLTextAreaElement"}],raw:"KeyboardEvent<HTMLTextAreaElement>"},name:"event"}],return:{name:"void"}}},description:""}}};const pe={title:"Legacy Components/Deprecated/LegacyTextarea",component:l,tags:["autodocs"],args:{disabled:!1,required:!1,autosize:!1,resizeable:!0,selectable:!1,validation:t.Default,focusOnMount:!1},argTypes:{value:{type:"string"},placeholder:{type:"string"},decorator:{type:"string"},onInput:{action:"onInput"},onBlur:{action:"onBlur"},onClear:{action:"onClear"},onFocus:{action:"onFocus"},validation:{options:Object.values(t),control:{type:"select"}},minRows:{type:"number"},maxRows:{type:"number"},onEnterPressed:{action:"onEnterPressed",table:{disable:!0}},focusOnMount:{type:"boolean"}},parameters:{status:{type:"deprecated"}}},n=s=>{const[p,i]=u.useState("");return u.useEffect(()=>i(`${s.value??""}`),[s.value]),a.jsx(l,{...s,value:p,onInput:i})},o=n.bind({});o.args={focusOnMount:!0};n.__docgenInfo={description:"",methods:[],displayName:"LegacyTextarea",props:{id:{required:!1,tsType:{name:"string"},description:""},value:{required:!1,tsType:{name:"string"},description:""},required:{required:!1,tsType:{name:"boolean"},description:""},decorator:{required:!1,tsType:{name:"ReactNode"},description:""},placeholder:{required:!1,tsType:{name:"string"},description:""},disabled:{required:!1,tsType:{name:"boolean"},description:""},onInput:{required:!1,tsType:{name:"signature",type:"function",raw:"(value: string) => void",signature:{arguments:[{type:{name:"string"},name:"value"}],return:{name:"void"}}},description:""},onBlur:{required:!1,tsType:{name:"signature",type:"function",raw:"(value: string) => void",signature:{arguments:[{type:{name:"string"},name:"value"}],return:{name:"void"}}},description:""},onFocus:{required:!1,tsType:{name:"signature",type:"function",raw:"(e: FocusEvent<HTMLTextAreaElement>) => void",signature:{arguments:[{type:{name:"FocusEvent",elements:[{name:"HTMLTextAreaElement"}],raw:"FocusEvent<HTMLTextAreaElement>"},name:"e"}],return:{name:"void"}}},description:""},validation:{required:!1,tsType:{name:"Validation"},description:""},minRows:{required:!1,tsType:{name:"number"},description:"When autosize if false, this is used as 'rows' property for standard textarea"},maxRows:{required:!1,tsType:{name:"number"},description:"When autosize if false, this property is ignored"},autosize:{required:!1,tsType:{name:"boolean"},description:""},resizeable:{required:!1,tsType:{name:"boolean"},description:""},selectable:{required:!1,tsType:{name:"boolean"},description:""},focusOnMount:{required:!1,tsType:{name:"boolean"},description:""},onEnterPressed:{required:!1,tsType:{name:"signature",type:"function",raw:"(event: KeyboardEvent<HTMLTextAreaElement>) => void",signature:{arguments:[{type:{name:"KeyboardEvent",elements:[{name:"HTMLTextAreaElement"}],raw:"KeyboardEvent<HTMLTextAreaElement>"},name:"event"}],return:{name:"void"}}},description:""}}};var E,q,L;n.parameters={...n.parameters,docs:{...(E=n.parameters)==null?void 0:E.docs,source:{originalSource:`(args: LegacyTextareaProps) => {
  const [input, setInput] = useState('');
  useEffect(() => setInput(\`\${args.value ?? ''}\`), [args.value]);
  return <TextareaComponent {...args} value={input} onInput={setInput} />;
}`,...(L=(q=n.parameters)==null?void 0:q.docs)==null?void 0:L.source}}};var h,I,M;o.parameters={...o.parameters,docs:{...(h=o.parameters)==null?void 0:h.docs,source:{originalSource:`(args: LegacyTextareaProps) => {
  const [input, setInput] = useState('');
  useEffect(() => setInput(\`\${args.value ?? ''}\`), [args.value]);
  return <TextareaComponent {...args} value={input} onInput={setInput} />;
}`,...(M=(I=o.parameters)==null?void 0:I.docs)==null?void 0:M.source}}};const de=["LegacyTextarea","FocusOnMount"];export{o as FocusOnMount,n as LegacyTextarea,de as __namedExportsOrder,pe as default};
