import{j as u}from"./jsx-runtime-BYYWji4R.js";import{r as n}from"./index-ClcD9ViR.js";import{u as F}from"./usePopper-BHXQC2xD.js";import{E as j}from"./EnablePortalWrapper-CTxa5i7Z.js";import{m as C}from"./merge-DI-veSMP.js";const G=200,M=400,W="100px",U=12,w=7,k=({dimension:e,isVerticalAlignedToTop:t})=>({left:`${(window.innerWidth-e.width)/2}px`,top:t?W:`${(window.innerHeight-e.height)/2}px`,transform:"none"}),Y=e=>{switch(!0){case e.includes("top"):return"before:tw-border-t-0 before:tw-border-l-0 tw-bottom-[-6px]";case e.includes("right"):return"before:tw-border-t-0 before:tw-border-r-0 tw-left-[-6px]";case e.includes("bottom"):return"before:tw-border-b-0 before:tw-border-r-0 tw-top-[-6px]";case e.includes("left"):return"before:tw-border-b-0 before:tw-border-l-0 tw-right-[-6px]";default:return"before:tw-border-b-0 before:tw-border-r-0 tw-top-[-6px]"}},z=(e,t)=>{switch(!0){case e.includes("end"):return[t[0]+w,t[1]];case e.includes("start"):return[t[0]-w,t[1]];default:return t}},g=({children:e,open:t,placement:m="bottom-start",offset:s=[0,8],flip:E=!0,enablePortal:h=!0,zIndex:y="auto",isDetached:l=!1,verticalAlignment:T,strategy:v="absolute",anchor:i,withArrow:p=!1,arrowCustomColors:_})=>{const[R,A]=n.useState(null),[O,x]=n.useState(null),[P,I]=n.useState(null),[N,L]=n.useState(s),[S,q]=n.useState({width:G,height:M});n.useEffect(()=>{const o=i==null?void 0:i.current;A(o)},[i]);const V=l?document.body:R,r=F(V,O,{placement:m,modifiers:[{name:"offset",options:{offset:N}},{name:"flip",enabled:E},{name:"arrow",options:{element:P,padding:U}}],strategy:v}),d=r.state?r.state.placement:m,D=n.useMemo(()=>Y(d),[d]);n.useEffect(()=>{const o=p?z(d,s):s;L(a=>o[0]!==a[0]||o[1]!==a[1]?o:a)},[d,s,p]),n.useLayoutEffect(()=>{const o=()=>{var a,f,c,b;l&&r.state&&t&&q({width:(f=(a=r.state.rects)==null?void 0:a.popper)==null?void 0:f.width,height:(b=(c=r.state.rects)==null?void 0:c.popper)==null?void 0:b.height})};return o(),window.addEventListener("resize",o),()=>{window.removeEventListener("resize",o)}},[l,t,r.state]);const H=l?k({dimension:S,isVerticalAlignedToTop:T==="top"}):{};return t&&u.jsx(j,{enablePortal:h,children:u.jsxs("div",{ref:x,style:{zIndex:y,...r.styles.popper,...H},...r.attributes.popper,children:[e,p&&u.jsx("div",{"data-test-id":"popper-arrow","data-popper-arrow":p,"aria-hidden":"true",ref:I,style:r.styles.arrow,className:C(["tw-absolute tw-w-3 tw-h-3 tw-pointer-events-none before:tw-absolute before:tw-w-3 before:tw-h-3 before:tw-rotate-45",_,D])})]})})};g.displayName="FonduePopper";g.__docgenInfo={description:"@deprecated Please use updated flyout component from `@frontify/fondue/components` instead. Also check {@link https://github.com/Frontify/fondue/blob/main/packages/components/MIGRATING.md#flyout-old-inlinedialog the migration guide}.",methods:[],displayName:"FonduePopper",props:{children:{required:!1,tsType:{name:"ReactNode"},description:""},anchor:{required:!0,tsType:{name:"RefObject",elements:[{name:"Element"}],raw:"RefObject<Element>"},description:""},open:{required:!1,tsType:{name:"boolean"},description:""},placement:{required:!1,tsType:{name:"union",raw:`| 'top'
| 'bottom'
| 'top-start'
| 'bottom-start'
| 'top-end'
| 'bottom-end'
| 'right'
| 'left'
| 'right-start'
| 'right-end'
| 'left-start'
| 'left-end'`,elements:[{name:"literal",value:"'top'"},{name:"literal",value:"'bottom'"},{name:"literal",value:"'top-start'"},{name:"literal",value:"'bottom-start'"},{name:"literal",value:"'top-end'"},{name:"literal",value:"'bottom-end'"},{name:"literal",value:"'right'"},{name:"literal",value:"'left'"},{name:"literal",value:"'right-start'"},{name:"literal",value:"'right-end'"},{name:"literal",value:"'left-start'"},{name:"literal",value:"'left-end'"}]},description:"",defaultValue:{value:"'bottom-start'",computed:!1}},offset:{required:!1,tsType:{name:"tuple",raw:"[number, number]",elements:[{name:"number"},{name:"number"}]},description:"",defaultValue:{value:"[0, 8]",computed:!1}},flip:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"true",computed:!1}},enablePortal:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"true",computed:!1}},zIndex:{required:!1,tsType:{name:"union",raw:"number | string",elements:[{name:"number"},{name:"string"}]},description:"",defaultValue:{value:"'auto'",computed:!1}},isDetached:{required:!1,tsType:{name:"boolean"},description:"@description This property will detach the overlay from its trigger and will be relatively position to the body. example: Dialog compoennt.",defaultValue:{value:"false",computed:!1}},verticalAlignment:{required:!1,tsType:{name:"union",raw:"'top' | 'centered'",elements:[{name:"literal",value:"'top'"},{name:"literal",value:"'centered'"}]},description:"@description This property will take effect only if isDetached is enabled."},strategy:{required:!1,tsType:{name:"PositioningStrategy"},description:"@description The property sets the way the modal is positioned on the view",defaultValue:{value:"'absolute'",computed:!1}},withArrow:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},arrowCustomColors:{required:!1,tsType:{name:"string"},description:""}}};const Q="tw-bg-base tw-border tw-border-line",Z="tw-bg-box-neutral-mighty tw-text-box-neutral-mighty-inverse tw-border tw-border-line-mighty",ee="before:tw-border before:tw-border-line-mighty before:tw-bg-box-neutral-mighty",te="before:tw-border before:tw-border-line before:tw-bg-base";export{ee as A,Q as O,g as P,te as a,Z as b};
