import{j as n}from"./jsx-runtime-BYYWji4R.js";import{r as a}from"./index-ClcD9ViR.js";import{c as D}from"./elements-BOYmskOL.js";import{m as b}from"./merge-DI-veSMP.js";import{$ as F}from"./useFocusRing-CqhiwHAH.js";import{b as N}from"./Badge-D3iHhUFC.js";import{I as _}from"./IconDotsHorizontal-WdXJ8Eqq.js";import{u as M}from"./useMemoizedId-BicaxHcO.js";import{b as U,F as P,a as V}from"./focusStyle-BtNTXUM4.js";import{m as H}from"./motion-DqKuqH19.js";const B=({active:r,disabled:u,children:o,id:m})=>{const[w,x]=a.useState(null),[h,v]=a.useState(!1);return a.useEffect(()=>{v(D(w))},[w]),r?n.jsx("div",{role:"tabpanel",ref:x,id:`${m}-content`,"aria-labelledby":m,className:b([!r||u?"tw-hidden":"","focus:tw-ring-4 focus:tw-ring-blue"]),tabIndex:h?-1:0,children:o}):null};B.displayName="FondueTabItem";B.__docgenInfo={description:"",methods:[],displayName:"FondueTabItem",props:{id:{required:!0,tsType:{name:"string"},description:""},label:{required:!0,tsType:{name:"string"},description:""},onClick:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},disabled:{required:!1,tsType:{name:"boolean"},description:""},decorator:{required:!1,tsType:{name:"ReactElement"},description:""},badge:{required:!1,tsType:{name:"signature",type:"object",raw:`{
    style?: BadgeStyle;
    icon?: ReactElement<IconProps>;
    status?: BadgeStatusIconProps['status'];
    onClick?: () => void;
    onDismiss?: () => void;
    disabled?: boolean;
    emphasis?: BadgeEmphasis;
    size?: BadgeSize;
    children?: ReactNode;
    'data-test-id'?: string;
    /** @description withTitle could be disabled only in the case another overlay is present, ex Tooltip */
    withTitleAttribute?: boolean;
}`,signature:{properties:[{key:"style",value:{name:"BadgeStyle",required:!1}},{key:"icon",value:{name:"ReactElement",elements:[{name:"intersection",raw:`GeneratedIconProps & {
    icon: IconEnum;
}`,elements:[{name:"signature",type:"object",raw:`{
    size?: IconSize;
    filled?: boolean;
}`,signature:{properties:[{key:"size",value:{name:"IconSize",required:!1}},{key:"filled",value:{name:"boolean",required:!1}}]}},{name:"signature",type:"object",raw:`{
    icon: IconEnum;
}`,signature:{properties:[{key:"icon",value:{name:"IconEnum",required:!0}}]}}]}],raw:"ReactElement<IconProps>",required:!1}},{key:"status",value:{name:"union",raw:"BadgeStatusIconProps['status']",required:!1}},{key:"onClick",value:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}},required:!1}},{key:"onDismiss",value:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}},required:!1}},{key:"disabled",value:{name:"boolean",required:!1}},{key:"emphasis",value:{name:"BadgeEmphasis",required:!1}},{key:"size",value:{name:"union",raw:"'small' | 'medium'",elements:[{name:"literal",value:"'small'"},{name:"literal",value:"'medium'"}],required:!1}},{key:"children",value:{name:"ReactNode",required:!1}},{key:"data-test-id",value:{name:"string",required:!1}},{key:"withTitleAttribute",value:{name:"boolean",required:!1},description:"@description withTitle could be disabled only in the case another overlay is present, ex Tooltip"}]}},description:""},children:{required:!0,tsType:{name:"ReactNode"},description:""},active:{required:!1,tsType:{name:"boolean"},description:""}}};var K=(r=>(r.None="None",r.XSmall="XSmall",r.Small="Small",r.Medium="Medium",r.Large="Large",r))(K||{}),Y=(r=>(r.Small="Small",r.Large="Large",r))(Y||{});const W={None:"tw-pl-0",XSmall:"tw-pl-xs",Small:"tw-pl-s",Medium:"tw-pl-m",Large:"tw-pl-l"},G=(r,u)=>r.disabled?"tw-text-text-disabled":r.id===u?"tw-font-medium tw-text-text":"tw-text-text-weak hover:tw-text-text",$=({paddingX:r,size:u,activeItemId:o,children:m,onChange:w,maxHeight:x,minHeight:h})=>{const v=M(),I=a.useRef(null),[S,R]=a.useState(!1),[f,p]=a.useState(!1),T=a.Children.map(m,e=>a.isValidElement(e)?e==null?void 0:e.props:null)??[],[A,C]=a.useState([0]),d=a.useCallback(()=>{const e=I.current;R((e&&e.scrollWidth>e.clientWidth)??!1);const s=[];if(e){for(const t of e.children){const l=[...e.children].indexOf(t),g=e.getBoundingClientRect(),y=t.getBoundingClientRect();(y.right>g.right||y.left<g.left)&&s.push(l)}const i=[...s].sort((t,l)=>t-l);C(i)}},[]),E=()=>A.map(e=>T[e]),q=(e,s)=>{const i=e.findIndex(t=>t.id===o);return e.filter((t,l)=>s==="next"&&l>i&&!t.disabled||s==="previous"&&l<i&&!t.disabled?t:!1)},j=e=>{["ArrowRight","ArrowDown","ArrowLeft","ArrowUp"].includes(e.key)&&e.stopPropagation();const s=E(),i=e.target,t=i.id.includes("-m"),l=i.id.replace("-btn-m",""),g=t?s:T,y=q(g,"next"),k=q(g,"previous");(e.key==="ArrowRight"||e.key==="ArrowDown")&&y.length>0&&c(y[0].id,t),(e.key==="ArrowLeft"||e.key==="ArrowUp")&&k.length>0&&c(k[k.length-1].id,t),e.key==="Enter"&&t&&(c(l,!0),p(!1),document.getElementById(`${l}-content`).focus()),i.id.includes("-m")||p(!1)},c=(e,s)=>{try{const i=document.getElementById(`${e}-btn`),t=document.getElementById(s?`${e}-btn-m`:`${e}-btn`);w&&w(e),S&&i.scrollIntoView({behavior:"smooth",block:"end",inline:"end"}),t.focus()}catch(i){throw i.message}},L=e=>{d();const s=E();if(e.key==="Enter"&&!f&&s.length>0){const i=document.getElementById(`${s[0].id}-btn-m`);i&&i.focus()}f&&(e.key==="ArrowRight"||e.key==="ArrowDown")&&c(s[0].id,!0)};a.useEffect(()=>{d()},[d]),a.useEffect(()=>(window.addEventListener("resize",d),()=>{window.removeEventListener("resize",d)}),[d]);const{isFocusVisible:O,focusProps:z}=F();return n.jsxs(n.Fragment,{children:[n.jsxs("div",{"data-test-id":"tabs",className:"tw-flex tw-relative tw-border-b tw-border-line",children:[n.jsx("div",{ref:I,role:"tablist",className:b(["tw-overflow-x-hidden tw-h-full tw-w-full tw-flex tw-justify-start",W[r??"Small"],u==="Small"?"tw-gap-xxs":"tw-gap-xs "]),children:T.map(e=>n.jsxs("button",{"data-test-id":"tab-item",role:"tab",type:"button","aria-selected":e.id===o,"aria-controls":`${e.id}-content`,"aria-hidden":e.disabled,tabIndex:e.id===o?0:-1,id:`${e.id}-btn`,className:b(["tw-group tw-relative tw-mx-0 tw-px-2 tw-w-max tw-cursor-pointer tw-flex tw-items-center tw-justify-center tw-whitespace-nowrap",G(e,o),U,u==="Small"?"tw-h-12 tw-text-body-medium":"tw-h-14 tw-text-body-large"]),onClick:()=>{e.disabled||(c(e.id,!1),p(!1))},onKeyDown:s=>j(s),children:[e.decorator&&n.jsx("span",{className:"tw-mr-1.5",children:e.decorator}),n.jsx("span",{children:e.label}),e.badge&&n.jsx("span",{className:"tw-ml-1.5",children:n.jsx(N,{disabled:e.disabled,style:e.badge.style,children:e.badge.children})}),e.id===o&&n.jsx(H.div,{initial:!1,layoutDependency:o,"data-test-id":"tab-active-highlight",layoutId:v,className:"tw-absolute tw-h-[3px] tw-bg-box-selected-strong tw-rounded-t-x-large tw-w-full tw-bottom-0"})]},e.id))}),S&&n.jsxs("div",{"data-test-id":"tab-overflow",className:"tw-z-50 tw-flex-grow tw-pl-3 tw-flex tw-justify-center tw-items-center",children:[n.jsx("button",{className:b(["tw-w-6 tw-h-6 tw-bg-box-neutral tw-rounded tw-flex tw-justify-center tw-items-center",O?P:""]),type:"button",onClick:()=>{d(),p(!f)},onKeyDown:e=>L(e),...z,children:n.jsx(_,{})}),f&&n.jsx("div",{className:"tw-absolute tw-right-0 tw-top-11 tw-px-3 tw-pt-3 tw-bg-base tw-shadow tw-w-max",role:"dialog",children:E().map(e=>{var s,i;return n.jsxs("button",{className:b(["tw-flex tw-items-center tw-w-full tw-mb-3 tw-text-left tw-text-text-weak",e.disabled&&"tw-text-text-disabled",V]),onClick:()=>{e.disabled||(c(e.id,!0),p(!1))},role:"tab",type:"button","aria-selected":e.id===o,"aria-controls":`${e.id}-content`,"aria-hidden":e.disabled,tabIndex:!e.disabled&&f?0:-1,id:`${e.id}-btn-m`,onKeyDown:t=>j(t),children:[e.decorator,n.jsx("span",{className:"tw-mr-1 tw-ml-1.5",children:e.label}),e.badge&&n.jsx(N,{disabled:e.disabled,style:(s=e.badge)==null?void 0:s.style,children:(i=e.badge)==null?void 0:i.children})]},e.id)})})]})]}),n.jsx("div",{"data-test-id":"tab-content",className:"tw-flex tw-flex-col tw-overflow-y-auto",children:n.jsx("div",{className:"tw-mr-0",style:{maxHeight:x,minHeight:h},children:a.Children.map(m,e=>a.isValidElement(e)?a.cloneElement(e,{...e.props,active:e.props.id===o}):null)})})]})};$.displayName="FondueTabs";$.__docgenInfo={description:"",methods:[],displayName:"FondueTabs",props:{paddingX:{required:!1,tsType:{name:"TabsPaddingX"},description:""},size:{required:!1,tsType:{name:"TabSize"},description:""},activeItemId:{required:!0,tsType:{name:"string"},description:""},children:{required:!0,tsType:{name:"ReactNode"},description:""},onChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(tabId: string) => void",signature:{arguments:[{type:{name:"string"},name:"tabId"}],return:{name:"void"}}},description:""},maxHeight:{required:!1,tsType:{name:"literal",value:"`${number}${DimensionUnity}`"},description:""},minHeight:{required:!1,tsType:{name:"literal",value:"`${number}${DimensionUnity}`"},description:""}}};export{$ as T,K as a,B as b,Y as c};
