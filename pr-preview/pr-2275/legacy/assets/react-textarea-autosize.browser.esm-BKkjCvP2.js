import{r as o}from"./index-v7USjxUg.js";function z(){return z=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var e in r)({}).hasOwnProperty.call(r,e)&&(n[e]=r[e])}return n},z.apply(null,arguments)}function A(n,t){if(n==null)return{};var r={};for(var e in n)if({}.hasOwnProperty.call(n,e)){if(t.includes(e))continue;r[e]=n[e]}return r}var I=o.useLayoutEffect,O=function(t){var r=o.useRef(t);return I(function(){r.current=t}),r},H=function(t,r){if(typeof t=="function"){t(r);return}t.current=r},j=function(t,r){var e=o.useRef();return o.useCallback(function(i){t.current=i,e.current&&H(e.current,null),e.current=r,r&&H(r,i)},[r])},C={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0",display:"block"},B=function(t){Object.keys(C).forEach(function(r){t.style.setProperty(r,C[r],"important")})},E=B,a=null,F=function(t,r){var e=t.scrollHeight;return r.sizingStyle.boxSizing==="border-box"?e+r.borderSize:e-r.paddingSize};function M(n,t,r,e){r===void 0&&(r=1),e===void 0&&(e=1/0),a||(a=document.createElement("textarea"),a.setAttribute("tabindex","-1"),a.setAttribute("aria-hidden","true"),E(a)),a.parentNode===null&&document.body.appendChild(a);var i=n.paddingSize,f=n.borderSize,u=n.sizingStyle,p=u.boxSizing;Object.keys(u).forEach(function(h){var b=h;a.style[b]=u[b]}),E(a),a.value=t;var d=F(a,n);a.value=t,d=F(a,n),a.value="x";var g=a.scrollHeight-i,c=g*r;p==="border-box"&&(c=c+i+f),d=Math.max(c,d);var l=g*e;return p==="border-box"&&(l=l+i+f),d=Math.min(l,d),[d,g]}var T=function(){},N=function(t,r){return t.reduce(function(e,i){return e[i]=r[i],e},{})},P=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak","wordSpacing","scrollbarGutter"],$=!!document.documentElement.currentStyle,_=function(t){var r=window.getComputedStyle(t);if(r===null)return null;var e=N(P,r),i=e.boxSizing;if(i==="")return null;$&&i==="border-box"&&(e.width=parseFloat(e.width)+parseFloat(e.borderRightWidth)+parseFloat(e.borderLeftWidth)+parseFloat(e.paddingRight)+parseFloat(e.paddingLeft)+"px");var f=parseFloat(e.paddingBottom)+parseFloat(e.paddingTop),u=parseFloat(e.borderBottomWidth)+parseFloat(e.borderTopWidth);return{sizingStyle:e,paddingSize:f,borderSize:u}},G=_;function L(n,t,r){var e=O(r);o.useLayoutEffect(function(){var i=function(u){return e.current(u)};if(n)return n.addEventListener(t,i),function(){return n.removeEventListener(t,i)}},[])}var Y=function(t,r){L(document.body,"reset",function(e){t.current.form===e.target&&r(e)})},q=function(t){L(window,"resize",t)},U=function(t){L(document.fonts,"loadingdone",t)},X=["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"],Z=function(t,r){var e=t.cacheMeasurements,i=t.maxRows,f=t.minRows,u=t.onChange,p=u===void 0?T:u,d=t.onHeightChange,g=d===void 0?T:d,c=A(t,X),l=c.value!==void 0,h=o.useRef(null),b=j(h,r),R=o.useRef(0),x=o.useRef(),v=function(){var s=h.current,y=e&&x.current?x.current:G(s);if(y){x.current=y;var w=M(y,s.value||s.placeholder||"x",f,i),S=w[0],k=w[1];R.current!==S&&(R.current=S,s.style.setProperty("height",S+"px","important"),g(S,{rowHeight:k}))}},W=function(s){l||v(),p(s)};return o.useLayoutEffect(v),Y(h,function(){if(!l){var m=h.current,s=m.value;requestAnimationFrame(function(){s!==m.value&&v()})}}),q(v),U(v),o.createElement("textarea",z({},c,{onChange:W,ref:b}))},J=o.forwardRef(Z);export{J as i};
