import{j as m}from"./jsx-runtime-BSxFkHFN.js";import{r as c}from"./index-i66itsuO.js";import{c as Y}from"./index-BdQq_4o_.js";import{c as C}from"./index-BNYVQE02.js";import{u as V}from"./index-CdcT0Fdx.js";import{c as ue}from"./index-BwxsjnLo.js";import{u as ce}from"./index-P4w4wmP2.js";import{u as de}from"./index-DLXHbKnz.js";import{u as me}from"./index-Dh_oXSn4.js";import{u as fe}from"./index-BVL3yOfb.js";import{P as K}from"./index-kGoNTBW-.js";import{c as pe}from"./index-BFKpAWVr.js";var $=["PageUp","PageDown"],X=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],G={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},E="Slider",[H,he,ge]=pe(E),[W,Je]=ue(E,[ge]),[Se,k]=W(E),J=c.forwardRef((e,t)=>{const{name:r,min:n=0,max:s=100,step:l=1,orientation:o="horizontal",disabled:a=!1,minStepsBetweenThumbs:u=0,defaultValue:f=[n],value:h,onValueChange:i=()=>{},onValueCommit:d=()=>{},inverted:w=!1,form:v,...b}=e,g=c.useRef(new Set),p=c.useRef(0),x=o==="horizontal"?be:we,[S=[],j]=ce({prop:h,defaultProp:f,onChange:y=>{var D;(D=[...g.current][p.current])==null||D.focus(),i(y)}}),B=c.useRef(S);function N(y){const R=Pe(S,y);M(y,R)}function ie(y){M(y,p.current)}function le(){const y=B.current[p.current];S[p.current]!==y&&d(S)}function M(y,R,{commit:D}={commit:!1}){const L=Ce(l),z=Ee(Math.round((y-n)/l)*l+n,L),A=Y(z,[n,s]);j((T=[])=>{const P=ve(T,A,R);if(Te(P,u*l)){p.current=P.indexOf(A);const U=String(P)!==String(T);return U&&D&&d(P),U?P:T}else return T})}return m.jsx(Se,{scope:e.__scopeSlider,name:r,disabled:a,min:n,max:s,valueIndexToChangeRef:p,thumbs:g.current,values:S,orientation:o,form:v,children:m.jsx(H.Provider,{scope:e.__scopeSlider,children:m.jsx(H.Slot,{scope:e.__scopeSlider,children:m.jsx(x,{"aria-disabled":a,"data-disabled":a?"":void 0,...b,ref:t,onPointerDown:C(b.onPointerDown,()=>{a||(B.current=S)}),min:n,max:s,inverted:w,onSlideStart:a?void 0:N,onSlideMove:a?void 0:ie,onSlideEnd:a?void 0:le,onHomeKeyDown:()=>!a&&M(n,0,{commit:!0}),onEndKeyDown:()=>!a&&M(s,S.length-1,{commit:!0}),onStepKeyDown:({event:y,direction:R})=>{if(!a){const z=$.includes(y.key)||y.shiftKey&&X.includes(y.key)?10:1,A=p.current,T=S[A],P=l*z*R;M(T+P,A,{commit:!0})}}})})})})});J.displayName=E;var[Q,Z]=W(E,{startEdge:"left",endEdge:"right",size:"width",direction:1}),be=c.forwardRef((e,t)=>{const{min:r,max:n,dir:s,inverted:l,onSlideStart:o,onSlideMove:a,onSlideEnd:u,onStepKeyDown:f,...h}=e,[i,d]=c.useState(null),w=V(t,x=>d(x)),v=c.useRef(void 0),b=de(s),g=b==="ltr",p=g&&!l||!g&&l;function _(x){const S=v.current||i.getBoundingClientRect(),j=[0,S.width],N=O(j,p?[r,n]:[n,r]);return v.current=S,N(x-S.left)}return m.jsx(Q,{scope:e.__scopeSlider,startEdge:p?"left":"right",endEdge:p?"right":"left",direction:p?1:-1,size:"width",children:m.jsx(ee,{dir:b,"data-orientation":"horizontal",...h,ref:w,style:{...h.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:x=>{const S=_(x.clientX);o==null||o(S)},onSlideMove:x=>{const S=_(x.clientX);a==null||a(S)},onSlideEnd:()=>{v.current=void 0,u==null||u()},onStepKeyDown:x=>{const j=G[p?"from-left":"from-right"].includes(x.key);f==null||f({event:x,direction:j?-1:1})}})})}),we=c.forwardRef((e,t)=>{const{min:r,max:n,inverted:s,onSlideStart:l,onSlideMove:o,onSlideEnd:a,onStepKeyDown:u,...f}=e,h=c.useRef(null),i=V(t,h),d=c.useRef(void 0),w=!s;function v(b){const g=d.current||h.current.getBoundingClientRect(),p=[0,g.height],x=O(p,w?[n,r]:[r,n]);return d.current=g,x(b-g.top)}return m.jsx(Q,{scope:e.__scopeSlider,startEdge:w?"bottom":"top",endEdge:w?"top":"bottom",size:"height",direction:w?1:-1,children:m.jsx(ee,{"data-orientation":"vertical",...f,ref:i,style:{...f.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:b=>{const g=v(b.clientY);l==null||l(g)},onSlideMove:b=>{const g=v(b.clientY);o==null||o(g)},onSlideEnd:()=>{d.current=void 0,a==null||a()},onStepKeyDown:b=>{const p=G[w?"from-bottom":"from-top"].includes(b.key);u==null||u({event:b,direction:p?-1:1})}})})}),ee=c.forwardRef((e,t)=>{const{__scopeSlider:r,onSlideStart:n,onSlideMove:s,onSlideEnd:l,onHomeKeyDown:o,onEndKeyDown:a,onStepKeyDown:u,...f}=e,h=k(E,r);return m.jsx(K.span,{...f,ref:t,onKeyDown:C(e.onKeyDown,i=>{i.key==="Home"?(o(i),i.preventDefault()):i.key==="End"?(a(i),i.preventDefault()):$.concat(X).includes(i.key)&&(u(i),i.preventDefault())}),onPointerDown:C(e.onPointerDown,i=>{const d=i.target;d.setPointerCapture(i.pointerId),i.preventDefault(),h.thumbs.has(d)?d.focus():n(i)}),onPointerMove:C(e.onPointerMove,i=>{i.target.hasPointerCapture(i.pointerId)&&s(i)}),onPointerUp:C(e.onPointerUp,i=>{const d=i.target;d.hasPointerCapture(i.pointerId)&&(d.releasePointerCapture(i.pointerId),l(i))})})}),te="SliderTrack",ne=c.forwardRef((e,t)=>{const{__scopeSlider:r,...n}=e,s=k(te,r);return m.jsx(K.span,{"data-disabled":s.disabled?"":void 0,"data-orientation":s.orientation,...n,ref:t})});ne.displayName=te;var q="SliderRange",re=c.forwardRef((e,t)=>{const{__scopeSlider:r,...n}=e,s=k(q,r),l=Z(q,r),o=c.useRef(null),a=V(t,o),u=s.values.length,f=s.values.map(d=>se(d,s.min,s.max)),h=u>1?Math.min(...f):0,i=100-Math.max(...f);return m.jsx(K.span,{"data-orientation":s.orientation,"data-disabled":s.disabled?"":void 0,...n,ref:a,style:{...e.style,[l.startEdge]:h+"%",[l.endEdge]:i+"%"}})});re.displayName=q;var F="SliderThumb",oe=c.forwardRef((e,t)=>{const r=he(e.__scopeSlider),[n,s]=c.useState(null),l=V(t,a=>s(a)),o=c.useMemo(()=>n?r().findIndex(a=>a.ref.current===n):-1,[r,n]);return m.jsx(xe,{...e,ref:l,index:o})}),xe=c.forwardRef((e,t)=>{const{__scopeSlider:r,index:n,name:s,...l}=e,o=k(F,r),a=Z(F,r),[u,f]=c.useState(null),h=V(t,_=>f(_)),i=u?o.form||!!u.closest("form"):!0,d=fe(u),w=o.values[n],v=w===void 0?0:se(w,o.min,o.max),b=Re(n,o.values.length),g=d==null?void 0:d[a.size],p=g?_e(g,v,a.direction):0;return c.useEffect(()=>{if(u)return o.thumbs.add(u),()=>{o.thumbs.delete(u)}},[u,o.thumbs]),m.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[a.startEdge]:`calc(${v}% + ${p}px)`},children:[m.jsx(H.ItemSlot,{scope:e.__scopeSlider,children:m.jsx(K.span,{role:"slider","aria-label":e["aria-label"]||b,"aria-valuemin":o.min,"aria-valuenow":w,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...l,ref:h,style:w===void 0?{display:"none"}:e.style,onFocus:C(e.onFocus,()=>{o.valueIndexToChangeRef.current=n})})}),i&&m.jsx(ye,{name:s??(o.name?o.name+(o.values.length>1?"[]":""):void 0),form:o.form,value:w},n)]})});oe.displayName=F;var ye=e=>{const{value:t,...r}=e,n=c.useRef(null),s=me(t);return c.useEffect(()=>{const l=n.current,o=window.HTMLInputElement.prototype,u=Object.getOwnPropertyDescriptor(o,"value").set;if(s!==t&&u){const f=new Event("input",{bubbles:!0});u.call(l,t),l.dispatchEvent(f)}},[s,t]),m.jsx("input",{style:{display:"none"},...r,ref:n,defaultValue:t})};function ve(e=[],t,r){const n=[...e];return n[r]=t,n.sort((s,l)=>s-l)}function se(e,t,r){const l=100/(r-t)*(e-t);return Y(l,[0,100])}function Re(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function Pe(e,t){if(e.length===1)return 0;const r=e.map(s=>Math.abs(s-t)),n=Math.min(...r);return r.indexOf(n)}function _e(e,t,r){const n=e/2,l=O([0,50],[0,n]);return(n-l(t)*r)*r}function De(e){return e.slice(0,-1).map((t,r)=>e[r+1]-t)}function Te(e,t){if(t>0){const r=De(e);return Math.min(...r)>=t}return!0}function O(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function Ce(e){return(String(e).split(".")[1]||"").length}function Ee(e,t){const r=Math.pow(10,t);return Math.round(e*r)/r}var je=J,Me=ne,Ae=re,Ve=oe;const Ie="_root_fs3zj_5",Ke="_thumb_fs3zj_17",ke="_track_fs3zj_21",Be="_range_fs3zj_28",I={root:Ie,thumb:Ke,track:ke,range:Be},Ne=({value:e,defaultValue:t=[0],onChange:r,onCommit:n,"data-test-id":s="fondue-slider",...l},o)=>{const a=c.useRef(null);return m.jsxs(je,{ref:o,className:I.root,value:e,defaultValue:t,onValueChange:r,onValueCommit:n,"data-test-id":s,...l,children:[m.jsx(Me,{onPointerDown:()=>{a.current&&(a.current.dataset.showFocusRing="false")},className:I.track,children:m.jsx(Ae,{className:I.range})}),(e||t).map((u,f)=>m.jsx(Ve,{ref:a,className:I.thumb,onPointerDown:h=>{h.currentTarget.dataset.showFocusRing="false"},onBlur:h=>{h.currentTarget.dataset.showFocusRing="true"}},f))]})},ae=c.forwardRef(Ne);ae.displayName="Slider";ae.__docgenInfo={description:"",methods:[],displayName:"Slider",props:{id:{required:!1,tsType:{name:"string"},description:""},name:{required:!1,tsType:{name:"string"},description:""},defaultValue:{required:!1,tsType:{name:"Array",elements:[{name:"number"}],raw:"number[]"},description:`The default value of the slider
Used for uncontrolled components
@default [0]`,defaultValue:{value:"[0]",computed:!1}},value:{required:!1,tsType:{name:"Array",elements:[{name:"number"}],raw:"number[]"},description:`The controlled value of the slider
@default [0]`},min:{required:!1,tsType:{name:"number"},description:`Minimum value of the slider
@default 0`},max:{required:!1,tsType:{name:"number"},description:`Maximum value of the slider
@default 100`},step:{required:!1,tsType:{name:"number"},description:`The granularity with which the slider can step through values
@default 1`},minStepsBetweenThumbs:{required:!1,tsType:{name:"number"},description:`The minimum steps between thumbs in a range slider
@default 0`},disabled:{required:!1,tsType:{name:"boolean"},description:`Disable the slider
@default false`},onChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(value: number[]) => void",signature:{arguments:[{type:{name:"Array",elements:[{name:"number"}],raw:"number[]"},name:"value"}],return:{name:"void"}}},description:""},onCommit:{required:!1,tsType:{name:"signature",type:"function",raw:"(value: number[]) => void",signature:{arguments:[{type:{name:"Array",elements:[{name:"number"}],raw:"number[]"},name:"value"}],return:{name:"void"}}},description:""},"data-test-id":{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"'fondue-slider'",computed:!1}}}};export{ae as S};
