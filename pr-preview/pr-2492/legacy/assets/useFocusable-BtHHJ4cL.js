import{u as Te,f as me,e as G,v as Ee,k as F,w as ce,i as k,h as xe,x as we,y as Se,j as P,q as y,z as ke,A as Ce,B as Ke,o as Q,l as Z,n as Ae,b as Me}from"./useFocusRing-ByayxmEl.js";import{r as g,R as fe}from"./iframe-DxbHyf0A.js";import{b as de,d as _e}from"./chain-BCEJqK95.js";import{$ as Le,a as w}from"./useEffectEvent-DV6Z6w6o.js";import"./index-aWSDH1A9.js";function ue(e){var t,n,a="";if(typeof e=="string"||typeof e=="number")a+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=ue(e[t]))&&(a&&(a+=" "),a+=n)}else for(n in e)e[n]&&(a&&(a+=" "),a+=n);return a}function De(){for(var e,t,n=0,a="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=ue(e))&&(a&&(a+=" "),a+=t);return a}function H(...e){let t={...e[0]};for(let n=1;n<e.length;n++){let a=e[n];for(let s in a){let f=t[s],c=a[s];typeof f=="function"&&typeof c=="function"&&s[0]==="o"&&s[1]==="n"&&s.charCodeAt(2)>=65&&s.charCodeAt(2)<=90?t[s]=de(f,c):(s==="className"||s==="UNSAFE_className")&&typeof f=="string"&&typeof c=="string"?t[s]=De(f,c):s==="id"&&f&&c?t.id=_e(f,c):t[s]=c!==void 0?c:f}}return t}const Oe=new Set(["id"]),Ie=new Set(["aria-label","aria-labelledby","aria-describedby","aria-details"]),Ue=new Set(["href","hrefLang","target","rel","download","ping","referrerPolicy"]),Ne=new Set(["dir","lang","hidden","inert","translate"]),ee=new Set(["onClick","onAuxClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onTouchCancel","onTouchEnd","onTouchMove","onTouchStart","onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut","onGotPointerCapture","onLostPointerCapture","onScroll","onWheel","onAnimationStart","onAnimationEnd","onAnimationIteration","onTransitionCancel","onTransitionEnd","onTransitionRun","onTransitionStart"]),Fe=/^(data-.*)$/;function ft(e,t={}){let{labelable:n,isLink:a,global:s,events:f=s,propNames:c}=t,u={};for(const d in e)Object.prototype.hasOwnProperty.call(e,d)&&(Oe.has(d)||n&&Ie.has(d)||a&&Ue.has(d)||s&&Ne.has(d)||f&&ee.has(d)||d.endsWith("Capture")&&ee.has(d.slice(0,-7))||c!=null&&c.has(d)||Fe.test(d))&&(u[d]=e[d]);return u}const He=g.createContext({isNative:!0,open:je,useHref:e=>e});function Re(){return g.useContext(He)}function ze(e,t){let n=e.getAttribute("target");return(!n||n==="_self")&&e.origin===location.origin&&!e.hasAttribute("download")&&!t.metaKey&&!t.ctrlKey&&!t.altKey&&!t.shiftKey}function M(e,t,n=!0){var a,s;let{metaKey:f,ctrlKey:c,altKey:u,shiftKey:d}=t;Te()&&(!((s=window.event)===null||s===void 0||(a=s.type)===null||a===void 0)&&a.startsWith("key"))&&e.target==="_blank"&&(G()?f=!0:c=!0);let m=me()&&G()&&!Ee()?new KeyboardEvent("keydown",{keyIdentifier:"Enter",metaKey:f,ctrlKey:c,altKey:u,shiftKey:d}):new MouseEvent("click",{metaKey:f,ctrlKey:c,altKey:u,shiftKey:d,bubbles:!0,cancelable:!0});M.isOpening=n,F(e),e.dispatchEvent(m),M.isOpening=!1}M.isOpening=!1;function Be(e,t){if(e instanceof HTMLAnchorElement)t(e);else if(e.hasAttribute("data-href")){let n=document.createElement("a");n.href=e.getAttribute("data-href"),e.hasAttribute("data-target")&&(n.target=e.getAttribute("data-target")),e.hasAttribute("data-rel")&&(n.rel=e.getAttribute("data-rel")),e.hasAttribute("data-download")&&(n.download=e.getAttribute("data-download")),e.hasAttribute("data-ping")&&(n.ping=e.getAttribute("data-ping")),e.hasAttribute("data-referrer-policy")&&(n.referrerPolicy=e.getAttribute("data-referrer-policy")),e.appendChild(n),t(n),e.removeChild(n)}}function je(e,t){Be(e,n=>M(n,t))}function dt(e){let t=Re();var n;const a=t.useHref((n=e==null?void 0:e.href)!==null&&n!==void 0?n:"");return{href:e!=null&&e.href?a:void 0,target:e==null?void 0:e.target,rel:e==null?void 0:e.rel,download:e==null?void 0:e.download,ping:e==null?void 0:e.ping,referrerPolicy:e==null?void 0:e.referrerPolicy}}function ut(e,t,n,a){!t.isNative&&e.currentTarget instanceof HTMLAnchorElement&&e.currentTarget.href&&!e.isDefaultPrevented()&&ze(e.currentTarget,e)&&n&&(e.preventDefault(),t.open(e.currentTarget,e,n,a))}let E=new Map,Y=new Set;function te(){if(typeof window>"u")return;function e(a){return"propertyName"in a}let t=a=>{if(!e(a)||!a.target)return;let s=E.get(a.target);s||(s=new Set,E.set(a.target,s),a.target.addEventListener("transitioncancel",n,{once:!0})),s.add(a.propertyName)},n=a=>{if(!e(a)||!a.target)return;let s=E.get(a.target);if(s&&(s.delete(a.propertyName),s.size===0&&(a.target.removeEventListener("transitioncancel",n),E.delete(a.target)),E.size===0)){for(let f of Y)f();Y.clear()}};document.body.addEventListener("transitionrun",t),document.body.addEventListener("transitionend",n)}typeof document<"u"&&(document.readyState!=="loading"?te():document.addEventListener("DOMContentLoaded",te));function Ge(){for(const[e]of E)"isConnected"in e&&!e.isConnected&&E.delete(e)}function pe(e){requestAnimationFrame(()=>{Ge(),E.size===0?e():Y.add(e)})}function be(e,t){Le(()=>{if(e&&e.ref&&t)return e.ref.current=t.current,()=>{e.ref&&(e.ref.current=null)}})}let A="default",W="",N=new WeakMap;function Ye(e){if(ce()){if(A==="default"){const t=k(e);W=t.documentElement.style.webkitUserSelect,t.documentElement.style.webkitUserSelect="none"}A="disabled"}else if(e instanceof HTMLElement||e instanceof SVGElement){let t="userSelect"in e.style?"userSelect":"webkitUserSelect";N.set(e,e.style[t]),e.style[t]="none"}}function re(e){if(ce()){if(A!=="disabled")return;A="restoring",setTimeout(()=>{pe(()=>{if(A==="restoring"){const t=k(e);t.documentElement.style.webkitUserSelect==="none"&&(t.documentElement.style.webkitUserSelect=W||""),W="",A="default"}})},300)}else if((e instanceof HTMLElement||e instanceof SVGElement)&&e&&N.has(e)){let t=N.get(e),n="userSelect"in e.style?"userSelect":"webkitUserSelect";e.style[n]==="none"&&(e.style[n]=t),e.getAttribute("style")===""&&e.removeAttribute("style"),N.delete(e)}}const $e=fe.createContext({register:()=>{}});$e.displayName="PressResponderContext";function We(e,t){return t.get?t.get.call(e):t.value}function ve(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}function Xe(e,t){var n=ve(e,t,"get");return We(e,n)}function Ve(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function qe(e,t,n){Ve(e,t),t.set(e,n)}function Je(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}function ne(e,t,n){var a=ve(e,t,"set");return Je(e,a,n),n}function Qe(e){let t=g.useContext($e);if(t){let{register:n,...a}=t;e=H(a,e),n()}return be(t,e.ref),e}var I=new WeakMap;class U{continuePropagation(){ne(this,I,!1)}get shouldStopPropagation(){return Xe(this,I)}constructor(t,n,a,s){qe(this,I,{writable:!0,value:void 0}),ne(this,I,!0);var f;let c=(f=s==null?void 0:s.target)!==null&&f!==void 0?f:a.currentTarget;const u=c==null?void 0:c.getBoundingClientRect();let d,m=0,_,h=null;a.clientX!=null&&a.clientY!=null&&(_=a.clientX,h=a.clientY),u&&(_!=null&&h!=null?(d=_-u.left,m=h-u.top):(d=u.width/2,m=u.height/2)),this.type=t,this.pointerType=n,this.target=a.currentTarget,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.x=d,this.y=m}}const ae=Symbol("linkClicked"),ie="react-aria-pressable-style",oe="data-react-aria-pressable";function pt(e){let{onPress:t,onPressChange:n,onPressStart:a,onPressEnd:s,onPressUp:f,onClick:c,isDisabled:u,isPressed:d,preventFocusOnPress:m,shouldCancelOnPointerExit:_,allowTextSelectionOnPress:h,ref:R,...ge}=Qe(e),[Pe,V]=g.useState(!1),C=g.useRef({isPressed:!1,ignoreEmulatedMouseEvents:!1,didFirePressStart:!1,isTriggeringEvent:!1,activePointerId:null,target:null,isOverTarget:!1,pointerType:null,disposables:[]}),{addGlobalListener:L,removeAllGlobalListeners:z}=xe(),D=w((r,l)=>{let $=C.current;if(u||$.didFirePressStart)return!1;let i=!0;if($.isTriggeringEvent=!0,a){let p=new U("pressstart",l,r);a(p),i=p.shouldStopPropagation}return n&&n(!0),$.isTriggeringEvent=!1,$.didFirePressStart=!0,V(!0),i}),K=w((r,l,$=!0)=>{let i=C.current;if(!i.didFirePressStart)return!1;i.didFirePressStart=!1,i.isTriggeringEvent=!0;let p=!0;if(s){let o=new U("pressend",l,r);s(o),p=o.shouldStopPropagation}if(n&&n(!1),V(!1),t&&$&&!u){let o=new U("press",l,r);t(o),p&&(p=o.shouldStopPropagation)}return i.isTriggeringEvent=!1,p}),O=w((r,l)=>{let $=C.current;if(u)return!1;if(f){$.isTriggeringEvent=!0;let i=new U("pressup",l,r);return f(i),$.isTriggeringEvent=!1,i.shouldStopPropagation}return!0}),x=w(r=>{let l=C.current;if(l.isPressed&&l.target){l.didFirePressStart&&l.pointerType!=null&&K(S(l.target,r),l.pointerType,!1),l.isPressed=!1,l.isOverTarget=!1,l.activePointerId=null,l.pointerType=null,z(),h||re(l.target);for(let $ of l.disposables)$();l.disposables=[]}}),q=w(r=>{_&&x(r)}),B=w(r=>{u||c==null||c(r)}),J=w((r,l)=>{if(!u&&c){let $=new MouseEvent("click",r);we($,l),c(Se($))}}),he=g.useMemo(()=>{let r=C.current,l={onKeyDown(i){if(j(i.nativeEvent,i.currentTarget)&&P(i.currentTarget,y(i.nativeEvent))){var p;se(y(i.nativeEvent),i.key)&&i.preventDefault();let o=!0;if(!r.isPressed&&!i.repeat){r.target=i.currentTarget,r.isPressed=!0,r.pointerType="keyboard",o=D(i,"keyboard");let b=i.currentTarget,v=T=>{j(T,b)&&!T.repeat&&P(b,y(T))&&r.target&&O(S(r.target,T),"keyboard")};L(k(i.currentTarget),"keyup",de(v,$),!0)}o&&i.stopPropagation(),i.metaKey&&G()&&((p=r.metaKeyEvents)===null||p===void 0||p.set(i.key,i.nativeEvent))}else i.key==="Meta"&&(r.metaKeyEvents=new Map)},onClick(i){if(!(i&&!P(i.currentTarget,y(i.nativeEvent)))&&i&&i.button===0&&!r.isTriggeringEvent&&!M.isOpening){let p=!0;if(u&&i.preventDefault(),!r.ignoreEmulatedMouseEvents&&!r.isPressed&&(r.pointerType==="virtual"||Ke(i.nativeEvent))){let o=D(i,"virtual"),b=O(i,"virtual"),v=K(i,"virtual");B(i),p=o&&b&&v}else if(r.isPressed&&r.pointerType!=="keyboard"){let o=r.pointerType||i.nativeEvent.pointerType||"virtual",b=O(S(i.currentTarget,i),o),v=K(S(i.currentTarget,i),o,!0);p=b&&v,r.isOverTarget=!1,B(i),x(i)}r.ignoreEmulatedMouseEvents=!1,p&&i.stopPropagation()}}},$=i=>{var p;if(r.isPressed&&r.target&&j(i,r.target)){var o;se(y(i),i.key)&&i.preventDefault();let v=y(i),T=P(r.target,y(i));K(S(r.target,i),"keyboard",T),T&&J(i,r.target),z(),i.key!=="Enter"&&X(r.target)&&P(r.target,v)&&!i[ae]&&(i[ae]=!0,M(r.target,i,!1)),r.isPressed=!1,(o=r.metaKeyEvents)===null||o===void 0||o.delete(i.key)}else if(i.key==="Meta"&&(!((p=r.metaKeyEvents)===null||p===void 0)&&p.size)){var b;let v=r.metaKeyEvents;r.metaKeyEvents=void 0;for(let T of v.values())(b=r.target)===null||b===void 0||b.dispatchEvent(new KeyboardEvent("keyup",T))}};if(typeof PointerEvent<"u"){l.onPointerDown=o=>{if(o.button!==0||!P(o.currentTarget,y(o.nativeEvent)))return;if(ke(o.nativeEvent)){r.pointerType="virtual";return}r.pointerType=o.pointerType;let b=!0;if(!r.isPressed){r.isPressed=!0,r.isOverTarget=!0,r.activePointerId=o.pointerId,r.target=o.currentTarget,h||Ye(r.target),b=D(o,r.pointerType);let v=y(o.nativeEvent);"releasePointerCapture"in v&&v.releasePointerCapture(o.pointerId),L(k(o.currentTarget),"pointerup",i,!1),L(k(o.currentTarget),"pointercancel",p,!1)}b&&o.stopPropagation()},l.onMouseDown=o=>{if(P(o.currentTarget,y(o.nativeEvent))&&o.button===0){if(m){let b=Ce(o.target);b&&r.disposables.push(b)}o.stopPropagation()}},l.onPointerUp=o=>{!P(o.currentTarget,y(o.nativeEvent))||r.pointerType==="virtual"||o.button===0&&!r.isPressed&&O(o,r.pointerType||o.pointerType)},l.onPointerEnter=o=>{o.pointerId===r.activePointerId&&r.target&&!r.isOverTarget&&r.pointerType!=null&&(r.isOverTarget=!0,D(S(r.target,o),r.pointerType))},l.onPointerLeave=o=>{o.pointerId===r.activePointerId&&r.target&&r.isOverTarget&&r.pointerType!=null&&(r.isOverTarget=!1,K(S(r.target,o),r.pointerType,!1),q(o))};let i=o=>{if(o.pointerId===r.activePointerId&&r.isPressed&&o.button===0&&r.target){if(P(r.target,y(o))&&r.pointerType!=null){let b=!1,v=setTimeout(()=>{r.isPressed&&r.target instanceof HTMLElement&&(b?x(o):(F(r.target),r.target.click()))},80);L(o.currentTarget,"click",()=>b=!0,!0),r.disposables.push(()=>clearTimeout(v))}else x(o);r.isOverTarget=!1}},p=o=>{x(o)};l.onDragStart=o=>{P(o.currentTarget,y(o.nativeEvent))&&x(o)}}return l},[L,u,m,z,h,x,q,K,D,O,B,J]);return g.useEffect(()=>{if(!R)return;const r=k(R.current);if(!r||!r.head||r.getElementById(ie))return;const l=r.createElement("style");l.id=ie,l.textContent=`
@layer {
  [${oe}] {
    touch-action: pan-x pan-y pinch-zoom;
  }
}
    `.trim(),r.head.prepend(l)},[R]),g.useEffect(()=>{let r=C.current;return()=>{var l;h||re((l=r.target)!==null&&l!==void 0?l:void 0);for(let $ of r.disposables)$();r.disposables=[]}},[h]),{isPressed:d||Pe,pressProps:H(ge,he,{[oe]:!0})}}function X(e){return e.tagName==="A"&&e.hasAttribute("href")}function j(e,t){const{key:n,code:a}=e,s=t,f=s.getAttribute("role");return(n==="Enter"||n===" "||n==="Spacebar"||a==="Space")&&!(s instanceof Q(s).HTMLInputElement&&!ye(s,n)||s instanceof Q(s).HTMLTextAreaElement||s.isContentEditable)&&!((f==="link"||!f&&X(s))&&n!=="Enter")}function S(e,t){let n=t.clientX,a=t.clientY;return{currentTarget:e,shiftKey:t.shiftKey,ctrlKey:t.ctrlKey,metaKey:t.metaKey,altKey:t.altKey,clientX:n,clientY:a}}function Ze(e){return e instanceof HTMLInputElement?!1:e instanceof HTMLButtonElement?e.type!=="submit"&&e.type!=="reset":!X(e)}function se(e,t){return e instanceof HTMLInputElement?!ye(e,t):Ze(e)}const et=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function ye(e,t){return e.type==="checkbox"||e.type==="radio"?t===" ":et.has(e.type)}function tt(e){const t=k(e),n=Z(t);if(Ae()==="virtual"){let a=n;pe(()=>{Z(t)===a&&e.isConnected&&F(e)})}else F(e)}function le(e){if(!e)return;let t=!0;return n=>{let a={...n,preventDefault(){n.preventDefault()},isDefaultPrevented(){return n.isDefaultPrevented()},stopPropagation(){t=!0},continuePropagation(){t=!1},isPropagationStopped(){return t}};e(a),t&&n.stopPropagation()}}function rt(e){return{keyboardProps:e.isDisabled?{}:{onKeyDown:le(e.onKeyDown),onKeyUp:le(e.onKeyUp)}}}let nt=fe.createContext(null);function at(e){let t=g.useContext(nt)||{};be(t,e);let{ref:n,...a}=t;return a}function bt(e,t){let{focusProps:n}=Me(e),{keyboardProps:a}=rt(e),s=H(n,a),f=at(t),c=e.isDisabled?{}:f,u=g.useRef(e.autoFocus);g.useEffect(()=>{u.current&&t.current&&tt(t.current),u.current=!1},[t]);let d=e.excludeFromTabOrder?-1:0;return e.isDisabled&&(d=void 0),{focusableProps:H({...s,tabIndex:d},c)}}export{H as $,ft as a,Re as b,pt as c,rt as d,dt as e,ut as f,De as g,tt as h,M as i,bt as j};
