import{j as n}from"./jsx-runtime-DH9XN8A8.js";import{r as o}from"./index-v7USjxUg.js";import{T as fe,b as me}from"./TextInput-NLH6WSWe.js";import{u as we}from"./useMemoizedId-Cl5PI4eu.js";import{d as be}from"./debounce-D-gCfJwF.js";import{m as g}from"./merge-DI-veSMP.js";import{V as W}from"./validation-CJXPAjNB.js";import"./_commonjsHelpers-Cpj98o6Y.js";import"./useFocusRing-CP9UJNUw.js";import"./useEffectEvent-BaECT7_f.js";import"./LoadingCircle-CnEko-RI.js";import"./IconCheckMark-CMS57PRn.js";import"./IconSize-BcCrF_mi.js";import"./IconCross-LL1GOU_p.js";import"./IconExclamationMarkTriangle-CTTfs2nR.js";import"./IconExclamationMarkTriangle24-ZUoV6XtQ.js";import"./focusStyle-CBFElZiz.js";import"./LegacyTooltip-BReeJmjq.js";import"./useLink-C2PgwcjG.js";import"./useFocusable-BRFkliNn.js";import"./chain-C8AhrK0W.js";import"./usePopper-BO8FF5JQ.js";import"./index-voQlCD4e.js";import"./index-DlnOb27V.js";import"./Button-BfBJpGQT.js";import"./useButton-B6orroTH.js";import"./Portal-BMcVKwlx.js";import"./IconExclamationMarkCircle24-CS86ZjBV.js";const L=(y,m,S)=>Math.max(m,Math.min(y,S)),ge=0,ye=100,he=1,xe=5,Ee="Slider text input",ve=3,X=["ArrowUp","ArrowRight"],B=["ArrowDown","ArrowLeft"],K=["Home","End"],k=({id:y,label:m,value:S,min:r=ge,max:i=ye,showMinMax:U=!1,step:p=he,stepMultiplier:ee=xe,valueSuffix:a="",onError:D,onChange:$,"aria-label":j=Ee,"aria-labelledby":q,disabled:t=!1,"data-test-id":T="fondue-slider"})=>{const[u,h]=o.useState(),[d,N]=o.useState(""),[w,V]=o.useState(),[P,I]=o.useState(),[l,te]=o.useState(null),[re,C]=o.useState(!1),[R,M]=o.useState(!1),b=we(y),ae=e=>{N(`${e.replace(a,"")}${a}`)},f=o.useCallback(({clientX:e,rawValue:s})=>{if(!l)return;const c=i-r,ue=l.getBoundingClientRect().x,de=l.clientWidth;let A;if(e!==void 0)A=(e-ue)/de;else{A=((s??r)-r)/c,I(L(A,0,1)*100);return}const ce=L(A,0,1),pe=c/p,O=L(Math.round(ce*pe)*p+r,r,i);I((O-r)/c*100),N(`${O}${a}`)},[l,i,r,p,a]),x=o.useMemo(()=>l?be(e=>{t||f({clientX:e.clientX??e.touches[0].clientX})},ve):()=>{},[f,l,t]),_=o.useCallback(()=>{l&&(M(!1),window.removeEventListener("mousemove",x),window.removeEventListener("touchmove",x),window.removeEventListener("mouseup",_))},[l,x]),F=e=>{!l||t||(M(!0),f({clientX:e.clientX??e.touches[0].clientX}),window.addEventListener("mousemove",x),window.addEventListener("touchmove",x),window.addEventListener("mouseup",_))},se=e=>{if(![...X,...B,...K].includes(e.key)||u===void 0||t)return;e.preventDefault();let s=0,c=0;B.includes(e.key)?s=-p:X.includes(e.key)&&(s=p),K.includes(e.key)?c=e.key==="Home"?r:i:(s*=e.shiftKey?ee:1,c=L(Math.floor(u/p)*p+s,r,i)),h(c),N(`${c}${a}`)},oe=()=>{t||C(!0)},ne=()=>{t||C(!1)},ie=()=>{t||M(!0)},le=()=>{t||M(!1)};return o.useEffect(()=>{if(!l)return;if(r>i){V("MinMax");return}const e=S??r;h(e),N(`${e}${a}`),f({rawValue:e})},[l,f,r,i,S,a]),o.useEffect(()=>{if(!d)return;const e=d.replace(a,""),s=+e;if(Number.isNaN(s)||!e){h(void 0),V("ValueNaN");return}if(s<r||s>i){h(void 0),V("ValueOutOfRange");return}V(void 0),h(s)},[d,a,r,i]),o.useEffect(()=>{if(w||u===void 0||!d)return;const s=+d.replace(a,"");Number.isNaN(s)||u!==s||(f({rawValue:u}),t||$({raw:u,withSuffix:d.replace(a,"")+a}))},[u,d,a,w,$,f,t]),o.useEffect(()=>{w&&D&&D(w)},[w,D]),n.jsxs("div",{className:"tw-flex tw-flex-col","data-test-id":T,id:b,children:[n.jsx("label",{id:`${b}-label`,htmlFor:b,className:g([!m&&"tw-hidden",t&&"tw-text-text-disabled"]),"data-test-id":`${T}-label`,children:m}),n.jsx("div",{className:"tw-flex",children:n.jsxs("div",{className:g(["tw-flex-1 tw-flex tw-items-center"]),children:[U&&n.jsxs("div",{className:g(["tw-mr-3",t&&"tw-text-text-disabled"]),children:[r,a]}),n.jsxs("button",{ref:te,"data-test-id":`${T}-interactive`,className:"tw-flex-1 tw-relative tw-h-full tw-cursor-pointer disabled:tw-cursor-default tw-outline-none",onMouseOver:oe,onMouseOut:ne,onFocus:ie,onBlur:le,onMouseDown:F,onMouseUp:_,onTouchStart:F,onTouchEnd:_,onKeyDown:se,disabled:t,children:[n.jsx("span",{className:"tw-absolute tw-block tw-top-1/2 tw--translate-y-1/2 tw-w-full tw-h-1 tw-rounded-sm tw-bg-box-neutral tw-flex-1"}),P!==void 0&&n.jsx("span",{role:"slider","aria-valuenow":u,"aria-valuemin":r,"aria-valuemax":i,"aria-label":j,"aria-labelledby":m?`${b}-label`:q,"data-test-id":`${T}-track`,className:g(["tw-absolute tw-block tw-top-1/2 tw--translate-y-1/2 tw-origin-left tw-w-full tw-h-1  tw-rounded-sm tw-bg-box-neutral-strong tw-flex-1",t&&"tw-bg-box-neutral"]),style:{width:`${P}%`}}),n.jsx("span",{className:g(["tw-absolute tw-block tw-top-1/2 tw--translate-y-1/2 tw--translate-x-1/2 tw-w-5 tw-h-5","after:tw-absolute after:tw-block after:tw-top-1/2 after:tw-left-1/2 after:tw--translate-y-1/2 after:tw--translate-x-1/2 after:tw-w-5 after:tw-h-5 after:tw-bg-base after:tw-rounded-full after:tw-border after:tw-border-line-strong",re&&!R&&"after:tw-shadow",R&&"after:tw-border-line-xx-strong before:tw-content-[''] before:tw-opacity-25 before:tw-top-1/2 before:tw--translate-y-1/2 before:tw--translate-x-1/2 before:tw-left-1/2 before:tw-block before:tw-rounded-full before:tw-absolute before:tw-z-0 before:tw-w-9 before:tw-h-9 before:tw-bg-box-neutral-strong",t&&"after:tw-bg-box-neutral after:tw-border-line-weak"]),style:{left:`${P}%`}})]}),U&&n.jsxs("div",{className:g(["tw-ml-3",t&&"tw-text-text-disabled"]),children:[i,a]}),n.jsx("div",{className:"tw-w-16 tw-ml-3",children:n.jsx(fe,{id:`${b}-text-input`,value:d,placeholder:j,"aria-labelledby":m?`${b}-label`:q,type:me.Text,validation:w?W.Error:W.Default,onChange:ae,disabled:t})})]})})]})};k.displayName="FondueSlider";k.__docgenInfo={description:"@deprecated Use `Slider` from `@frontify/fondue/components` instead. Also check {@link https://github.com/Frontify/fondue/blob/main/packages/components/MIGRATING.md#slider the migration guide}.",methods:[],displayName:"FondueSlider",props:{id:{required:!1,tsType:{name:"string"},description:""},label:{required:!1,tsType:{name:"string"},description:""},value:{required:!1,tsType:{name:"number"},description:""},min:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"0",computed:!1}},max:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"100",computed:!1}},showMinMax:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},step:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"1",computed:!1}},stepMultiplier:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"5",computed:!1}},onError:{required:!1,tsType:{name:"signature",type:"function",raw:"(errorCode: SliderError) => void",signature:{arguments:[{type:{name:"SliderError"},name:"errorCode"}],return:{name:"void"}}},description:""},onChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(value: SliderValue) => void",signature:{arguments:[{type:{name:"signature",type:"object",raw:`{
    raw: number;
    withSuffix: string;
}`,signature:{properties:[{key:"raw",value:{name:"number",required:!0}},{key:"withSuffix",value:{name:"string",required:!0}}]}},name:"value"}],return:{name:"void"}}},description:""},valueSuffix:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"''",computed:!1}},disabled:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},"data-test-id":{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"'fondue-slider'",computed:!1}},"aria-label":{defaultValue:{value:"'Slider text input'",computed:!1},required:!1}}};const Ze={title:"Components/Slider",component:k,tags:["autodocs"],argTypes:{id:{type:"string"},value:{type:"number"},min:{type:"number"},max:{type:"number"},step:{type:"number"},stepMultiplier:{type:"number"},label:{type:"string"},"aria-label":{type:"string"},valueSuffix:{type:"string"},showMinMax:{type:"boolean"},disabled:{type:"boolean"},onChange:{action:"Value change"},onError:{action:"Slider error"}},args:{min:0,max:100,stepMultiplier:5},parameters:{status:{type:"deprecated"},docs:{description:{component:"### This component is deprecated, please use the [new Slider component](/docs/current_components-slider--documentation) instead."}}}},Z=y=>n.jsx(k,{...y}),E=Z.bind({});E.args={min:0,max:100,value:30,step:1,valueSuffix:"%","aria-label":"Percentage slider"};const v=Z.bind({});v.args={value:20,"aria-label":"Percentage slider",disabled:!0};var z,Y,G;E.parameters={...E.parameters,docs:{...(z=E.parameters)==null?void 0:z.docs,source:{originalSource:`(args: SliderProps) => {
  return <Slider {...args} />;
}`,...(G=(Y=E.parameters)==null?void 0:Y.docs)==null?void 0:G.source}}};var H,J,Q;v.parameters={...v.parameters,docs:{...(H=v.parameters)==null?void 0:H.docs,source:{originalSource:`(args: SliderProps) => {
  return <Slider {...args} />;
}`,...(Q=(J=v.parameters)==null?void 0:J.docs)==null?void 0:Q.source}}};const et=["BasicUsage","DisabledState"];export{E as BasicUsage,v as DisabledState,et as __namedExportsOrder,Ze as default};
