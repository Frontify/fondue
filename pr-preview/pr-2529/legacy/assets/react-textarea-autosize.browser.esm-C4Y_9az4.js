import{r as a}from"./iframe-DDukKVq9.js";function z(){return z=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var e in r)({}).hasOwnProperty.call(r,e)&&(n[e]=r[e])}return n},z.apply(null,arguments)}function A(n,t){if(n==null)return{};var r={};for(var e in n)if({}.hasOwnProperty.call(n,e)){if(t.indexOf(e)!==-1)continue;r[e]=n[e]}return r}var O=a.useLayoutEffect,I=function(t){var r=a.useRef(t);return O(function(){r.current=t}),r},H=function(t,r){if(typeof t=="function"){t(r);return}t.current=r},j=function(t,r){var e=a.useRef();return a.useCallback(function(i){t.current=i,e.current&&H(e.current,null),e.current=r,r&&H(r,i)},[r])},C={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0",display:"block"},B=function(t){Object.keys(C).forEach(function(r){t.style.setProperty(r,C[r],"important")})},E=B,o=null,F=function(t,r){var e=t.scrollHeight;return r.sizingStyle.boxSizing==="border-box"?e+r.borderSize:e-r.paddingSize};function M(n,t,r,e){r===void 0&&(r=1),e===void 0&&(e=1/0),o||(o=document.createElement("textarea"),o.setAttribute("tabindex","-1"),o.setAttribute("aria-hidden","true"),E(o)),o.parentNode===null&&document.body.appendChild(o);var i=n.paddingSize,f=n.borderSize,u=n.sizingStyle,p=u.boxSizing;Object.keys(u).forEach(function(c){var b=c;o.style[b]=u[b]}),E(o),o.value=t;var d=F(o,n);o.value=t,d=F(o,n),o.value="x";var g=o.scrollHeight-i,l=g*r;p==="border-box"&&(l=l+i+f),d=Math.max(l,d);var h=g*e;return p==="border-box"&&(h=h+i+f),d=Math.min(h,d),[d,g]}var T=function(){},N=function(t,r){return t.reduce(function(e,i){return e[i]=r[i],e},{})},P=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak","wordSpacing","scrollbarGutter"],$=!!document.documentElement.currentStyle,_=function(t){var r=window.getComputedStyle(t);if(r===null)return null;var e=N(P,r),i=e.boxSizing;if(i==="")return null;$&&i==="border-box"&&(e.width=parseFloat(e.width)+parseFloat(e.borderRightWidth)+parseFloat(e.borderLeftWidth)+parseFloat(e.paddingRight)+parseFloat(e.paddingLeft)+"px");var f=parseFloat(e.paddingBottom)+parseFloat(e.paddingTop),u=parseFloat(e.borderBottomWidth)+parseFloat(e.borderTopWidth);return{sizingStyle:e,paddingSize:f,borderSize:u}},G=_;function L(n,t,r){var e=I(r);a.useLayoutEffect(function(){var i=function(u){return e.current(u)};if(n)return n.addEventListener(t,i),function(){return n.removeEventListener(t,i)}},[])}var Y=function(t,r){L(document.body,"reset",function(e){t.current.form===e.target&&r(e)})},q=function(t){L(window,"resize",t)},U=function(t){L(document.fonts,"loadingdone",t)},X=["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"],Z=function(t,r){var e=t.cacheMeasurements,i=t.maxRows,f=t.minRows,u=t.onChange,p=u===void 0?T:u,d=t.onHeightChange,g=d===void 0?T:d,l=A(t,X),h=l.value!==void 0,c=a.useRef(null),b=j(c,r),R=a.useRef(0),S=a.useRef(),v=function(){var s=c.current,y=e&&S.current?S.current:G(s);if(y){S.current=y;var w=M(y,s.value||s.placeholder||"x",f,i),m=w[0],k=w[1];R.current!==m&&(R.current=m,s.style.setProperty("height",m+"px","important"),g(m,{rowHeight:k}))}},W=function(s){h||v(),p(s)};return a.useLayoutEffect(v),Y(c,function(){if(!h){var x=c.current.value;requestAnimationFrame(function(){var s=c.current;s&&x!==s.value&&v()})}}),q(v),U(v),a.createElement("textarea",z({},l,{onChange:W,ref:b}))},J=a.forwardRef(Z);export{J as i};
