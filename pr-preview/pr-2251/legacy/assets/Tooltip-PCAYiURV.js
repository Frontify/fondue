import{j as i}from"./jsx-runtime-DH9XN8A8.js";import{r as n}from"./index-v7USjxUg.js";import{u as W}from"./useClickOutside-nHRsWOx2.js";import{u as $}from"./usePopper-BO8FF5JQ.js";import{E as J,u as Q}from"./EnablePortalWrapper-DzTSSIqA.js";import{m as L,a as ee}from"./merge-DI-veSMP.js";import{P as te}from"./Portal-BMcVKwlx.js";import{T as ae,c as ne}from"./elements-BOYmskOL.js";import{u as re}from"./useMemoizedId-Cl5PI4eu.js";import{M as E,o as oe,b as le}from"./dialog-Dre1eVQK.js";import{a as se}from"./focusStyle-CBFElZiz.js";const ie=200,ue=400,de="100px",me=12,j=7,pe=({dimension:t,isVerticalAlignedToTop:e})=>({left:`${(window.innerWidth-t.width)/2}px`,top:e?de:`${(window.innerHeight-t.height)/2}px`,transform:"none"}),fe=t=>{switch(!0){case t.includes("top"):return"before:tw-border-t-0 before:tw-border-l-0 tw-bottom-[-6px]";case t.includes("right"):return"before:tw-border-t-0 before:tw-border-r-0 tw-left-[-6px]";case t.includes("bottom"):return"before:tw-border-b-0 before:tw-border-r-0 tw-top-[-6px]";case t.includes("left"):return"before:tw-border-b-0 before:tw-border-l-0 tw-right-[-6px]";default:return"before:tw-border-b-0 before:tw-border-r-0 tw-top-[-6px]"}},ce=(t,e)=>{switch(!0){case t.includes("end"):return[e[0]+j,e[1]];case t.includes("start"):return[e[0]-j,e[1]];default:return e}},H=({children:t,open:e,placement:a="bottom-start",offset:o=[0,8],flip:s=!0,enablePortal:r=!0,zIndex:u="auto",isDetached:d=!1,verticalAlignment:y,strategy:c="absolute",anchor:p,withArrow:g=!1,arrowCustomColors:N})=>{const[V,b]=n.useState(null),[m,_]=n.useState(null),[v,O]=n.useState(null),[A,M]=n.useState(o),[q,I]=n.useState({width:ie,height:ue});n.useEffect(()=>{const f=p==null?void 0:p.current;b(f)},[p]);const x=d?document.body:V,l=$(x,m,{placement:a,modifiers:[{name:"offset",options:{offset:A}},{name:"flip",enabled:s},{name:"arrow",options:{element:v,padding:me}}],strategy:c}),h=l.state?l.state.placement:a,R=n.useMemo(()=>fe(h),[h]);n.useEffect(()=>{const f=g?ce(h,o):o;M(T=>f[0]!==T[0]||f[1]!==T[1]?f:T)},[h,o,g]),n.useLayoutEffect(()=>{const f=()=>{var T,k,w,D;d&&l.state&&e&&I({width:(k=(T=l.state.rects)==null?void 0:T.popper)==null?void 0:k.width,height:(D=(w=l.state.rects)==null?void 0:w.popper)==null?void 0:D.height})};return f(),window.addEventListener("resize",f),()=>{window.removeEventListener("resize",f)}},[d,e,l.state]);const P=d?pe({dimension:q,isVerticalAlignedToTop:y==="top"}):{};return e&&i.jsx(J,{enablePortal:r,children:i.jsxs("div",{ref:_,style:{zIndex:u,...l.styles.popper,...P},...l.attributes.popper,children:[t,g&&i.jsx("div",{"data-test-id":"popper-arrow","data-popper-arrow":g,"aria-hidden":"true",ref:O,style:l.styles.arrow,className:L(["tw-absolute tw-w-3 tw-h-3 tw-pointer-events-none before:tw-absolute before:tw-w-3 before:tw-h-3 before:tw-rotate-45",N,R])})]})})};H.displayName="FonduePopper";H.__docgenInfo={description:"@deprecated Please use updated flyout component from `@frontify/fondue/components` instead. Also check {@link https://github.com/Frontify/fondue/blob/main/packages/components/MIGRATING.md#flyout-old-inlinedialog the migration guide}.",methods:[],displayName:"FonduePopper",props:{children:{required:!1,tsType:{name:"ReactNode"},description:""},anchor:{required:!0,tsType:{name:"RefObject",elements:[{name:"Element"}],raw:"RefObject<Element>"},description:""},open:{required:!1,tsType:{name:"boolean"},description:""},placement:{required:!1,tsType:{name:"union",raw:`| 'top'
| 'bottom'
| 'top-start'
| 'bottom-start'
| 'top-end'
| 'bottom-end'
| 'right'
| 'left'
| 'right-start'
| 'right-end'
| 'left-start'
| 'left-end'`,elements:[{name:"literal",value:"'top'"},{name:"literal",value:"'bottom'"},{name:"literal",value:"'top-start'"},{name:"literal",value:"'bottom-start'"},{name:"literal",value:"'top-end'"},{name:"literal",value:"'bottom-end'"},{name:"literal",value:"'right'"},{name:"literal",value:"'left'"},{name:"literal",value:"'right-start'"},{name:"literal",value:"'right-end'"},{name:"literal",value:"'left-start'"},{name:"literal",value:"'left-end'"}]},description:"",defaultValue:{value:"'bottom-start'",computed:!1}},offset:{required:!1,tsType:{name:"tuple",raw:"[number, number]",elements:[{name:"number"},{name:"number"}]},description:"",defaultValue:{value:"[0, 8]",computed:!1}},flip:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"true",computed:!1}},enablePortal:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"true",computed:!1}},zIndex:{required:!1,tsType:{name:"union",raw:"number | string",elements:[{name:"number"},{name:"string"}]},description:"",defaultValue:{value:"'auto'",computed:!1}},isDetached:{required:!1,tsType:{name:"boolean"},description:"@description This property will detach the overlay from its trigger and will be relatively position to the body. example: Dialog compoennt.",defaultValue:{value:"false",computed:!1}},verticalAlignment:{required:!1,tsType:{name:"union",raw:"'top' | 'centered'",elements:[{name:"literal",value:"'top'"},{name:"literal",value:"'centered'"}]},description:"@description This property will take effect only if isDetached is enabled."},strategy:{required:!1,tsType:{name:"PositioningStrategy"},description:"@description The property sets the way the modal is positioned on the view",defaultValue:{value:"'absolute'",computed:!1}},withArrow:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},arrowCustomColors:{required:!1,tsType:{name:"string"},description:""}}};const be=(t,e=!1,a=null)=>{const o=n.useRef(null),s=n.useCallback(r=>{var p;const u=[...((p=o.current)==null?void 0:p.querySelectorAll(ae))??[]],d=u[0],y=u[u.length-1],c=r.key==="Tab";u.length===0||!c||(a===r.target&&(d.focus(),r.preventDefault()),!r.shiftKey&&r.target===y&&(d.focus(),r.preventDefault()),r.shiftKey&&r.target===d&&(y.focus(),r.preventDefault()))},[a]);return n.useEffect(()=>{if(e)return;const r=o.current,u=document.activeElement??document.body;return t&&(a==null||a.addEventListener("keydown",s),r==null||r.addEventListener("keydown",s)),()=>{a==null||a.removeEventListener("keydown",s),r==null||r.removeEventListener("keydown",s),u.focus()}},[s,e,t,a]),{elementRef:o}},we=(t,{isBlockingModal:e,callback:a}={isBlockingModal:!1})=>{const o=n.useCallback(s=>{const r=typeof a=="function"?a:()=>({});t&&s.stopPropagation(),t&&!e&&s.key==="Escape"&&r()},[a,e,t]);n.useEffect(()=>(window.addEventListener("keydown",o),()=>{window.removeEventListener("keydown",o)}),[o,e])},ye=()=>{const[t,e]=n.useState(!1);return n.useEffect(()=>{const a=()=>{const o=window.matchMedia("only screen and (max-width: 640px)").matches;e(o)};return a(),window.addEventListener("resize",a),window.addEventListener("load",a),()=>{window.removeEventListener("resize",a),window.removeEventListener("load",a)}},[]),t},ge=1400,Le=1200,ve=1100,De=1e3,he="tw-bg-base tw-border tw-border-line",Te="tw-bg-box-neutral-mighty tw-text-box-neutral-mighty-inverse tw-border tw-border-line-mighty",Ee="before:tw-border before:tw-border-line-mighty before:tw-bg-box-neutral-mighty",Se="before:tw-border before:tw-border-line before:tw-bg-base",G=({id:t,open:e,anchor:a,placement:o="bottom-start",offset:s=[0,8],flip:r=!0,enablePortal:u,children:d,role:y="region","data-test-id":c="fondue-overlay",maxWidth:p="auto",maxHeight:g="auto",minWidth:N=0,minHeight:V=0,handleClose:b,modality:m=E.NonModal,darkUnderlay:_,autoHeight:v,zIndex:O,isDetached:A,verticalAlignment:M,strategy:q,theme:I="light",withArrow:x,arrowCustomColors:l,roundedCorners:h=!0,shadow:R="large",isDialog:P=!0,width:f,borderRadius:T="small"})=>{const k=re(t),[w,D]=n.useState(null);n.useEffect(()=>{const F=a==null?void 0:a.current;F&&D(F)},[a]);const{maxHeight:K}=Q({current:w},{isOpen:e,autoResize:!0}),X=v?K:g,C=n.useCallback(()=>{e&&m!==E.BlockingModal&&b&&(b(),w==null||w.focus())},[b,m,e,w]),{elementRef:Y}=be(e,m===E.NonModal,w),{dismissibleElementRef:Z}=W(C);we(e,{isBlockingModal:m===E.BlockingModal,callback:C}),n.useEffect(()=>(m!==E.NonModal&&(e&&(document.body.style.pointerEvents="none",q==="fixed"&&(document.body.style.overflow="hidden")),e||(document.body.style.pointerEvents="auto",document.body.style.overflow="auto")),()=>{m!==E.NonModal&&(document.body.style.pointerEvents="auto")}),[e,m,q]);const S=ye();return i.jsxs(i.Fragment,{children:[i.jsx(H,{anchor:a,"data-test-id":c,open:e,placement:o,offset:s,flip:r,enablePortal:u,zIndex:O,isDetached:A,verticalAlignment:M,strategy:q,withArrow:x,arrowCustomColors:l,children:i.jsx("div",{ref:ee(Z,Y),"data-test-id":`${c}-content`,className:L(["tw-flex tw-flex-col tw-pointer-events-auto",I==="light"?he:Te,h&&oe[T],le[R]]),role:y,id:k,"aria-hidden":!e,"aria-labelledby":k,style:{width:f,minWidth:S&&P?"90vw":N,minHeight:V,maxWidth:S&&P?"90vw":p,maxHeight:X},children:d})}),P&&m!==E.NonModal&&e&&i.jsx(te,{children:i.jsx("div",{"data-test-id":`${c}-underlay`,className:L(["tw-fixed tw-top-0 tw-left-0 tw-bottom-0 tw-right-0",(_||S)&&"tw-transition-opacity tw-bg-box-neutral-mighty tw-opacity-50"]),style:{zIndex:ve}})})]})};G.__docgenInfo={description:"",methods:[],displayName:"Overlay",props:{children:{required:!1,tsType:{name:"ReactNode"},description:""},anchor:{required:!0,tsType:{name:"RefObject",elements:[{name:"Element"}],raw:"RefObject<Element>"},description:""},open:{required:!0,tsType:{name:"boolean"},description:""},placement:{required:!1,tsType:{name:"union",raw:`| 'top'
| 'bottom'
| 'top-start'
| 'bottom-start'
| 'top-end'
| 'bottom-end'
| 'right'
| 'left'
| 'right-start'
| 'right-end'
| 'left-start'
| 'left-end'`,elements:[{name:"literal",value:"'top'"},{name:"literal",value:"'bottom'"},{name:"literal",value:"'top-start'"},{name:"literal",value:"'bottom-start'"},{name:"literal",value:"'top-end'"},{name:"literal",value:"'bottom-end'"},{name:"literal",value:"'right'"},{name:"literal",value:"'left'"},{name:"literal",value:"'right-start'"},{name:"literal",value:"'right-end'"},{name:"literal",value:"'left-start'"},{name:"literal",value:"'left-end'"}]},description:"",defaultValue:{value:"'bottom-start'",computed:!1}},offset:{required:!1,tsType:{name:"tuple",raw:"[number, number]",elements:[{name:"number"},{name:"number"}]},description:"",defaultValue:{value:"[0, 8]",computed:!1}},flip:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"true",computed:!1}},enablePortal:{required:!1,tsType:{name:"boolean"},description:""},zIndex:{required:!1,tsType:{name:"union",raw:"number | string",elements:[{name:"number"},{name:"string"}]},description:""},isDetached:{required:!1,tsType:{name:"boolean"},description:"@description This property will detach the overlay from its trigger and will be relatively position to the body. example: Dialog compoennt."},verticalAlignment:{required:!1,tsType:{name:"union",raw:"'top' | 'centered'",elements:[{name:"literal",value:"'top'"},{name:"literal",value:"'centered'"}]},description:"@description This property will take effect only if isDetached is enabled."},strategy:{required:!1,tsType:{name:"PositioningStrategy"},description:"@description The property sets the way the modal is positioned on the view"},withArrow:{required:!1,tsType:{name:"boolean"},description:""},arrowCustomColors:{required:!1,tsType:{name:"string"},description:""},id:{required:!1,tsType:{name:"string"},description:""},"data-test-id":{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"'fondue-overlay'",computed:!1}},role:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"'region'",computed:!1}},theme:{required:!1,tsType:{name:"union",raw:"'light' | 'dark'",elements:[{name:"literal",value:"'light'"},{name:"literal",value:"'dark'"}]},description:"",defaultValue:{value:"'light'",computed:!1}},shadow:{required:!1,tsType:{name:"union",raw:"'none' | 'small' | 'medium' | 'large'",elements:[{name:"literal",value:"'none'"},{name:"literal",value:"'small'"},{name:"literal",value:"'medium'"},{name:"literal",value:"'large'"}]},description:"",defaultValue:{value:"'large'",computed:!1}},isDialog:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"true",computed:!1}},handleClose:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},modality:{required:!1,tsType:{name:"Modality"},description:"",defaultValue:{value:"Modality.NonModal",computed:!0}},maxWidth:{required:!1,tsType:{name:"union",raw:"string | number",elements:[{name:"string"},{name:"number"}]},description:"",defaultValue:{value:"'auto'",computed:!1}},maxHeight:{required:!1,tsType:{name:"union",raw:"string | number",elements:[{name:"string"},{name:"number"}]},description:"",defaultValue:{value:"'auto'",computed:!1}},minWidth:{required:!1,tsType:{name:"union",raw:"string | number",elements:[{name:"string"},{name:"number"}]},description:"",defaultValue:{value:"0",computed:!1}},minHeight:{required:!1,tsType:{name:"union",raw:"string | number",elements:[{name:"string"},{name:"number"}]},description:"",defaultValue:{value:"0",computed:!1}},darkUnderlay:{required:!1,tsType:{name:"boolean"},description:"@description This property enable a full screen gray underlay only for modal and blocking-modal options."},autoHeight:{required:!1,tsType:{name:"boolean"},description:`@description If enabled, any value assigned to the maxHeight property won't have any effect.
autoHeight will set the maxHeight of the dialog Component automatically calculating the available space in the viewport.`},roundedCorners:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"true",computed:!1}},width:{required:!1,tsType:{name:"union",raw:"string | number",elements:[{name:"string"},{name:"number"}]},description:""},borderRadius:{required:!1,tsType:{name:"union",raw:"'small' | 'large'",elements:[{name:"literal",value:"'small'"},{name:"literal",value:"'large'"}]},description:"",defaultValue:{value:"'small'",computed:!1}}}};const qe=t=>{const e=/<br\s*\/?>/;return t.split(e).join(`
`)},B=(t,e,a)=>{let o=a;return o&&window.clearTimeout(o),e>0?o=window.setTimeout(t,e):t(),o},z=t=>t.pointerType==="mouse",U=({id:t,children:e,offset:a=[0,8],flip:o=!0,content:s,placement:r="bottom",withArrow:u=!0,size:d="spacious",openOnMount:y=!1,maxWidth:c=200,maxHeight:p="auto",enablePortal:g=!0,enterDelay:N=0,leaveDelay:V=200,disabled:b=!1,zIndex:m=ge,"data-test-id":_="fondue-tooltip"})=>{const v=n.useRef(null),[O,A]=n.useState(y),[M,q]=n.useState(!1),I=()=>{b||(v.current=B(()=>A(!0),N,v.current))},x=n.useCallback(()=>{v.current=B(()=>A(!1),V,v.current)},[V]),{dismissibleElementRef:l}=W(x,[]),h={onBlur:x,onFocus:I,onPointerEnter:R=>{z(R)&&I()},onPointerLeave:R=>{z(R)&&x()}};return n.useEffect(()=>{q(ne(l.current))},[l]),i.jsxs(i.Fragment,{children:[i.jsx("div",{ref:l,tabIndex:M||b?void 0:0,"aria-describedby":t,"aria-disabled":b,"data-test-id":`${_}-button`,className:L(["tw-inline-block tw-rounded tw-max-w-[100%] tw-outline-none",se]),...h,children:e}),i.jsx(G,{id:t,"aria-hidden":!O,open:O,theme:"dark",withArrow:u,arrowCustomColors:Ee,anchor:l,placement:r,offset:a,flip:o,enablePortal:g,role:"tooltip","data-test-id":_,modality:E.NonModal,maxWidth:c,maxHeight:p,zIndex:m,shadow:"none",isDialog:!1,darkUnderlay:!1,children:i.jsx("p",{className:L([d==="spacious"?"tw-pt-2 tw-px-3 tw-pb-2.5":"tw-pt-1 tw-px-2 tw-pb-1.5","tw-text-heading-medium tw-whitespace-pre-line tw-break-words"]),children:qe(s)})})]})};U.displayName="FondueTooltip";U.__docgenInfo={description:"@deprecated Please use updated tooltip component from `@frontify/fondue/components` instead. Also check {@link https://github.com/Frontify/fondue/blob/main/packages/components/MIGRATING.md#tooltip the migration guide}.",methods:[],displayName:"FondueTooltip",props:{id:{required:!1,tsType:{name:"string"},description:""},children:{required:!0,tsType:{name:"ReactElement"},description:""},openOnMount:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},placement:{required:!1,tsType:{name:"union",raw:`| 'top'
| 'bottom'
| 'top-start'
| 'bottom-start'
| 'top-end'
| 'bottom-end'
| 'right'
| 'left'
| 'right-start'
| 'right-end'
| 'left-start'
| 'left-end'`,elements:[{name:"literal",value:"'top'"},{name:"literal",value:"'bottom'"},{name:"literal",value:"'top-start'"},{name:"literal",value:"'bottom-start'"},{name:"literal",value:"'top-end'"},{name:"literal",value:"'bottom-end'"},{name:"literal",value:"'right'"},{name:"literal",value:"'left'"},{name:"literal",value:"'right-start'"},{name:"literal",value:"'right-end'"},{name:"literal",value:"'left-start'"},{name:"literal",value:"'left-end'"}]},description:"",defaultValue:{value:"'bottom'",computed:!1}},offset:{required:!1,tsType:{name:"tuple",raw:"[number, number]",elements:[{name:"number"},{name:"number"}]},description:"",defaultValue:{value:"[0, 8]",computed:!1}},flip:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"true",computed:!1}},enablePortal:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"true",computed:!1}},content:{required:!0,tsType:{name:"string"},description:""},withArrow:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"true",computed:!1}},size:{required:!1,tsType:{name:"union",raw:"'spacious' | 'compact'",elements:[{name:"literal",value:"'spacious'"},{name:"literal",value:"'compact'"}]},description:"",defaultValue:{value:"'spacious'",computed:!1}},maxWidth:{required:!1,tsType:{name:"union",raw:"string | number",elements:[{name:"string"},{name:"number"}]},description:"",defaultValue:{value:"200",computed:!1}},maxHeight:{required:!1,tsType:{name:"union",raw:"string | number",elements:[{name:"string"},{name:"number"}]},description:"",defaultValue:{value:"'auto'",computed:!1}},enterDelay:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"0",computed:!1}},leaveDelay:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"200",computed:!1}},"data-test-id":{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"'fondue-tooltip'",computed:!1}},zIndex:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"1400",computed:!1}},disabled:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}}}};export{Ee as A,G as O,H as P,U as T,Le as Z,De as a,Se as b,ye as u};
