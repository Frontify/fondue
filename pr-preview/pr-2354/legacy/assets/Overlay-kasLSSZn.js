import{j as m}from"./jsx-runtime-BYYWji4R.js";import{r as l}from"./index-ClcD9ViR.js";import{P as Z,O as z,b as W}from"./overlayStyle-EzcPN3Xj.js";import{P as X}from"./Portal-B3A1C5qZ.js";import{u as Y}from"./useClickOutside-BcVMXM8r.js";import{u as G}from"./useDropdownAutoHeight-D5oOQk5u.js";import{T as $}from"./elements-BOYmskOL.js";import{u as U}from"./useMemoizedId-BicaxHcO.js";import{u as J}from"./useMobileDetection-0Drfqsdw.js";import{m as q,a as Q}from"./merge-DI-veSMP.js";import{M as u,o as ee,b as te}from"./dialog-Dre1eVQK.js";const ae=(i,a=!1,t=null)=>{const r=l.useRef(null),n=l.useCallback(e=>{var y;const s=[...((y=r.current)==null?void 0:y.querySelectorAll($))??[]],f=s[0],c=s[s.length-1],p=e.key==="Tab";s.length===0||!p||(t===e.target&&(f.focus(),e.preventDefault()),!e.shiftKey&&e.target===c&&(f.focus(),e.preventDefault()),e.shiftKey&&e.target===f&&(c.focus(),e.preventDefault()))},[t]);return l.useEffect(()=>{if(a)return;const e=r.current,s=document.activeElement??document.body;return i&&(t==null||t.addEventListener("keydown",n),e==null||e.addEventListener("keydown",n)),()=>{t==null||t.removeEventListener("keydown",n),e==null||e.removeEventListener("keydown",n),s.focus()}},[n,a,i,t]),{elementRef:r}},ne=(i,{isBlockingModal:a,callback:t}={isBlockingModal:!1})=>{const r=l.useCallback(n=>{const e=typeof t=="function"?t:()=>({});i&&n.stopPropagation(),i&&!a&&n.key==="Escape"&&e()},[t,a,i]);l.useEffect(()=>(window.addEventListener("keydown",r),()=>{window.removeEventListener("keydown",r)}),[r,a])},be=1400,ve=1200,re=1100,we=1e3,le=({id:i,open:a,anchor:t,placement:r="bottom-start",offset:n=[0,8],flip:e=!0,enablePortal:s,children:f,role:c="region","data-test-id":p="fondue-overlay",maxWidth:y="auto",maxHeight:x="auto",minWidth:M=0,minHeight:N=0,handleClose:g,modality:o=u.NonModal,darkUnderlay:k,autoHeight:O,zIndex:_,isDetached:R,verticalAlignment:V,strategy:b,theme:L="light",withArrow:A,arrowCustomColors:D,roundedCorners:H=!0,shadow:I="large",isDialog:v=!0,width:C,borderRadius:P="small"})=>{const h=U(i),[d,j]=l.useState(null);l.useEffect(()=>{const E=t==null?void 0:t.current;E&&j(E)},[t]);const{maxHeight:B}=G({current:d},{isOpen:a,autoResize:!0}),S=O?B:x,T=l.useCallback(()=>{a&&o!==u.BlockingModal&&g&&(g(),d==null||d.focus())},[g,o,a,d]),{elementRef:F}=ae(a,o===u.NonModal,d),{dismissibleElementRef:K}=Y(T);ne(a,{isBlockingModal:o===u.BlockingModal,callback:T}),l.useEffect(()=>(o!==u.NonModal&&(a&&(document.body.style.pointerEvents="none",b==="fixed"&&(document.body.style.overflow="hidden")),a||(document.body.style.pointerEvents="auto",document.body.style.overflow="auto")),()=>{o!==u.NonModal&&(document.body.style.pointerEvents="auto")}),[a,o,b]);const w=J();return m.jsxs(m.Fragment,{children:[m.jsx(Z,{anchor:t,"data-test-id":p,open:a,placement:r,offset:n,flip:e,enablePortal:s,zIndex:_,isDetached:R,verticalAlignment:V,strategy:b,withArrow:A,arrowCustomColors:D,children:m.jsx("div",{ref:Q(K,F),"data-test-id":`${p}-content`,className:q(["tw-flex tw-flex-col tw-pointer-events-auto",L==="light"?z:W,H&&ee[P],te[I]]),role:c,id:h,"aria-hidden":!a,"aria-labelledby":h,style:{width:C,minWidth:w&&v?"90vw":M,minHeight:N,maxWidth:w&&v?"90vw":y,maxHeight:S},children:f})}),v&&o!==u.NonModal&&a&&m.jsx(X,{children:m.jsx("div",{"data-test-id":`${p}-underlay`,className:q(["tw-fixed tw-top-0 tw-left-0 tw-bottom-0 tw-right-0",(k||w)&&"tw-transition-opacity tw-bg-box-neutral-mighty tw-opacity-50"]),style:{zIndex:re}})})]})};le.__docgenInfo={description:"",methods:[],displayName:"Overlay",props:{children:{required:!1,tsType:{name:"ReactNode"},description:""},anchor:{required:!0,tsType:{name:"RefObject",elements:[{name:"Element"}],raw:"RefObject<Element>"},description:""},open:{required:!0,tsType:{name:"boolean"},description:""},placement:{required:!1,tsType:{name:"union",raw:`| 'top'
| 'bottom'
| 'top-start'
| 'bottom-start'
| 'top-end'
| 'bottom-end'
| 'right'
| 'left'
| 'right-start'
| 'right-end'
| 'left-start'
| 'left-end'`,elements:[{name:"literal",value:"'top'"},{name:"literal",value:"'bottom'"},{name:"literal",value:"'top-start'"},{name:"literal",value:"'bottom-start'"},{name:"literal",value:"'top-end'"},{name:"literal",value:"'bottom-end'"},{name:"literal",value:"'right'"},{name:"literal",value:"'left'"},{name:"literal",value:"'right-start'"},{name:"literal",value:"'right-end'"},{name:"literal",value:"'left-start'"},{name:"literal",value:"'left-end'"}]},description:"",defaultValue:{value:"'bottom-start'",computed:!1}},offset:{required:!1,tsType:{name:"tuple",raw:"[number, number]",elements:[{name:"number"},{name:"number"}]},description:"",defaultValue:{value:"[0, 8]",computed:!1}},flip:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"true",computed:!1}},enablePortal:{required:!1,tsType:{name:"boolean"},description:""},zIndex:{required:!1,tsType:{name:"union",raw:"number | string",elements:[{name:"number"},{name:"string"}]},description:""},isDetached:{required:!1,tsType:{name:"boolean"},description:"@description This property will detach the overlay from its trigger and will be relatively position to the body. example: Dialog compoennt."},verticalAlignment:{required:!1,tsType:{name:"union",raw:"'top' | 'centered'",elements:[{name:"literal",value:"'top'"},{name:"literal",value:"'centered'"}]},description:"@description This property will take effect only if isDetached is enabled."},strategy:{required:!1,tsType:{name:"PositioningStrategy"},description:"@description The property sets the way the modal is positioned on the view"},withArrow:{required:!1,tsType:{name:"boolean"},description:""},arrowCustomColors:{required:!1,tsType:{name:"string"},description:""},id:{required:!1,tsType:{name:"string"},description:""},"data-test-id":{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"'fondue-overlay'",computed:!1}},role:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"'region'",computed:!1}},theme:{required:!1,tsType:{name:"union",raw:"'light' | 'dark'",elements:[{name:"literal",value:"'light'"},{name:"literal",value:"'dark'"}]},description:"",defaultValue:{value:"'light'",computed:!1}},shadow:{required:!1,tsType:{name:"union",raw:"'none' | 'small' | 'medium' | 'large'",elements:[{name:"literal",value:"'none'"},{name:"literal",value:"'small'"},{name:"literal",value:"'medium'"},{name:"literal",value:"'large'"}]},description:"",defaultValue:{value:"'large'",computed:!1}},isDialog:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"true",computed:!1}},handleClose:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},modality:{required:!1,tsType:{name:"Modality"},description:"",defaultValue:{value:"Modality.NonModal",computed:!0}},maxWidth:{required:!1,tsType:{name:"union",raw:"string | number",elements:[{name:"string"},{name:"number"}]},description:"",defaultValue:{value:"'auto'",computed:!1}},maxHeight:{required:!1,tsType:{name:"union",raw:"string | number",elements:[{name:"string"},{name:"number"}]},description:"",defaultValue:{value:"'auto'",computed:!1}},minWidth:{required:!1,tsType:{name:"union",raw:"string | number",elements:[{name:"string"},{name:"number"}]},description:"",defaultValue:{value:"0",computed:!1}},minHeight:{required:!1,tsType:{name:"union",raw:"string | number",elements:[{name:"string"},{name:"number"}]},description:"",defaultValue:{value:"0",computed:!1}},darkUnderlay:{required:!1,tsType:{name:"boolean"},description:"@description This property enable a full screen gray underlay only for modal and blocking-modal options."},autoHeight:{required:!1,tsType:{name:"boolean"},description:`@description If enabled, any value assigned to the maxHeight property won't have any effect.
autoHeight will set the maxHeight of the dialog Component automatically calculating the available space in the viewport.`},roundedCorners:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"true",computed:!1}},width:{required:!1,tsType:{name:"union",raw:"string | number",elements:[{name:"string"},{name:"number"}]},description:""},borderRadius:{required:!1,tsType:{name:"union",raw:"'small' | 'large'",elements:[{name:"literal",value:"'small'"},{name:"literal",value:"'large'"}]},description:"",defaultValue:{value:"'small'",computed:!1}}}};export{le as O,ve as Z,be as a,we as b};
