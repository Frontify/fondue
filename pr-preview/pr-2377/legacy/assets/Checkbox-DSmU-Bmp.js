import{j as l}from"./jsx-runtime-DF2Pcvd1.js";import{r as c}from"./index-B2-qRKKC.js";import{$ as q,a as Y,b as E,c as J}from"./useFocusable-ChjCOJSh.js";import{$ as K,a as Q,b as Z,c as T}from"./useFormValidationState-BwMCpXua.js";import{$ as ee}from"./useFocusRing-BL9DkcEN.js";import{$ as te}from"./useControlledState-CmdEzstM.js";import{I as re}from"./InputLabel-w6niovgZ.js";import{I as ae}from"./IconCheckMark-Db5JnUcj.js";import{I as se}from"./IconMinus-DJt4iUyt.js";import{I as _}from"./IconSize-BcCrF_mi.js";import{u as ie}from"./useMemoizedId-BB39KVn8.js";import{F as oe}from"./focusStyle-BtNTXUM4.js";import{m as C}from"./merge-DI-veSMP.js";import{u as le}from"./Button-B03MOMoD.js";function ne(e,s,a){let{isDisabled:r=!1,isReadOnly:o=!1,value:i,name:b,form:w,children:u,"aria-label":k,"aria-labelledby":j,validationState:v="valid",isInvalid:x,onPressStart:f,onPressEnd:n,onPressChange:p,onPress:d,onPressUp:t,onClick:S}=e,N=m=>{m.stopPropagation(),s.setSelected(m.target.checked)},{pressProps:F,isPressed:M}=q({onPressStart:f,onPressEnd:n,onPressChange:p,onPress:d,onPressUp:t,onClick:S,isDisabled:r}),{pressProps:h,isPressed:g}=q({onPressStart:f,onPressEnd:n,onPressChange:p,onPressUp:t,onClick:S,onPress(m){var P;d==null||d(m),s.toggle(),(P=a.current)===null||P===void 0||P.focus()},isDisabled:r||o}),{focusableProps:V}=Y(e,a),z=E(F,V),U=J(e,{labelable:!0});return K(a,s.defaultSelected,s.setSelected),{labelProps:E(h,{onClick:m=>m.preventDefault()}),inputProps:E(U,{"aria-invalid":x||v==="invalid"||void 0,"aria-errormessage":e["aria-errormessage"],"aria-controls":e["aria-controls"],"aria-readonly":o||void 0,onChange:N,disabled:r,...i==null?{}:{value:i},name:b,form:w,type:"checkbox",...z}),isSelected:s.isSelected,isPressed:M||g,isDisabled:r,isReadOnly:o,isInvalid:x||v==="invalid"}}function de(e,s,a){let r=Q({...e,value:s.isSelected}),{isInvalid:o,validationErrors:i,validationDetails:b}=r.displayValidation,{labelProps:w,inputProps:u,isSelected:k,isPressed:j,isDisabled:v,isReadOnly:x}=ne({...e,isInvalid:o},s,a);Z(e,r,a);let{isIndeterminate:f,isRequired:n,validationBehavior:p="aria"}=e;c.useEffect(()=>{a.current&&(a.current.indeterminate=!!f)});let{pressProps:d}=q({isDisabled:v||x,onPress(){let{[T]:t}=e,{commitValidation:S}=t||r;S()}});return{labelProps:E(w,d),inputProps:{...u,checked:k,"aria-required":n&&p==="aria"||void 0,required:n&&p==="native"},isSelected:k,isPressed:j,isDisabled:v,isReadOnly:x,isInvalid:o,validationErrors:i,validationDetails:b}}function ce(e={}){let{isReadOnly:s}=e,[a,r]=te(e.isSelected,e.defaultSelected||!1,e.onChange),[o]=c.useState(a);function i(u){s||r(u)}function b(){s||r(!a)}var w;return{isSelected:a,defaultSelected:(w=e.defaultSelected)!==null&&w!==void 0?w:o,setSelected:i,toggle:b}}var ue=(e=>(e.Checked="Checked",e.Unchecked="Unchecked",e.Mixed="Mixed",e))(ue||{}),fe=(e=>(e.Default="Default",e.Weak="Weak",e.Strong="Strong",e))(fe||{}),be=(e=>(e.Default="Default",e.Large="Large",e.XLarge="XLarge",e))(be||{});const we=e=>e==="Checked"||e==="Mixed",R="tw-bg-box-selected-strong tw-text-box-selected-strong-inverse hover:tw-bg-box-selected-strong-hover",me={Weak:"tw-bg-box-neutral-strong tw-text-box-neutral-strong-inverse hover:tw-bg-box-neutral-strong-hover",Default:R,Strong:R},ve={Default:"tw-h-4 tw-w-4",Large:"tw-h-5 tw-w-5",XLarge:"tw-h-8 tw-w-8"},xe=({id:e,emphasis:s="Default",size:a="Default",disabled:r,required:o,label:i,hideLabel:b,tooltip:w,helperText:u,"aria-label":k,value:j,groupInputProps:v,onChange:x,state:f="Unchecked","data-test-id":n="checkbox"},p)=>{const d=ie(e),t=le(p),{focusProps:S}=ee(),N=ce({onChange:r?void 0:x,isSelected:f==="Checked"}),[F,M]=c.useState(),h=c.useRef(null),g=c.useRef(null),[V,z]=c.useState(!1),[U,m]=c.useState(!1),P=$=>{$.key==="Tab"&&M(!0)},W=()=>{M(!1)};c.useEffect(()=>{var $,y;return($=t==null?void 0:t.current)==null||$.addEventListener("keyup",P),(y=t==null?void 0:t.current)==null||y.addEventListener("blur",W),()=>{var L,I;(L=t==null?void 0:t.current)==null||L.removeEventListener("keyup",P),(I=t==null?void 0:t.current)==null||I.removeEventListener("blur",W)}},[]);const{inputProps:A}=de({isDisabled:r,isRequired:o,isIndeterminate:f==="Mixed","aria-label":k,value:j},N,t),B={Checked:l.jsx(ae,{size:a==="XLarge"?_.Size24:_.Size16}),Mixed:l.jsx(se,{}),Unchecked:null},O=we(f),G=C(["tw-bg-box-disabled tw-pointer-events-none tw-text-box-disabled-inverse tw-border-line-strong",O&&"tw-text-box-disabled-inverse tw-border-line-strong"]),H=O?me[s]:C(["tw-bg-base hover:tw-bg-box-neutral",s==="Strong"?"tw-border-2 tw-border-box-selected-strong":"tw-border tw-border-line-xx-strong"]),D=c.useCallback(()=>{var $,y,L,I;h.current&&z((($=h.current)==null?void 0:$.scrollWidth)>((y=h.current)==null?void 0:y.clientWidth)),g.current&&m(((L=g.current)==null?void 0:L.scrollWidth)>((I=g.current)==null?void 0:I.clientWidth))},[h,g]);return c.useEffect(()=>{if(!(!i&&!u||b))return D(),window.removeEventListener("resize",D),window.addEventListener("resize",D),()=>{window.removeEventListener("resize",D)}},[i,u,b,D]),l.jsx("div",{className:"tw-gap-1 tw-transition-colors tw-w-full","data-test-id":n,children:l.jsx("div",{className:C(["tw-inline-flex tw-flex-row tw-rounded tw-w-full",F?oe:""]),children:l.jsx(re,{id:`${d}-label`,disabled:r,clickable:!0,htmlFor:d,tooltip:w,required:o,bold:O,children:l.jsxs("span",{className:"tw-flex tw-items-center tw-whitespace-nowrap",children:[l.jsxs("span",{className:"tw-inline-flex",children:[l.jsx("input",{...E(v||A,S),id:d,ref:t,className:"tw-sr-only","data-test-id":`${n}-input`,role:"checkbox","aria-checked":f==="Checked",required:o,"aria-label":k,"aria-labelledby":i?`${d}-label`:void 0}),l.jsx("span",{"data-test-id":`${n}-icon-box`,"aria-hidden":"true",className:C(["tw-leading-3 tw-relative tw-flex tw-items-center tw-justify-center tw-rounded tw-shrink-0 tw-flex-none",ve[a],r?G:H]),children:B[f]})]}),!b&&l.jsxs("span",{className:"tw-inline-flex tw-flex-col tw-min-w-0 tw-ml-1.5",children:[i&&l.jsx("span",{ref:h,"data-test-id":`${n}-label`,className:C(["tw-text-ellipsis tw-overflow-hidden","tw-text-xs tw-select-none hover:tw-cursor-pointer hover:tw-text-black dark:hover:tw-text-white group-hover:tw-text-black dark:group-hover:tw-text-white",O&&"tw-font-medium"]),title:V?i:void 0,children:i}),u&&l.jsx("span",{ref:g,"data-test-id":`${n}-helper-text`,className:C(["tw-text-ellipsis tw-overflow-hidden","tw-font-sans tw-text-xs tw-font-normal",r?"text-disabled":"tw-text-text-weak"]),title:U?u:void 0,children:u})]})]})})})})},X=c.forwardRef(xe);X.displayName="FondueCheckbox";X.__docgenInfo={description:"@deprecated Use `Checkbox` from `@frontify/fondue/components` instead. Also check {@link https://github.com/Frontify/fondue/blob/main/packages/components/MIGRATING.md#checkbox the migration guide}.",methods:[],displayName:"FondueCheckbox",props:{emphasis:{defaultValue:{value:"CheckboxEmphasis.Default",computed:!0},required:!1},size:{defaultValue:{value:"CheckboxSize.Default",computed:!0},required:!1},state:{defaultValue:{value:"CheckboxState.Unchecked",computed:!0},required:!1},"data-test-id":{defaultValue:{value:"'checkbox'",computed:!1},required:!1}}};export{ce as $,ue as C,be as a,fe as b,X as c,de as d};
