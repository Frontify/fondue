import{j as s}from"./jsx-runtime-BYYWji4R.js";import{r as u}from"./index-ClcD9ViR.js";import{i as I,j as q,k as V}from"./fondue-icons351-CNs5B0wj.js";import{u as v}from"./useSyncRefs-DL7P6UVA.js";import{B as k}from"./Box-9IBoxxbD.js";import{L as H}from"./LoadingCircle-MojJsgDV.js";const C=e=>{u.useEffect(()=>{if(!e.current)return;const a=e.current,t=new ResizeObserver(()=>{const l=a.scrollWidth>a.clientWidth;a.title=l&&a.textContent||""});return t.observe(a),()=>t.disconnect()},[e])},z="_table_1outv_4",A="_headerCell_1outv_18",B="_rowCell_1outv_19",S="_caption_1outv_46",E="_cellContent_1outv_71",K="_sortIndicator_1outv_96",L="_body_1outv_100",$="_row_1outv_19",D="_buttonText_1outv_164",i={table:z,headerCell:A,rowCell:B,caption:S,cellContent:E,sortIndicator:K,body:L,row:$,buttonText:D};function O(e,a){const t='tr[tabindex="0"]',l=e.closest("table");if(!l)return null;const o=Array.from(l.querySelectorAll(t)),c=o.indexOf(e)+(a==="ArrowUp"?-1:1);return c>=0&&c<o.length?o[c]:null}function U(e){const a=e.target,t=a.closest("tr");if(!t||a!==t||!["ArrowUp","ArrowDown"].includes(e.key))return;const l=O(t,e.key);l&&(e.preventDefault(),l.focus())}const y=u.forwardRef(({layout:e="auto",fontSize:a="medium",sticky:t,children:l,...o},r)=>s.jsx("div",{onKeyDown:U,role:"grid",tabIndex:-1,children:s.jsx("table",{ref:r,className:i.table,"data-layout":e,"data-font-size":a,"data-sticky":t,...o,children:l})}));y.displayName="Table.Root";const _=u.forwardRef(({children:e},a)=>s.jsx("caption",{ref:a,className:i.caption,children:e}));_.displayName="Table.Caption";const x=u.forwardRef(({children:e,"aria-label":a,"aria-busy":t},l)=>s.jsx("thead",{ref:l,className:i.header,"aria-label":a,"aria-busy":t,children:e}));x.displayName="Table.Header";const w=u.forwardRef(({noShrink:e=!1,truncate:a=!1,align:t="left",scope:l="col",sortTranslations:o,sortDirection:r,colSpan:c,width:f,state:p="idle",loadingStateAriaLabel:b,onSortChange:d,children:n},j)=>{const m=u.useRef(null);v(m,j),C(m);const T=u.useMemo(()=>typeof n=="string"?r==="ascending"?(o==null?void 0:o.sortDescending)??`Sort by ${n} descending`:(o==null?void 0:o.sortAscending)??`Sort by ${n} ascending`:r==="ascending"?"Sort descending":"Sort ascending",[n,r,o]),h=()=>{if(!d)return;d(r===void 0||r==="descending"?"ascending":"descending")};return s.jsx("th",{ref:m,style:{width:f},className:i.headerCell,scope:l,colSpan:c,"data-align":t,"data-truncate":a,"data-no-shrink":e,"data-sortable":!!d,"aria-sort":d?r||"none":void 0,children:p==="loading"?s.jsxs("div",{className:i.cellContent,"aria-live":"polite","aria-label":b,children:[typeof n=="string"&&a?s.jsx("span",{className:i.buttonText,children:n}):n,s.jsx(H,{"data-test-id":"fondue-loading-circle",size:"xx-small"})]}):d?s.jsxs("button",{className:i.cellContent,"aria-label":T,"data-active":!!r,onClick:h,children:[typeof n=="string"&&a?s.jsx("span",{className:i.buttonText,children:n}):n,s.jsx(k,{width:3,children:r==="ascending"?s.jsx(I,{size:"12"}):r==="descending"?s.jsx(q,{size:"12"}):s.jsx(V,{className:i.sortIndicator,size:"12"})})]}):n})});w.displayName="Table.HeaderCell";const g=u.forwardRef(({children:e,"aria-busy":a},t)=>s.jsx("tbody",{ref:t,className:i.body,"aria-busy":a,children:e}));g.displayName="Table.Body";const R=u.forwardRef(({disabled:e=!1,selected:a=!1,onClick:t,children:l,"aria-label":o,"data-test-id":r},c)=>{const f=t!==void 0&&!e,p=d=>{if(e)return;const n=(d==null?void 0:d.target)instanceof Element?d.target.closest("td"):null;n!=null&&n.querySelector('button, a, [role="button"], [role="link"]')||t&&t(a)},b=d=>{f&&(d.key==="Enter"||d.key===" ")&&(d.preventDefault(),p())};return s.jsx("tr",{ref:c,className:i.row,tabIndex:0,role:f?"button":"row","data-disabled":e,"data-interactive":f,"data-selected":a,"aria-disabled":e,"aria-label":o,"aria-selected":a,onClick:f?p:void 0,onKeyDown:f?b:void 0,"data-test-id":r,children:l})});R.displayName="Table.Row";const N=u.forwardRef(({colSpan:e,truncate:a,align:t="left",children:l,"aria-label":o},r)=>{const c=u.useRef(null);return v(c,r),C(c),s.jsx("td",{ref:c,className:i.rowCell,colSpan:e,"data-align":t,"data-truncate":a,"aria-label":o,children:l})});N.displayName="Table.RowCell";const X={Root:y,Caption:_,Header:x,HeaderCell:w,Body:g,Row:R,RowCell:N};y.__docgenInfo={description:"",methods:[],displayName:"Table.Root",props:{layout:{defaultValue:{value:"'auto'",computed:!1},required:!1},fontSize:{defaultValue:{value:"'medium'",computed:!1},required:!1}}};_.__docgenInfo={description:"",methods:[],displayName:"Table.Caption"};x.__docgenInfo={description:"",methods:[],displayName:"Table.Header"};w.__docgenInfo={description:"",methods:[],displayName:"Table.HeaderCell",props:{noShrink:{defaultValue:{value:"false",computed:!1},required:!1},truncate:{defaultValue:{value:"false",computed:!1},required:!1},align:{defaultValue:{value:"'left'",computed:!1},required:!1},scope:{defaultValue:{value:"'col'",computed:!1},required:!1},state:{defaultValue:{value:"'idle'",computed:!1},required:!1}}};g.__docgenInfo={description:"",methods:[],displayName:"Table.Body"};R.__docgenInfo={description:"",methods:[],displayName:"Table.Row",props:{disabled:{defaultValue:{value:"false",computed:!1},required:!1},selected:{defaultValue:{value:"false",computed:!1},required:!1}}};N.__docgenInfo={description:"",methods:[],displayName:"Table.RowCell",props:{align:{defaultValue:{value:"'left'",computed:!1},required:!1}}};export{N as T,R as a,g as b,w as c,x as d,y as e,X as f};
