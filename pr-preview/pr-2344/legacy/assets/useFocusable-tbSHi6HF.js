import{q as Te,o as Ee,n as z,r as me,s as H,t as fe,g as w,u as Se,d as g,h as v,v as xe,w as Q,x as Z,e as B,f as ee,m as Ke,y as we}from"./useFocusRing-DlZ7W1lC.js";import{r as E,R as ue}from"./index-ClcD9ViR.js";import{c as ce,d as ke}from"./chain-DIgLrs-2.js";import{a as Oe,$ as D}from"./useEffectEvent-sx_rQw4H.js";import{r as Me}from"./index-Cho7bklK.js";function de(e){var r,i,a="";if(typeof e=="string"||typeof e=="number")a+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(r=0;r<s;r++)e[r]&&(i=de(e[r]))&&(a&&(a+=" "),a+=i)}else for(i in e)e[i]&&(a&&(a+=" "),a+=i);return a}function _e(){for(var e,r,i=0,a="",s=arguments.length;i<s;i++)(e=arguments[i])&&(r=de(e))&&(a&&(a+=" "),a+=r);return a}function R(...e){let r={...e[0]};for(let i=1;i<e.length;i++){let a=e[i];for(let s in a){let c=r[s],f=a[s];typeof c=="function"&&typeof f=="function"&&s[0]==="o"&&s[1]==="n"&&s.charCodeAt(2)>=65&&s.charCodeAt(2)<=90?r[s]=ce(c,f):(s==="className"||s==="UNSAFE_className")&&typeof c=="string"&&typeof f=="string"?r[s]=_e(c,f):s==="id"&&c&&f?r.id=ke(c,f):r[s]=f!==void 0?f:c}}return r}const Ce=new Set(["id"]),Ae=new Set(["aria-label","aria-labelledby","aria-describedby","aria-details"]),Le=new Set(["href","hrefLang","target","rel","download","ping","referrerPolicy"]),De=/^(data-.*)$/;function ot(e,r={}){let{labelable:i,isLink:a,propNames:s}=r,c={};for(const f in e)Object.prototype.hasOwnProperty.call(e,f)&&(Ce.has(f)||i&&Ae.has(f)||a&&Le.has(f)||s!=null&&s.has(f)||De.test(f))&&(c[f]=e[f]);return c}const Ie=E.createContext({isNative:!0,open:Ne,useHref:e=>e});function Ue(){return E.useContext(Ie)}function st(e,r){let i=e.getAttribute("target");return(!i||i==="_self")&&e.origin===location.origin&&!e.hasAttribute("download")&&!r.metaKey&&!r.ctrlKey&&!r.altKey&&!r.shiftKey}function L(e,r,i=!0){var a,s;let{metaKey:c,ctrlKey:f,altKey:$,shiftKey:y}=r;Te()&&(!((s=window.event)===null||s===void 0||(a=s.type)===null||a===void 0)&&a.startsWith("key"))&&e.target==="_blank"&&(z()?c=!0:f=!0);let x=Ee()&&z()&&!me()?new KeyboardEvent("keydown",{keyIdentifier:"Enter",metaKey:c,ctrlKey:f,altKey:$,shiftKey:y}):new MouseEvent("click",{metaKey:c,ctrlKey:f,altKey:$,shiftKey:y,bubbles:!0,cancelable:!0});L.isOpening=i,H(e),e.dispatchEvent(x),L.isOpening=!1}L.isOpening=!1;function Fe(e,r){if(e instanceof HTMLAnchorElement)r(e);else if(e.hasAttribute("data-href")){let i=document.createElement("a");i.href=e.getAttribute("data-href"),e.hasAttribute("data-target")&&(i.target=e.getAttribute("data-target")),e.hasAttribute("data-rel")&&(i.rel=e.getAttribute("data-rel")),e.hasAttribute("data-download")&&(i.download=e.getAttribute("data-download")),e.hasAttribute("data-ping")&&(i.ping=e.getAttribute("data-ping")),e.hasAttribute("data-referrer-policy")&&(i.referrerPolicy=e.getAttribute("data-referrer-policy")),e.appendChild(i),r(i),e.removeChild(i)}}function Ne(e,r){Fe(e,i=>L(i,r))}function lt(e){let r=Ue();var i;const a=r.useHref((i=e==null?void 0:e.href)!==null&&i!==void 0?i:"");return{href:e!=null&&e.href?a:void 0,target:e==null?void 0:e.target,rel:e==null?void 0:e.rel,download:e==null?void 0:e.download,ping:e==null?void 0:e.ping,referrerPolicy:e==null?void 0:e.referrerPolicy}}let C=new Map,V=new Set;function te(){if(typeof window>"u")return;function e(a){return"propertyName"in a}let r=a=>{if(!e(a)||!a.target)return;let s=C.get(a.target);s||(s=new Set,C.set(a.target,s),a.target.addEventListener("transitioncancel",i,{once:!0})),s.add(a.propertyName)},i=a=>{if(!e(a)||!a.target)return;let s=C.get(a.target);if(s&&(s.delete(a.propertyName),s.size===0&&(a.target.removeEventListener("transitioncancel",i),C.delete(a.target)),C.size===0)){for(let c of V)c();V.clear()}};document.body.addEventListener("transitionrun",r),document.body.addEventListener("transitionend",i)}typeof document<"u"&&(document.readyState!=="loading"?te():document.addEventListener("DOMContentLoaded",te));function pe(e){requestAnimationFrame(()=>{C.size===0?e():V.add(e)})}function ve(e,r){Oe(()=>{if(e&&e.ref&&r)return e.ref.current=r.current,()=>{e.ref&&(e.ref.current=null)}})}let A="default",W="",X=new WeakMap;function re(e){if(fe()){if(A==="default"){const r=w(e);W=r.documentElement.style.webkitUserSelect,r.documentElement.style.webkitUserSelect="none"}A="disabled"}else if(e instanceof HTMLElement||e instanceof SVGElement){let r="userSelect"in e.style?"userSelect":"webkitUserSelect";X.set(e,e.style[r]),e.style[r]="none"}}function G(e){if(fe()){if(A!=="disabled")return;A="restoring",setTimeout(()=>{pe(()=>{if(A==="restoring"){const r=w(e);r.documentElement.style.webkitUserSelect==="none"&&(r.documentElement.style.webkitUserSelect=W||""),W="",A="default"}})},300)}else if((e instanceof HTMLElement||e instanceof SVGElement)&&e&&X.has(e)){let r=X.get(e),i="userSelect"in e.style?"userSelect":"webkitUserSelect";e.style[i]==="none"&&(e.style[i]=r),e.getAttribute("style")===""&&e.removeAttribute("style"),X.delete(e)}}const ge=ue.createContext({register:()=>{}});ge.displayName="PressResponderContext";function Ye(e,r){return r.get?r.get.call(e):r.value}function be(e,r,i){if(!r.has(e))throw new TypeError("attempted to "+i+" private field on non-instance");return r.get(e)}function Xe(e,r){var i=be(e,r,"get");return Ye(e,i)}function He(e,r){if(r.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Re(e,r,i){He(e,r),r.set(e,i)}function Ge(e,r,i){if(r.set)r.set.call(e,i);else{if(!r.writable)throw new TypeError("attempted to set read only private field");r.value=i}}function ne(e,r,i){var a=be(e,r,"set");return Ge(e,a,i),i}function je(e){let r=E.useContext(ge);if(r){let{register:i,...a}=r;e=R(a,e),i()}return ve(r,e.ref),e}var N=new WeakMap;class Y{continuePropagation(){ne(this,N,!1)}get shouldStopPropagation(){return Xe(this,N)}constructor(r,i,a,s){Re(this,N,{writable:!0,value:void 0}),ne(this,N,!0);var c;let f=(c=s==null?void 0:s.target)!==null&&c!==void 0?c:a.currentTarget;const $=f==null?void 0:f.getBoundingClientRect();let y,x=0,P,I=null;a.clientX!=null&&a.clientY!=null&&(P=a.clientX,I=a.clientY),$&&(P!=null&&I!=null?(y=P-$.left,x=I-$.top):(y=$.width/2,x=$.height/2)),this.type=r,this.pointerType=i,this.target=a.currentTarget,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.x=y,this.y=x}}const ie=Symbol("linkClicked");function ft(e){let{onPress:r,onPressChange:i,onPressStart:a,onPressEnd:s,onPressUp:c,isDisabled:f,isPressed:$,preventFocusOnPress:y,shouldCancelOnPointerExit:x,allowTextSelectionOnPress:P,ref:I,...ye}=je(e),[Pe,J]=E.useState(!1),k=E.useRef({isPressed:!1,ignoreEmulatedMouseEvents:!1,didFirePressStart:!1,isTriggeringEvent:!1,activePointerId:null,target:null,isOverTarget:!1,pointerType:null,disposables:[]}),{addGlobalListener:K,removeAllGlobalListeners:U}=Se(),m=D((t,l)=>{let b=k.current;if(f||b.didFirePressStart)return!1;let o=!0;if(b.isTriggeringEvent=!0,a){let p=new Y("pressstart",l,t);a(p),o=p.shouldStopPropagation}return i&&i(!0),b.isTriggeringEvent=!1,b.didFirePressStart=!0,J(!0),o}),T=D((t,l,b=!0)=>{let o=k.current;if(!o.didFirePressStart)return!1;o.didFirePressStart=!1,o.isTriggeringEvent=!0;let p=!0;if(s){let n=new Y("pressend",l,t);s(n),p=n.shouldStopPropagation}if(i&&i(!1),J(!1),r&&b&&!f){let n=new Y("press",l,t);r(n),p&&(p=n.shouldStopPropagation)}return o.isTriggeringEvent=!1,p}),O=D((t,l)=>{let b=k.current;if(f)return!1;if(c){b.isTriggeringEvent=!0;let o=new Y("pressup",l,t);return c(o),b.isTriggeringEvent=!1,o.shouldStopPropagation}return!0}),h=D(t=>{let l=k.current;if(l.isPressed&&l.target){l.didFirePressStart&&l.pointerType!=null&&T(_(l.target,t),l.pointerType,!1),l.isPressed=!1,l.isOverTarget=!1,l.activePointerId=null,l.pointerType=null,U(),P||G(l.target);for(let b of l.disposables)b();l.disposables=[]}}),F=D(t=>{x&&h(t)}),he=E.useMemo(()=>{let t=k.current,l={onKeyDown(o){if(j(o.nativeEvent,o.currentTarget)&&g(o.currentTarget,v(o.nativeEvent))){var p;se(v(o.nativeEvent),o.key)&&o.preventDefault();let n=!0;if(!t.isPressed&&!o.repeat){t.target=o.currentTarget,t.isPressed=!0,t.pointerType="keyboard",n=m(o,"keyboard");let u=o.currentTarget,d=M=>{j(M,u)&&!M.repeat&&g(u,v(M))&&t.target&&O(_(t.target,M),"keyboard")};K(w(o.currentTarget),"keyup",ce(d,b),!0)}n&&o.stopPropagation(),o.metaKey&&z()&&((p=t.metaKeyEvents)===null||p===void 0||p.set(o.key,o.nativeEvent))}else o.key==="Meta"&&(t.metaKeyEvents=new Map)},onClick(o){if(!(o&&!g(o.currentTarget,v(o.nativeEvent)))&&o&&o.button===0&&!t.isTriggeringEvent&&!L.isOpening){let p=!0;if(f&&o.preventDefault(),!t.ignoreEmulatedMouseEvents&&!t.isPressed&&(t.pointerType==="virtual"||Z(o.nativeEvent))){let n=m(o,"virtual"),u=O(o,"virtual"),d=T(o,"virtual");p=n&&u&&d}else if(t.isPressed&&t.pointerType!=="keyboard"){let n=t.pointerType||o.nativeEvent.pointerType||"virtual";p=T(_(o.currentTarget,o),n,!0),t.isOverTarget=!1,h(o)}t.ignoreEmulatedMouseEvents=!1,p&&o.stopPropagation()}}},b=o=>{var p;if(t.isPressed&&t.target&&j(o,t.target)){var n;se(v(o),o.key)&&o.preventDefault();let d=v(o);T(_(t.target,o),"keyboard",g(t.target,v(o))),U(),o.key!=="Enter"&&q(t.target)&&g(t.target,d)&&!o[ie]&&(o[ie]=!0,L(t.target,o,!1)),t.isPressed=!1,(n=t.metaKeyEvents)===null||n===void 0||n.delete(o.key)}else if(o.key==="Meta"&&(!((p=t.metaKeyEvents)===null||p===void 0)&&p.size)){var u;let d=t.metaKeyEvents;t.metaKeyEvents=void 0;for(let M of d.values())(u=t.target)===null||u===void 0||u.dispatchEvent(new KeyboardEvent("keyup",M))}};if(typeof PointerEvent<"u"){l.onPointerDown=n=>{if(n.button!==0||!g(n.currentTarget,v(n.nativeEvent)))return;if(xe(n.nativeEvent)){t.pointerType="virtual";return}t.pointerType=n.pointerType;let u=!0;if(!t.isPressed){t.isPressed=!0,t.isOverTarget=!0,t.activePointerId=n.pointerId,t.target=n.currentTarget,P||re(t.target),u=m(n,t.pointerType);let d=v(n.nativeEvent);"releasePointerCapture"in d&&d.releasePointerCapture(n.pointerId),K(w(n.currentTarget),"pointerup",o,!1),K(w(n.currentTarget),"pointercancel",p,!1)}u&&n.stopPropagation()},l.onMouseDown=n=>{if(g(n.currentTarget,v(n.nativeEvent))&&n.button===0){if(y){let u=Q(n.target);u&&t.disposables.push(u)}n.stopPropagation()}},l.onPointerUp=n=>{!g(n.currentTarget,v(n.nativeEvent))||t.pointerType==="virtual"||n.button===0&&O(n,t.pointerType||n.pointerType)},l.onPointerEnter=n=>{n.pointerId===t.activePointerId&&t.target&&!t.isOverTarget&&t.pointerType!=null&&(t.isOverTarget=!0,m(_(t.target,n),t.pointerType))},l.onPointerLeave=n=>{n.pointerId===t.activePointerId&&t.target&&t.isOverTarget&&t.pointerType!=null&&(t.isOverTarget=!1,T(_(t.target,n),t.pointerType,!1),F(n))};let o=n=>{if(n.pointerId===t.activePointerId&&t.isPressed&&n.button===0&&t.target){if(g(t.target,v(n))&&t.pointerType!=null){let u=!1,d=setTimeout(()=>{t.isPressed&&t.target instanceof HTMLElement&&(u?h(n):(H(t.target),t.target.click()))},80);K(n.currentTarget,"click",()=>u=!0,!0),t.disposables.push(()=>clearTimeout(d))}else h(n);t.isOverTarget=!1}},p=n=>{h(n)};l.onDragStart=n=>{g(n.currentTarget,v(n.nativeEvent))&&h(n)}}else{l.onMouseDown=n=>{if(n.button!==0||!g(n.currentTarget,v(n.nativeEvent)))return;if(t.ignoreEmulatedMouseEvents){n.stopPropagation();return}if(t.isPressed=!0,t.isOverTarget=!0,t.target=n.currentTarget,t.pointerType=Z(n.nativeEvent)?"virtual":"mouse",Me.flushSync(()=>m(n,t.pointerType))&&n.stopPropagation(),y){let d=Q(n.target);d&&t.disposables.push(d)}K(w(n.currentTarget),"mouseup",o,!1)},l.onMouseEnter=n=>{if(!g(n.currentTarget,v(n.nativeEvent)))return;let u=!0;t.isPressed&&!t.ignoreEmulatedMouseEvents&&t.pointerType!=null&&(t.isOverTarget=!0,u=m(n,t.pointerType)),u&&n.stopPropagation()},l.onMouseLeave=n=>{if(!g(n.currentTarget,v(n.nativeEvent)))return;let u=!0;t.isPressed&&!t.ignoreEmulatedMouseEvents&&t.pointerType!=null&&(t.isOverTarget=!1,u=T(n,t.pointerType,!1),F(n)),u&&n.stopPropagation()},l.onMouseUp=n=>{g(n.currentTarget,v(n.nativeEvent))&&!t.ignoreEmulatedMouseEvents&&n.button===0&&O(n,t.pointerType||"mouse")};let o=n=>{if(n.button===0){if(t.ignoreEmulatedMouseEvents){t.ignoreEmulatedMouseEvents=!1;return}t.target&&t.target.contains(n.target)&&t.pointerType!=null||h(n),t.isOverTarget=!1}};l.onTouchStart=n=>{if(!g(n.currentTarget,v(n.nativeEvent)))return;let u=ze(n.nativeEvent);if(!u)return;t.activePointerId=u.identifier,t.ignoreEmulatedMouseEvents=!0,t.isOverTarget=!0,t.isPressed=!0,t.target=n.currentTarget,t.pointerType="touch",P||re(t.target),m(S(t.target,n),t.pointerType)&&n.stopPropagation(),K(B(n.currentTarget),"scroll",p,!0)},l.onTouchMove=n=>{if(!g(n.currentTarget,v(n.nativeEvent)))return;if(!t.isPressed){n.stopPropagation();return}let u=ae(n.nativeEvent,t.activePointerId),d=!0;u&&oe(u,n.currentTarget)?!t.isOverTarget&&t.pointerType!=null&&(t.isOverTarget=!0,d=m(S(t.target,n),t.pointerType)):t.isOverTarget&&t.pointerType!=null&&(t.isOverTarget=!1,d=T(S(t.target,n),t.pointerType,!1),F(S(t.target,n))),d&&n.stopPropagation()},l.onTouchEnd=n=>{if(!g(n.currentTarget,v(n.nativeEvent)))return;if(!t.isPressed){n.stopPropagation();return}let u=ae(n.nativeEvent,t.activePointerId),d=!0;u&&oe(u,n.currentTarget)&&t.pointerType!=null?(O(S(t.target,n),t.pointerType),d=T(S(t.target,n),t.pointerType)):t.isOverTarget&&t.pointerType!=null&&(d=T(S(t.target,n),t.pointerType,!1)),d&&n.stopPropagation(),t.isPressed=!1,t.activePointerId=null,t.isOverTarget=!1,t.ignoreEmulatedMouseEvents=!0,t.target&&!P&&G(t.target),U()},l.onTouchCancel=n=>{g(n.currentTarget,v(n.nativeEvent))&&(n.stopPropagation(),t.isPressed&&h(S(t.target,n)))};let p=n=>{t.isPressed&&g(v(n),t.target)&&h({currentTarget:t.target,shiftKey:!1,ctrlKey:!1,metaKey:!1,altKey:!1})};l.onDragStart=n=>{g(n.currentTarget,v(n.nativeEvent))&&h(n)}}return l},[K,f,y,U,P,h,F,T,m,O]);return E.useEffect(()=>{let t=k.current;return()=>{var l;P||G((l=t.target)!==null&&l!==void 0?l:void 0);for(let b of t.disposables)b();t.disposables=[]}},[P]),{isPressed:$||Pe,pressProps:R(ye,he)}}function q(e){return e.tagName==="A"&&e.hasAttribute("href")}function j(e,r){const{key:i,code:a}=e,s=r,c=s.getAttribute("role");return(i==="Enter"||i===" "||i==="Spacebar"||a==="Space")&&!(s instanceof B(s).HTMLInputElement&&!$e(s,i)||s instanceof B(s).HTMLTextAreaElement||s.isContentEditable)&&!((c==="link"||!c&&q(s))&&i!=="Enter")}function ze(e){const{targetTouches:r}=e;return r.length>0?r[0]:null}function ae(e,r){const i=e.changedTouches;for(let a=0;a<i.length;a++){const s=i[a];if(s.identifier===r)return s}return null}function S(e,r){let i=0,a=0;return r.targetTouches&&r.targetTouches.length===1&&(i=r.targetTouches[0].clientX,a=r.targetTouches[0].clientY),{currentTarget:e,shiftKey:r.shiftKey,ctrlKey:r.ctrlKey,metaKey:r.metaKey,altKey:r.altKey,clientX:i,clientY:a}}function _(e,r){let i=r.clientX,a=r.clientY;return{currentTarget:e,shiftKey:r.shiftKey,ctrlKey:r.ctrlKey,metaKey:r.metaKey,altKey:r.altKey,clientX:i,clientY:a}}function Be(e){let r=0,i=0;return e.width!==void 0?r=e.width/2:e.radiusX!==void 0&&(r=e.radiusX),e.height!==void 0?i=e.height/2:e.radiusY!==void 0&&(i=e.radiusY),{top:e.clientY-i,right:e.clientX+r,bottom:e.clientY+i,left:e.clientX-r}}function Ve(e,r){return!(e.left>r.right||r.left>e.right||e.top>r.bottom||r.top>e.bottom)}function oe(e,r){let i=r.getBoundingClientRect(),a=Be(e);return Ve(i,a)}function We(e){return e instanceof HTMLInputElement?!1:e instanceof HTMLButtonElement?e.type!=="submit"&&e.type!=="reset":!q(e)}function se(e,r){return e instanceof HTMLInputElement?!$e(e,r):We(e)}const qe=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function $e(e,r){return e.type==="checkbox"||e.type==="radio"?r===" ":qe.has(e.type)}function Je(e){const r=w(e),i=ee(r);if(Ke()==="virtual"){let a=i;pe(()=>{ee(r)===a&&e.isConnected&&H(e)})}else H(e)}function le(e){if(!e)return;let r=!0;return i=>{let a={...i,preventDefault(){i.preventDefault()},isDefaultPrevented(){return i.isDefaultPrevented()},stopPropagation(){r?console.error("stopPropagation is now the default behavior for events in React Spectrum. You can use continuePropagation() to revert this behavior."):r=!0},continuePropagation(){r=!1},isPropagationStopped(){return r}};e(a),r&&i.stopPropagation()}}function Qe(e){return{keyboardProps:e.isDisabled?{}:{onKeyDown:le(e.onKeyDown),onKeyUp:le(e.onKeyUp)}}}let Ze=ue.createContext(null);function et(e){let r=E.useContext(Ze)||{};ve(r,e);let{ref:i,...a}=r;return a}function ut(e,r){let{focusProps:i}=we(e),{keyboardProps:a}=Qe(e),s=R(i,a),c=et(r),f=e.isDisabled?{}:c,$=E.useRef(e.autoFocus);E.useEffect(()=>{$.current&&r.current&&Je(r.current),$.current=!1},[r]);let y=e.excludeFromTabOrder?-1:0;return e.isDisabled&&(y=void 0),{focusableProps:R({...s,tabIndex:y},f)}}export{R as $,ft as a,ut as b,ot as c,Je as d,Ue as e,lt as f,st as g,Qe as h,L as i,_e as j};
