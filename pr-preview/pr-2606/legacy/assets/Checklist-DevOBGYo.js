import{j as b,r as w}from"./iframe-CSuAQ5gf.js";import{f as j,y as M,b as B,v as F}from"./fondue-icons369-B483icz6.js";import{$ as k,g as L}from"./useFocusRing-D6pg8F_Y.js";import{F as V,b as O}from"./focusStyle-hm6eSJHh.js";import{m as h}from"./merge-DI-veSMP.js";import{V as y,a as _}from"./validation-DNUG94y-.js";import{$ as I,a as N}from"./usePopper-CN4pwYBH.js";import{a as C,$ as P}from"./chain-DmxFfQBe.js";import{c as W}from"./FocusScope-v932nJCF.js";import{c as z,b as T,d as A,e as H,f as U,g as K,C as x,h as Y}from"./Checkbox-XCY013a7.js";import{$ as G}from"./useControlledState-Dd0GuwFv.js";var J=(e=>(e.Small="Small",e.Large="Large",e))(J||{}),Q=(e=>(e.Default="Default",e.Weak="Weak",e))(Q||{});const X=(e,a,r,i,s)=>h(["tw-group tw-relative tw-flex tw-w-full tw-items-center tw-justify-between tw-border tw-rounded tw-transition-colors tw-min-h-[36px]",e&&V,a?"tw-border-black-5 tw-bg-black-5 tw-pointer-events-none":h(["hover:tw-border-line-xx-strong",i==="Weak"?"":"tw-bg-base",r?"tw-border-line-xx-strong":"tw-border-line",i==="Weak"?"tw-border-0 hover:tw-outline hover:tw-outline-1":_[s]])]),S=({buttonProps:e,onClear:a,onDelete:r,children:i,disabled:s=!1,isOpen:f=!1,isFocusVisible:o=!1,size:c="Small",showClear:n=!1,validation:d=y.Default,emphasis:p="Default"})=>{const{focusProps:t,isFocusVisible:l}=k(),{focusProps:u,isFocusVisible:v}=k();return b.jsxs("div",{"data-test-id":"trigger",className:X(o,s,f,p,d),children:[i,b.jsxs("div",{className:h(["tw-flex-none tw-flex tw-items-center tw-absolute",c==="Large"?"tw-right-5 tw-gap-1.5":"tw-right-3 tw-gap-1"]),children:[n&&b.jsx("button",{...t,"data-test-id":"dropdown-clear-button","aria-label":"Clear selection",type:"button",className:h([l&&V,s?"tw-pointer-events-none tw-text-black-40":"tw-text-black-80"]),onClick:()=>!!a&&a(),children:b.jsx(j,{size:12})}),!!r&&b.jsx("button",{...u,"data-test-id":"dropdown-delete-button","aria-label":"Delete selection",type:"button",className:h(["tw-rounded",v&&V,s?"tw-pointer-events-none tw-text-black-40":"tw-text-black-80"]),onClick:r,children:b.jsx(M,{size:12})}),b.jsx("button",{...e,type:"button",tabIndex:-1,disabled:s,"aria-hidden":!0,className:h(["tw-rounded",s?"tw-pointer-events-none tw-text-black-40":h(["group-hover:tw-text-black ",f?"tw-text-black-100":"tw-text-black-80",O])]),children:b.jsx("div",{className:h(["tw-transition-transform",f&&"tw-rotate-180"]),children:b.jsx(B,{size:16})})}),(d===y.Error||d===y.Warning)&&b.jsx("span",{className:h(["tw-flex tw-items-center tw-justify-center",d===y.Error&&"tw-text-text-negative",d===y.Warning&&"tw-text-text-warning"]),"data-test-id":"error-state-exclamation-mark-icon",children:b.jsx(F,{})})]})]})};S.displayName="FondueTrigger";S.__docgenInfo={description:"@deprecated Please use a custom component instead.",methods:[],displayName:"FondueTrigger",props:{disabled:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},children:{required:!1,tsType:{name:"ReactNode"},description:""},isOpen:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},onClear:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},onDelete:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},buttonProps:{required:!1,tsType:{name:"HTMLAttributes",elements:[{name:"HTMLElement"}],raw:"HTMLAttributes<HTMLElement>"},description:""},isFocusVisible:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},size:{required:!1,tsType:{name:"TriggerSize"},description:"",defaultValue:{value:"TriggerSize.Small",computed:!0}},showClear:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},validation:{required:!1,tsType:{name:"Validation"},description:"",defaultValue:{value:"Validation.Default",computed:!0}},emphasis:{required:!1,tsType:{name:"TriggerEmphasis"},description:"",defaultValue:{value:"TriggerEmphasis.Default",computed:!0}}}};const D=new WeakMap;function Z(e){let{id:a,label:r,"aria-labelledby":i,"aria-label":s,labelElementType:f="label"}=e;a=C(a);let o=C(),c={};r&&(i=i?`${o} ${i}`:o,c={id:o,htmlFor:f==="label"?a:void 0});let n=W({id:a,"aria-label":s,"aria-labelledby":i});return{labelProps:c,fieldProps:n}}function ee(e){let{description:a,errorMessage:r,isInvalid:i,validationState:s}=e,{labelProps:f,fieldProps:o}=Z(e),c=P([!!a,!!r,i,s]),n=P([!!a,!!r,i,s]);return o=I(o,{"aria-describedby":[c,n,e["aria-describedby"]].filter(Boolean).join(" ")||void 0}),{labelProps:f,fieldProps:o,descriptionProps:{id:c},errorMessageProps:{id:n}}}function ae(e,a){let{isDisabled:r,name:i,form:s,validationBehavior:f="aria"}=e,{isInvalid:o,validationErrors:c,validationDetails:n}=a.displayValidation,{labelProps:d,fieldProps:p,descriptionProps:t,errorMessageProps:l}=ee({...e,labelElementType:"span",isInvalid:o,errorMessage:e.errorMessage||c});D.set(a,{name:i,form:s,descriptionId:t.id,errorMessageId:l.id,validationBehavior:f});let u=N(e,{labelable:!0}),{focusWithinProps:v}=L({onBlurWithin:e.onBlur,onFocusWithin:e.onFocus,onFocusWithinChange:e.onFocusChange});return{groupProps:I(u,{role:"group","aria-disabled":r||void 0,...p,...v}),labelProps:d,descriptionProps:t,errorMessageProps:l,isInvalid:o,validationErrors:c,validationDetails:n}}function te(e,a,r){const i=z({isReadOnly:e.isReadOnly||a.isReadOnly,isSelected:a.isSelected(e.value),defaultSelected:a.defaultValue.includes(e.value),onChange(m){m?a.addValue(e.value):a.removeValue(e.value),e.onChange&&e.onChange(m)}});let{name:s,form:f,descriptionId:o,errorMessageId:c,validationBehavior:n}=D.get(a);var d;n=(d=e.validationBehavior)!==null&&d!==void 0?d:n;let{realtimeValidation:p}=T({...e,value:i.isSelected,name:void 0,validationBehavior:"aria"}),t=w.useRef(A),l=()=>{a.setInvalid(e.value,p.isInvalid?p:t.current)};w.useEffect(l);let u=a.realtimeValidation.isInvalid?a.realtimeValidation:p,v=n==="native"?a.displayValidation:u;var g;let $=H({...e,isReadOnly:e.isReadOnly||a.isReadOnly,isDisabled:e.isDisabled||a.isDisabled,name:e.name||s,form:e.form||f,isRequired:(g=e.isRequired)!==null&&g!==void 0?g:a.isRequired,validationBehavior:n,[U]:{realtimeValidation:u,displayValidation:v,resetValidation:a.resetValidation,commitValidation:a.commitValidation,updateValidation(m){t.current=m,l()}}},i,r);return{...$,inputProps:{...$.inputProps,"aria-describedby":[e["aria-describedby"],a.isInvalid?c:null,o].filter(Boolean).join(" ")||void 0}}}function ie(e={}){let[a,r]=G(e.value,e.defaultValue||[],e.onChange),[i]=w.useState(a),s=!!e.isRequired&&a.length===0,f=w.useRef(new Map),o=T({...e,value:a}),c=o.displayValidation.isInvalid;var n,d;return{...o,value:a,defaultValue:(n=e.defaultValue)!==null&&n!==void 0?n:i,setValue(t){e.isReadOnly||e.isDisabled||r(t)},isDisabled:e.isDisabled||!1,isReadOnly:e.isReadOnly||!1,isSelected(t){return a.includes(t)},addValue(t){e.isReadOnly||e.isDisabled||r(l=>l.includes(t)?l:l.concat(t))},removeValue(t){e.isReadOnly||e.isDisabled||a.includes(t)&&r(a.filter(l=>l!==t))},toggleValue(t){e.isReadOnly||e.isDisabled||(a.includes(t)?r(a.filter(l=>l!==t)):r(a.concat(t)))},setInvalid(t,l){let u=new Map(f.current);l.isInvalid?u.set(t,l):u.delete(t),f.current=u,o.updateValidation(K(...u.values()))},validationState:(d=e.validationState)!==null&&d!==void 0?d:c?"invalid":null,isInvalid:c,isRequired:s}}var re=(e=>(e.Horizontal="Horizontal",e.Vertical="Vertical",e))(re||{});const le={1:"tw-grid-cols-1",2:"tw-grid-cols-2",3:"tw-grid-cols-3",4:"tw-grid-cols-4"},ne=({checkbox:e,state:a,forwardedRef:r})=>{const i=w.useRef(null),{value:s,disabled:f,label:o,"aria-label":c,state:n}=e,[d,p]=w.useState(n),t=a.isSelected(s),{inputProps:l}=te({value:s,isDisabled:f,"aria-label":c||o},a,i);return w.useEffect(()=>{d===x.Mixed&&!t?p(x.Mixed):p(t?x.Checked:x.Unchecked)},[d,t]),w.useEffect(()=>{r&&i.current&&r(i.current)},[r,t]),b.jsx(Y,{...e,state:d,groupInputProps:l,ref:i})},se=(e,a)=>{if(a<=1)return"";const r="auto / span",i=e.length%a;return i===0?"":`${r} ${a-i+1}`},R=({checkboxes:e,setActiveValues:a,ariaLabel:r="Checklist",activeValues:i=[],direction:s="Horizontal","data-test-id":f="checklist",...o})=>{const c=w.useRef(Array.from({length:e.length})),n=w.useRef(null),d=ie({value:i,onChange:a}),{groupProps:p}=ae({"aria-label":r},d),t="columns"in o&&o.columns||1;return w.useLayoutEffect(()=>{const l=v=>{const g=c.current.filter(E=>E!==null);let m=g.indexOf(document.activeElement);if(v.key==="ArrowDown"||v.key==="ArrowRight")m++,m===g.length&&(m=0),g[m].disabled&&m++;else if(v.key==="ArrowUp"||v.key==="ArrowLeft")m--,m===-1&&(m=g.length-1),g[m].disabled&&m--;else return;g[m].focus();const q=new KeyboardEvent("keyup",{key:"Tab",code:"Tab",keyCode:9,bubbles:!0});g[m].dispatchEvent(q)},u=n.current;return u==null||u.addEventListener("keydown",l),()=>{u==null||u.removeEventListener("keydown",l)}},[e.length]),b.jsx("div",{...p,"data-test-id":f,className:h([s==="Horizontal"?"tw-flex tw-flex-row tw-gap-12":`tw-grid tw-gap-4 ${le[t]}`]),ref:n,children:e.map((l,u)=>{var v;return b.jsx("div",{style:{maxWidth:(v=n==null?void 0:n.current)==null?void 0:v.getBoundingClientRect().width,gridColumn:u===e.length-1&&s==="Vertical"?se(e,t):void 0},children:b.jsx(ne,{checkbox:l,state:d,forwardedRef:g=>c.current[u]=g})},l.value)})})};R.displayName="FondueChecklist";R.__docgenInfo={description:"@deprecated Use `Checkbox` from `@frontify/fondue/components` instead.",methods:[],displayName:"FondueChecklist",props:{checkboxes:{required:!0,tsType:{name:"Array",elements:[{name:"intersection",raw:"Omit<CheckboxProps, 'onChange' | 'groupInputProps' | 'value'> & { value: string }",elements:[{name:"Omit",elements:[{name:"CheckboxProps"},{name:"union",raw:"'onChange' | 'groupInputProps' | 'value'",elements:[{name:"literal",value:"'onChange'"},{name:"literal",value:"'groupInputProps'"},{name:"literal",value:"'value'"}]}],raw:"Omit<CheckboxProps, 'onChange' | 'groupInputProps' | 'value'>"},{name:"signature",type:"object",raw:"{ value: string }",signature:{properties:[{key:"value",value:{name:"string",required:!0}}]}}]}],raw:"CheckboxValue[]"},description:""},setActiveValues:{required:!0,tsType:{name:"signature",type:"function",raw:"(value: string[]) => void",signature:{arguments:[{type:{name:"Array",elements:[{name:"string"}],raw:"string[]"},name:"value"}],return:{name:"void"}}},description:""},activeValues:{required:!1,tsType:{name:"Array",elements:[{name:"string"}],raw:"string[]"},description:"",defaultValue:{value:"[]",computed:!1}},ariaLabel:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"'Checklist'",computed:!1}},"data-test-id":{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"'checklist'",computed:!1}},direction:{required:!1,tsType:{name:"union",raw:"ChecklistDirection.Vertical | ChecklistDirection.Horizontal",elements:[{name:"ChecklistDirection.Vertical"},{name:"ChecklistDirection.Horizontal"}]},description:"",defaultValue:{value:"ChecklistDirection.Horizontal",computed:!0}},columns:{required:!1,tsType:{name:"union",raw:"1 | 2 | 3 | 4",elements:[{name:"literal",value:"1"},{name:"literal",value:"2"},{name:"literal",value:"3"},{name:"literal",value:"4"}]},description:""}}};export{ee as $,R as C,S as T,Q as a,re as b,Z as c,J as d};
