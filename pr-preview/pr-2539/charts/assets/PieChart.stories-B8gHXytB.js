import{e as D,r as g,j as h}from"./iframe-BUXVhA1Z.js";import{c as Me,B as ue,G as J,H as Q,a as W,h as qe,L as Ae}from"./Legend-yqpV-crg.js";import{G as ce}from"./Group-BwW-zd6f.js";import{a as Ie,p as De}from"./D3ShapeFactories-Ch-vNTVa.js";import{g as $,T as Ee}from"./createTheme-9YeDzpPv.js";import"./preload-helper-BKkEC2Fm.js";import"./pie-DtVSWFrF.js";var Ce=["className","top","left","data","centroid","innerRadius","outerRadius","cornerRadius","startAngle","endAngle","padAngle","padRadius","pieSort","pieSortValues","pieValue","children","fill"];function F(){return F=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(e[o]=s[o])}return e},F.apply(this,arguments)}function je(e,t){if(e==null)return{};var s={},o=Object.keys(e),n,a;for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&(s[n]=e[n]);return s}function ke(e){var t=e.className,s=e.top,o=e.left,n=e.data,a=n===void 0?[]:n,r=e.centroid,i=e.innerRadius,l=i===void 0?0:i,c=e.outerRadius,u=e.cornerRadius,d=e.startAngle,m=e.endAngle,b=e.padAngle,T=e.padRadius,S=e.pieSort,f=e.pieSortValues,y=e.pieValue,x=e.children,w=e.fill,p=w===void 0?"":w,P=je(e,Ce),v=Ie({innerRadius:l,outerRadius:c,cornerRadius:u,padRadius:T}),M=De({startAngle:d,endAngle:m,padAngle:b,value:y,sort:S,sortValues:f}),k=M(a);return x?D.createElement(D.Fragment,null,x({arcs:k,path:v,pie:M})):D.createElement(ce,{className:"visx-pie-arcs-group",top:s,left:o},k.map(function(q,A){return D.createElement("g",{key:"pie-arc-"+A},D.createElement("path",F({className:Me("visx-pie-arc",t),d:v(q)||"",fill:p==null||typeof p=="string"?p:p(q)},P)),r==null?void 0:r(v.centroid(q),q))}))}const z={top:0,right:0,bottom:0,left:0},Re=4,Oe=30,O=15,Ve=(e,t,s,o)=>{const[n,a]=t,r=s/2+Re,i=r+Oe;let l,c,u,d,m;return e<=Math.PI/2||o?(l=n+Math.sin(e)*r,c=a-Math.cos(e)*r,u=n+Math.sin(e)*i,d=a-Math.cos(e)*i,m=u+O):e>Math.PI/2&&e<=Math.PI?(l=n+Math.cos(e-Math.PI/2)*r,c=a+Math.sin(e-Math.PI/2)*r,u=n+Math.cos(e-Math.PI/2)*i,d=a+Math.sin(e-Math.PI/2)*i,m=u+O):e>Math.PI&&e<Math.PI*1.5?(l=n-Math.sin(e-Math.PI)*r,c=a+Math.cos(e-Math.PI)*r,u=n-Math.sin(e-Math.PI)*i,d=a+Math.cos(e-Math.PI)*i,m=u-O):(l=n-Math.cos(e-Math.PI*1.5)*r,c=a-Math.sin(e-Math.PI*1.5)*r,u=n-Math.cos(e-Math.PI*1.5)*i,d=a-Math.sin(e-Math.PI*1.5)*i,m=u-O),{x1:l,y1:c,x2:u,y2:d,x3:m}},G="--body-size-large",de={fontSize:`var(${G})`,fontWeight:"var(--body-weight-x-strong-number)",fontFamily:`var(${ue})`,fill:"var(--fc-font-color-default)"},B={fontSize:`var(${G})`,fontWeight:"var(--body-weight-number)",fontFamily:`var(${ue})`,fill:"var(--fc-font-color-default)"},me={...B,fill:"var(--fc-font-color-x-weak)"},L=10,Ne=(e,t,s,o,n,a)=>{const[r,i]=o;let l=0,c=0,u=0,d=0;return e<Math.PI/2?(c=r+s+L-t,l=Math.abs(i)-t+n):e===Math.PI/2?c=Math.abs(r)+s+L-t:e>Math.PI/2&&e<Math.PI?(d=i-t+a,c=r+s+L-t):e===Math.PI?d=i-t+a:e>Math.PI&&e<Math.PI*1.5?(d=Math.abs(i)-t+a,u=Math.abs(r)-t+L):(e===Math.PI*1.5||(l=Math.abs(i)-t+n),u=Math.abs(r)-t+L),{paddingTop:l,paddingRight:c,paddingLeft:u,paddingBottom:d}},_e=(e,t,s,o)=>{const[n,a]=s;let r;return e<=Math.PI||o?r=n+L:r=n-t-L,{textAnchorX:r,textAnchorY:a}},$e=(e,t,s)=>{const o=getComputedStyle(document.body).getPropertyValue("font-size"),n=getComputedStyle(document.documentElement).getPropertyValue(G)??"0",a=parseFloat(n)*parseFloat(o);return{textTopOffset:a,textBottomOffset:e&&(t||s)?a:0}},H=e=>J[e%J.length],Fe=e=>Q[e%Q.length],We=(e,t,s)=>{const[o,n]=g.useState("label"),[a,r]=g.useState(e),i=a/2,l=o==="label"?s:z,c=[l.left+i,l.top+i],u=a+l.left+l.right,d=a+l.top+l.bottom;return g.useEffect(()=>{const m=()=>{const b=e+s.left+s.right;t.current&&(t.current.clientWidth<b?(n("legend"),r(Math.min(t.current.clientWidth,e))):(r(e),n("label")))};return m(),window.addEventListener("resize",m),()=>{window.removeEventListener("resize",m)}},[e,s,t]),{radius:i,center:c,width:u,height:d,labelStyle:o}},ze="var(--fc-base-color)",Ge="2px",pe=({arcDatum:e,path:t,colorScale:s,onMouseEnter:o,onMouseLeave:n})=>{const a=s==="continuous",r=a?H(e.index):W(e.index),i=a?Fe(e.index):qe(e.index),[l,c]=g.useState(r),u=()=>{c(i),o()},d=()=>{c(r),n()};return h.jsx("path",{d:t(e)||"",fill:l,stroke:ze,strokeWidth:Ge,onMouseEnter:u,onMouseLeave:d,tabIndex:0,"aria-label":`${e.data.label} ${e.data.value}`})};pe.__docgenInfo={description:"",methods:[],displayName:"ArcPath",props:{arcDatum:{required:!0,tsType:{name:"PieArcDatum",elements:[{name:"signature",type:"object",raw:`{
    value: number;
    label: string;
}`,signature:{properties:[{key:"value",value:{name:"number",required:!0}},{key:"label",value:{name:"string",required:!0}}]}}],raw:"PieArcDatum<PieChartDatum>"},description:""},path:{required:!0,tsType:{name:"Arc",elements:[{name:"void"},{name:"PieArcDatum",elements:[{name:"signature",type:"object",raw:`{
    value: number;
    label: string;
}`,signature:{properties:[{key:"value",value:{name:"number",required:!0}},{key:"label",value:{name:"string",required:!0}}]}}],raw:"PieArcDatum<PieChartDatum>"}],raw:"Arc<void, PieArcDatum<PieChartDatum>>"},description:""},colorScale:{required:!0,tsType:{name:"union",raw:"'discrete' | 'continuous'",elements:[{name:"literal",value:"'discrete'"},{name:"literal",value:"'continuous'"}]},description:""},onMouseEnter:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},onMouseLeave:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}};const Be=(e,t,s)=>{const[o,n]=g.useState({labelWidth:0,valueWidth:0,percentageWidth:0});return g.useEffect(()=>{const a=$(e,de).width??0,r=$(t,B).width??0,i=$(s,me).width??0;n({labelWidth:a,valueWidth:r,percentageWidth:i})},[e,t,s]),o},he=({centroid:e,centroidAngle:t,prevCentroidAngle:s,arcDatum:o,radius:n,showLabelTitle:a,showLabelValue:r,showLabelPercentage:i,setPadding:l,labelsShownOnHover:c,hideLabel:u,colorScale:d,valueFormatter:m})=>{const{data:b,startAngle:T,endAngle:S,index:f}=o,y=a||r||i,x=((S-T)/(Math.PI*2)*100).toFixed(1),w=(m==null?void 0:m(b.value))??b.value,p=a?b.label:"",P=`${r?w:""}`,v=i?`(${x}%)`:"",{labelWidth:M,valueWidth:k,percentageWidth:q}=Be(p,P,v),A=Math.max(M,k+q),K=!c&&t-s<Math.PI*.15,{x1:ve,y1:ge,x2:ye,y2:Z,x3:V}=Ve(t,e,n,K),{textAnchorX:I,textAnchorY:N}=_e(t,A,[V,Z],K),{textTopOffset:U,textBottomOffset:_}=$e(a,r,i),Te=I<V?A-M:0;g.useEffect(()=>{if(y){const{paddingTop:we,paddingRight:Pe,paddingBottom:Le,paddingLeft:Se}=Ne(t,n,A,[I,N],U,_*1.5);l(R=>({top:Math.max(R.top,we),right:Math.max(R.right,Pe),bottom:Math.max(R.bottom,Le),left:Math.max(R.left,Se)}))}else l(z)},[t,A,n,I,N,U,_,y,l]);const xe=d==="continuous"?H:W;return y&&!u?h.jsxs("g",{children:[h.jsx("path",{d:`M ${ve} ${ge} L ${ye} ${Z} H ${V}`,stroke:xe(f),strokeWidth:"2px",fill:"none"}),h.jsxs("text",{x:I,y:N,...Ee,children:[a&&h.jsx("tspan",{dx:Te,...de,children:p}),h.jsxs("tspan",{x:I,dy:_*1.25,...B,children:[P," ",h.jsx("tspan",{...me,children:v})]})]})]}):null};he.__docgenInfo={description:"",methods:[],displayName:"Label",props:{centroid:{required:!0,tsType:{name:"tuple",raw:"[number, number]",elements:[{name:"number"},{name:"number"}]},description:""},centroidAngle:{required:!0,tsType:{name:"number"},description:""},prevCentroidAngle:{required:!0,tsType:{name:"number"},description:""},arcDatum:{required:!0,tsType:{name:"PieArcDatum",elements:[{name:"signature",type:"object",raw:`{
    value: number;
    label: string;
}`,signature:{properties:[{key:"value",value:{name:"number",required:!0}},{key:"label",value:{name:"string",required:!0}}]}}],raw:"PieArcDatum<PieChartDatum>"},description:""},radius:{required:!0,tsType:{name:"number"},description:""},showLabelTitle:{required:!0,tsType:{name:"boolean"},description:""},showLabelValue:{required:!0,tsType:{name:"boolean"},description:""},showLabelPercentage:{required:!0,tsType:{name:"boolean"},description:""},setPadding:{required:!0,tsType:{name:"Dispatch",elements:[{name:"SetStateAction",elements:[{name:"signature",type:"object",raw:`{
    top: number;
    right: number;
    bottom: number;
    left: number;
}`,signature:{properties:[{key:"top",value:{name:"number",required:!0}},{key:"right",value:{name:"number",required:!0}},{key:"bottom",value:{name:"number",required:!0}},{key:"left",value:{name:"number",required:!0}}]}}],raw:"SetStateAction<Padding>"}],raw:"Dispatch<SetStateAction<Padding>>"},description:""},labelsShownOnHover:{required:!0,tsType:{name:"boolean"},description:""},hideLabel:{required:!0,tsType:{name:"boolean"},description:""},colorScale:{required:!0,tsType:{name:"union",raw:"'discrete' | 'continuous'",elements:[{name:"literal",value:"'discrete'"},{name:"literal",value:"'continuous'"}]},description:""},valueFormatter:{required:!1,tsType:{name:"signature",type:"function",raw:"(value: number) => string",signature:{arguments:[{type:{name:"number"},name:"value"}],return:{name:"string"}}},description:""}}};const He=(e,t)=>({...e,startAngle:e.startAngle===e.endAngle?e.index*(2*Math.PI/t):e.startAngle,endAngle:e.startAngle===e.endAngle?(e.index+1)*(2*Math.PI/t):e.endAngle}),be=({arc:e,previousArc:t,numberOfArcs:s,radius:o,isLabelHidden:n,showLabelValue:a,showLabelPercentage:r,showLabelTitle:i,path:l,setPaddingForLabels:c,colorScale:u,valueFormatter:d})=>{const m=s>3,[b,T]=g.useState(!1),S=n||m&&!b,f=He(e,s),y=(f.startAngle+f.endAngle)/2,x=t?(t.startAngle+t.endAngle)/2:0,w=l.centroid(f);return h.jsxs(g.Fragment,{children:[h.jsx(pe,{arcDatum:f,path:l,colorScale:u,onMouseEnter:()=>T(!0),onMouseLeave:()=>T(!1)}),h.jsx(he,{centroid:w,centroidAngle:y,prevCentroidAngle:x,arcDatum:f,radius:o,showLabelTitle:i,showLabelValue:a,showLabelPercentage:r,setPadding:c,valueFormatter:d,labelsShownOnHover:m,hideLabel:S,colorScale:u})]},`fondue-charts-pie-arc-${e.index}`)};be.__docgenInfo={description:"",methods:[],displayName:"Arc",props:{arc:{required:!0,tsType:{name:"PieArcDatum",elements:[{name:"signature",type:"object",raw:`{
    value: number;
    label: string;
}`,signature:{properties:[{key:"value",value:{name:"number",required:!0}},{key:"label",value:{name:"string",required:!0}}]}}],raw:"PieArcDatum<PieChartDatum>"},description:""},previousArc:{required:!1,tsType:{name:"PieArcDatum",elements:[{name:"signature",type:"object",raw:`{
    value: number;
    label: string;
}`,signature:{properties:[{key:"value",value:{name:"number",required:!0}},{key:"label",value:{name:"string",required:!0}}]}}],raw:"PieArcDatum<PieChartDatum>"},description:""},path:{required:!0,tsType:{name:"ArcType",elements:[{name:"void"},{name:"PieArcDatum",elements:[{name:"signature",type:"object",raw:`{
    value: number;
    label: string;
}`,signature:{properties:[{key:"value",value:{name:"number",required:!0}},{key:"label",value:{name:"string",required:!0}}]}}],raw:"PieArcDatum<PieChartDatum>"}],raw:"ArcType<void, PieArcDatum<PieChartDatum>>"},description:""},numberOfArcs:{required:!0,tsType:{name:"number"},description:""},radius:{required:!0,tsType:{name:"number"},description:""},isLabelHidden:{required:!0,tsType:{name:"boolean"},description:""},showLabelTitle:{required:!0,tsType:{name:"boolean"},description:""},showLabelValue:{required:!0,tsType:{name:"boolean"},description:""},showLabelPercentage:{required:!0,tsType:{name:"boolean"},description:""},setPaddingForLabels:{required:!0,tsType:{name:"Dispatch",elements:[{name:"SetStateAction",elements:[{name:"signature",type:"object",raw:`{
    top: number;
    right: number;
    bottom: number;
    left: number;
}`,signature:{properties:[{key:"top",value:{name:"number",required:!0}},{key:"right",value:{name:"number",required:!0}},{key:"bottom",value:{name:"number",required:!0}},{key:"left",value:{name:"number",required:!0}}]}}],raw:"SetStateAction<Padding>"}],raw:"Dispatch<SetStateAction<Padding>>"},description:""},colorScale:{required:!0,tsType:{name:"union",raw:"'discrete' | 'continuous'",elements:[{name:"literal",value:"'discrete'"},{name:"literal",value:"'continuous'"}]},description:""},valueFormatter:{required:!1,tsType:{name:"signature",type:"function",raw:"(value: number) => string",signature:{arguments:[{type:{name:"number"},name:"value"}],return:{name:"string"}}},description:""}}};const Y=({size:e,data:t,valueFormatter:s,showLabelTitle:o=!1,showLabelValue:n=!1,showLabelPercentage:a=!1,shouldSortData:r=!1,colorScale:i="discrete"})=>{const[l,c]=g.useState(z),u=g.useRef(null),{radius:d,labelStyle:m,center:b,width:T,height:S}=We(e,u,l),f=t.filter(p=>p.value>0),y=f.length>0?f:t,x=r?y.sort((p,P)=>P.value-p.value):y,w=i==="continuous"?H:W;return h.jsxs("div",{ref:u,className:"tw-w-full tw-h-full tw-flex tw-flex-col tw-items-center tw-gap-8 md:tw-gap-6",children:[h.jsx("svg",{width:T,height:S,children:h.jsx(ce,{top:b[1],left:b[0],children:h.jsx(ke,{data:x,pieValue:p=>p.value,outerRadius:d,pieSort:null,pieSortValues:null,children:({arcs:p,path:P})=>h.jsx("g",{children:p.map((v,M)=>h.jsx(be,{arc:v,previousArc:p[M-1],numberOfArcs:p.length,radius:d,isLabelHidden:m==="legend",showLabelValue:n,showLabelPercentage:a,showLabelTitle:o,path:P,setPaddingForLabels:c,colorScale:i,valueFormatter:s},`${v.startAngle}-${v.index}-${v.value}-${v.data.label}`))})})})}),m==="legend"&&h.jsx(Ae,{names:t.map(p=>p.label),style:"circle",colorAccessor:w})]})};Y.__docgenInfo={description:"",methods:[],displayName:"PieChart",props:{size:{required:!0,tsType:{name:"number"},description:""},data:{required:!0,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
    value: number;
    label: string;
}`,signature:{properties:[{key:"value",value:{name:"number",required:!0}},{key:"label",value:{name:"string",required:!0}}]}}],raw:"PieChartDatum[]"},description:""},valueFormatter:{required:!1,tsType:{name:"signature",type:"function",raw:"(value: number) => string",signature:{arguments:[{type:{name:"number"},name:"value"}],return:{name:"string"}}},description:""},showLabelTitle:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},showLabelValue:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},showLabelPercentage:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},shouldSortData:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},colorScale:{required:!1,tsType:{name:"union",raw:"'discrete' | 'continuous'",elements:[{name:"literal",value:"'discrete'"},{name:"literal",value:"'continuous'"}]},description:"",defaultValue:{value:"'discrete'",computed:!1}}}};const tt={title:"Charts/Pie Chart",component:Y,parameters:{status:{type:"released"}},argTypes:{data:{name:"data",type:{name:"other",value:"PieChartDatum[]",required:!0},description:"An array of data points to be displayed in the chart."},size:{name:"size",type:{name:"number",required:!0},description:"The diameter of the pie in pixels."},valueFormatter:{name:"valueFormatter",type:{name:"other",value:"(value: number) => string",required:!1},description:"An optional function to format the displayed values (for example for adding units).",table:{type:{summary:"ValueFormatter"},defaultValue:{summary:"value => String(value)"}}},showLabelTitle:{name:"showLabelTitle",type:{name:"boolean",value:!1,required:!1},description:"Shows the slice's title in label if set to true."},showLabelValue:{name:"showLabelValue",type:{name:"boolean",value:!1,required:!1},description:"Shows the slice's value in label if set to true."},showLabelPercentage:{name:"showLabelPercentage",type:{name:"boolean",value:!1,required:!1},description:"Shows the slice's percentage in label if set to true."},shouldSortData:{name:"shouldSortData",type:{name:"boolean",value:!1,required:!1},description:"Sorts the data by value if set to true."},colorScale:{name:"colorScale",description:"The color scale to be used for the chart.",control:{type:"select"},options:["discrete","continuous"],type:{name:"other",value:"discrete | continuous",required:!1},table:{type:{summary:"discrete | continuous"},defaultValue:{summary:"discrete"}}}}},Ye=[{label:"Google Chrome",value:88},{label:"Firefox",value:12},{label:"Safari",value:3}],fe=[{label:"Japan",value:5},{label:"Switzerland",value:3},{label:"China",value:1},{label:"Germany",value:35},{label:"France",value:15},{label:"Italy",value:15},{label:"Spain",value:10},{label:"UK",value:5},{label:"Sweden",value:23},{label:"Norway",value:5},{label:"Denmark",value:12},{label:"Finland",value:19},{label:"Austria",value:8}],X=e=>h.jsx(Y,{...e}),E=X.bind({});E.args={data:Ye,size:400,valueFormatter:e=>`${e} users`,showLabelTitle:!0,showLabelValue:!0,showLabelPercentage:!0};const C=X.bind({});C.args={data:fe.slice(0,10),size:400,valueFormatter:e=>`${e} users`,showLabelTitle:!0,showLabelValue:!0,showLabelPercentage:!0,colorScale:"continuous"};const j=X.bind({});j.args={data:fe,size:400,valueFormatter:e=>`${e} users`,showLabelTitle:!0,showLabelValue:!0,showLabelPercentage:!0,colorScale:"continuous"};var ee,te,ae;E.parameters={...E.parameters,docs:{...(ee=E.parameters)==null?void 0:ee.docs,source:{originalSource:"args => <PieChart {...args} />",...(ae=(te=E.parameters)==null?void 0:te.docs)==null?void 0:ae.source}}};var re,ne,se;C.parameters={...C.parameters,docs:{...(re=C.parameters)==null?void 0:re.docs,source:{originalSource:"args => <PieChart {...args} />",...(se=(ne=C.parameters)==null?void 0:ne.docs)==null?void 0:se.source}}};var ie,oe,le;j.parameters={...j.parameters,docs:{...(ie=j.parameters)==null?void 0:ie.docs,source:{originalSource:"args => <PieChart {...args} />",...(le=(oe=j.parameters)==null?void 0:oe.docs)==null?void 0:le.source}}};const at=["ThreeDataPoints","TenDataPoints","MoreThanTenDataPoints"];export{j as MoreThanTenDataPoints,C as TenDataPoints,E as ThreeDataPoints,at as __namedExportsOrder,tt as default};
