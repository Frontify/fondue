import{h as tr,k as Ce,l as q,m as rr,n as U,o as Ae,g as ir,p as or,a as Be,q as ve,r as lr,s as sr}from"./useFocusRing-D953rMjG.js";import{r as g,a as G,j as $e}from"./iframe-RyOIWciL.js";import{b as nr,c as ur,a as ar}from"./FocusScope-BXNoPTyK.js";import{g as ue,b as Se,$ as V,h as ae}from"./usePopper-DE_op6jk.js";import{e as Te,$ as we}from"./MenuItem-B_jwVDPo.js";import{a as cr}from"./VisuallyHidden-DVqTxF-G.js";import{a as J,b as fr}from"./chain-CQq6OKDb.js";import{$ as ce}from"./useLayoutEffect-Dvr3wd4D.js";import{r as dr}from"./index-BXNo8FMy.js";import{c as pr}from"./SelectionManager-7KSUaGDf.js";import{$ as br}from"./useControlledState-XmsKMpdH.js";function ge(i,e){const t=g.useRef(!0),r=g.useRef(null);ce(()=>(t.current=!0,()=>{t.current=!1}),[]),ce(()=>{t.current?t.current=!1:(!r.current||e.some((o,l)=>!Object.is(o,r[l])))&&i(),r.current=e},e)}function fe(i,e){if(!i)return!1;let t=window.getComputedStyle(i),r=/(auto|scroll)/.test(t.overflow+t.overflowX+t.overflowY);return r&&e&&(r=i.scrollHeight!==i.clientHeight||i.scrollWidth!==i.clientWidth),r}function vr(i,e){const t=[];for(;i&&i!==document.documentElement;)fe(i,e)&&t.push(i),i=i.parentElement;return t}function W(i){return tr()?i.metaKey:i.ctrlKey}let $r=0;const se=new Map;function gr(i){let[e,t]=g.useState();return ce(()=>{if(!i)return;let r=se.get(i);if(r)t(r.element.id);else{let o=`react-aria-description-${$r++}`;t(o);let l=document.createElement("div");l.id=o,l.style.display="none",l.textContent=i,document.body.appendChild(l),r={refCount:0,element:l},se.set(i,r)}return r.refCount++,()=>{r&&--r.refCount===0&&(r.element.remove(),se.delete(i))}},[i]),{"aria-describedby":i?e:void 0}}function Y(i,e,t,r){let o=ue(t),l=t==null;g.useEffect(()=>{if(l||!i.current)return;let u=i.current;return u.addEventListener(e,o,r),()=>{u.removeEventListener(e,o,r)}},[i,e,r,l])}function ke(i,e){let t=he(i,e,"left"),r=he(i,e,"top"),o=e.offsetWidth,l=e.offsetHeight,u=i.scrollLeft,a=i.scrollTop,{borderTopWidth:c,borderLeftWidth:v,scrollPaddingTop:m,scrollPaddingRight:h,scrollPaddingBottom:$,scrollPaddingLeft:p}=getComputedStyle(i),f=u+parseInt(v,10),x=a+parseInt(c,10),E=f+i.clientWidth,B=x+i.clientHeight,D=parseInt(m,10)||0,w=parseInt($,10)||0,S=parseInt(h,10)||0,R=parseInt(p,10)||0;t<=u+R?u=t-parseInt(v,10)-R:t+o>E-S&&(u+=t+o-E+S),r<=x+D?a=r-parseInt(c,10)-D:r+l>B-w&&(a+=r+l-B+w),i.scrollLeft=u,i.scrollTop=a}function he(i,e,t){const r=t==="left"?"offsetLeft":"offsetTop";let o=0;for(;e.offsetParent&&(o+=e[r],e.offsetParent!==i);){if(e.offsetParent.contains(i)){o-=i[r];break}e=e.offsetParent}return o}function ye(i,e){if(i&&document.contains(i)){let u=document.scrollingElement||document.documentElement,a=window.getComputedStyle(u).overflow==="hidden";if(a){let c=vr(i);a||c.push(u);for(let v of c)ke(v,i)}else{var t;let{left:c,top:v}=i.getBoundingClientRect();i==null||(t=i.scrollIntoView)===null||t===void 0||t.call(i,{block:"nearest"});let{left:m,top:h}=i.getBoundingClientRect();if(Math.abs(c-m)>1||Math.abs(v-h)>1){var r,o,l;e==null||(o=e.containingElement)===null||o===void 0||(r=o.scrollIntoView)===null||r===void 0||r.call(o,{block:"center",inline:"center"}),(l=i.scrollIntoView)===null||l===void 0||l.call(i,{block:"nearest"})}}}}const hr="react-aria-clear-focus",yr="react-aria-focus";let de=!1,X=0;function mr(){de=!0,setTimeout(()=>{de=!1},50)}function me(i){i.pointerType==="touch"&&mr()}function xr(){if(!(typeof document>"u"))return X===0&&typeof PointerEvent<"u"&&document.addEventListener("pointerup",me),X++,()=>{X--,!(X>0)&&typeof PointerEvent<"u"&&document.removeEventListener("pointerup",me)}}function Qr(i){let{onHoverStart:e,onHoverChange:t,onHoverEnd:r,isDisabled:o}=i,[l,u]=g.useState(!1),a=g.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;g.useEffect(xr,[]);let{addGlobalListener:c,removeAllGlobalListeners:v}=Ce(),{hoverProps:m,triggerHoverEnd:h}=g.useMemo(()=>{let $=(x,E)=>{if(a.pointerType=E,o||E==="touch"||a.isHovered||!x.currentTarget.contains(x.target))return;a.isHovered=!0;let B=x.currentTarget;a.target=B,c(q(x.target),"pointerover",D=>{a.isHovered&&a.target&&!rr(a.target,D.target)&&p(D,D.pointerType)},{capture:!0}),e&&e({type:"hoverstart",target:B,pointerType:E}),t&&t(!0),u(!0)},p=(x,E)=>{let B=a.target;a.pointerType="",a.target=null,!(E==="touch"||!a.isHovered||!B)&&(a.isHovered=!1,v(),r&&r({type:"hoverend",target:B,pointerType:E}),t&&t(!1),u(!1))},f={};return typeof PointerEvent<"u"&&(f.onPointerEnter=x=>{de&&x.pointerType==="mouse"||$(x,x.pointerType)},f.onPointerLeave=x=>{!o&&x.currentTarget.contains(x.target)&&p(x,x.pointerType)}),{hoverProps:f,triggerHoverEnd:p}},[e,t,r,o,a,c,v]);return g.useEffect(()=>{o&&h({currentTarget:a.target},a.pointerType)},[o]),{hoverProps:m,isHovered:l}}function Dr(i){let{ref:e,onInteractOutside:t,isDisabled:r,onInteractOutsideStart:o}=i,l=g.useRef({isPointerDown:!1,ignoreEmulatedMouseEvents:!1}),u=ue(c=>{t&&xe(c,e)&&(o&&o(c),l.current.isPointerDown=!0)}),a=ue(c=>{t&&t(c)});g.useEffect(()=>{let c=l.current;if(r)return;const v=e.current,m=q(v);if(typeof PointerEvent<"u"){let h=$=>{c.isPointerDown&&xe($,e)&&a($),c.isPointerDown=!1};return m.addEventListener("pointerdown",u,!0),m.addEventListener("click",h,!0),()=>{m.removeEventListener("pointerdown",u,!0),m.removeEventListener("click",h,!0)}}},[e,r])}function xe(i,e){if(i.button>0)return!1;if(i.target){const t=i.target.ownerDocument;if(!t||!t.documentElement.contains(i.target)||i.target.closest("[data-react-aria-top-layer]"))return!1}return e.current?!i.composedPath().includes(e.current):!1}const Pr=500;function Fe(i){let{isDisabled:e,onLongPressStart:t,onLongPressEnd:r,onLongPress:o,threshold:l=Pr,accessibilityDescription:u}=i;const a=g.useRef(void 0);let{addGlobalListener:c,removeGlobalListener:v}=Ce(),{pressProps:m}=Se({isDisabled:e,onPressStart($){if($.continuePropagation(),($.pointerType==="mouse"||$.pointerType==="touch")&&(t&&t({...$,type:"longpressstart"}),a.current=setTimeout(()=>{$.target.dispatchEvent(new PointerEvent("pointercancel",{bubbles:!0})),q($.target).activeElement!==$.target&&U($.target),o&&o({...$,type:"longpress"}),a.current=void 0},l),$.pointerType==="touch")){let p=f=>{f.preventDefault()};c($.target,"contextmenu",p,{once:!0}),c(window,"pointerup",()=>{setTimeout(()=>{v($.target,"contextmenu",p)},30)},{once:!0})}},onPressEnd($){a.current&&clearTimeout(a.current),r&&($.pointerType==="mouse"||$.pointerType==="touch")&&r({...$,type:"longpressend"})}}),h=gr(o&&!e?u:void 0);return{longPressProps:V(m,h)}}function Me(i){let e=Er(q(i));e!==i&&(e&&Kr(e,i),i&&Re(i,e))}function Kr(i,e){i.dispatchEvent(new FocusEvent("blur",{relatedTarget:e})),i.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:e}))}function Re(i,e){i.dispatchEvent(new FocusEvent("focus",{relatedTarget:e})),i.dispatchEvent(new FocusEvent("focusin",{bubbles:!0,relatedTarget:e}))}function Er(i){let e=Ae(i),t=e==null?void 0:e.getAttribute("aria-activedescendant");return t&&i.getElementById(t)||e}let ne=new Map;function Cr(i){let{locale:e}=Te(),t=e+(i?Object.entries(i).sort((o,l)=>o[0]<l[0]?-1:1).join():"");if(ne.has(t))return ne.get(t);let r=new Intl.Collator(e,i);return ne.set(t,r),r}var Le={};Le={longPressMessage:"اضغط مطولاً أو اضغط على Alt + السهم لأسفل لفتح القائمة"};var Oe={};Oe={longPressMessage:"Натиснете продължително или натиснете Alt+ стрелка надолу, за да отворите менюто"};var Ie={};Ie={longPressMessage:"Dlouhým stiskem nebo stisknutím kláves Alt + šipka dolů otevřete nabídku"};var Ne={};Ne={longPressMessage:"Langt tryk eller tryk på Alt + pil ned for at åbne menuen"};var He={};He={longPressMessage:"Drücken Sie lange oder drücken Sie Alt + Nach-unten, um das Menü zu öffnen"};var ze={};ze={longPressMessage:"Πιέστε παρατεταμένα ή πατήστε Alt + κάτω βέλος για να ανοίξετε το μενού"};var je={};je={longPressMessage:"Long press or press Alt + ArrowDown to open menu"};var We={};We={longPressMessage:"Mantenga pulsado o pulse Alt + flecha abajo para abrir el menú"};var Ue={};Ue={longPressMessage:"Menüü avamiseks vajutage pikalt või vajutage klahve Alt + allanool"};var Ge={};Ge={longPressMessage:"Avaa valikko painamalla pohjassa tai näppäinyhdistelmällä Alt + Alanuoli"};var Ve={};Ve={longPressMessage:"Appuyez de manière prolongée ou appuyez sur Alt + Flèche vers le bas pour ouvrir le menu."};var Ye={};Ye={longPressMessage:"לחץ לחיצה ארוכה או הקש Alt + ArrowDown כדי לפתוח את התפריט"};var Xe={};Xe={longPressMessage:"Dugo pritisnite ili pritisnite Alt + strelicu prema dolje za otvaranje izbornika"};var Ze={};Ze={longPressMessage:"Nyomja meg hosszan, vagy nyomja meg az Alt + lefele nyíl gombot a menü megnyitásához"};var qe={};qe={longPressMessage:"Premi a lungo o premi Alt + Freccia giù per aprire il menu"};var Je={};Je={longPressMessage:"長押しまたは Alt+下矢印キーでメニューを開く"};var Qe={};Qe={longPressMessage:"길게 누르거나 Alt + 아래쪽 화살표를 눌러 메뉴 열기"};var _e={};_e={longPressMessage:"Norėdami atidaryti meniu, nuspaudę palaikykite arba paspauskite „Alt + ArrowDown“."};var et={};et={longPressMessage:"Lai atvērtu izvēlni, turiet nospiestu vai nospiediet taustiņu kombināciju Alt + lejupvērstā bultiņa"};var tt={};tt={longPressMessage:"Langt trykk eller trykk Alt + PilNed for å åpne menyen"};var rt={};rt={longPressMessage:"Druk lang op Alt + pijl-omlaag of druk op Alt om het menu te openen"};var it={};it={longPressMessage:"Naciśnij i przytrzymaj lub naciśnij klawisze Alt + Strzałka w dół, aby otworzyć menu"};var ot={};ot={longPressMessage:"Pressione e segure ou pressione Alt + Seta para baixo para abrir o menu"};var lt={};lt={longPressMessage:"Prima continuamente ou prima Alt + Seta Para Baixo para abrir o menu"};var st={};st={longPressMessage:"Apăsați lung sau apăsați pe Alt + săgeată în jos pentru a deschide meniul"};var nt={};nt={longPressMessage:"Нажмите и удерживайте или нажмите Alt + Стрелка вниз, чтобы открыть меню"};var ut={};ut={longPressMessage:"Ponuku otvoríte dlhým stlačením alebo stlačením klávesu Alt + klávesu so šípkou nadol"};var at={};at={longPressMessage:"Za odprtje menija pritisnite in držite gumb ali pritisnite Alt+puščica navzdol"};var ct={};ct={longPressMessage:"Dugo pritisnite ili pritisnite Alt + strelicu prema dole da otvorite meni"};var ft={};ft={longPressMessage:"Håll nedtryckt eller tryck på Alt + pil nedåt för att öppna menyn"};var dt={};dt={longPressMessage:"Menüyü açmak için uzun basın veya Alt + Aşağı Ok tuşuna basın"};var pt={};pt={longPressMessage:"Довго або звичайно натисніть комбінацію клавіш Alt і стрілка вниз, щоб відкрити меню"};var bt={};bt={longPressMessage:"长按或按 Alt + 向下方向键以打开菜单"};var vt={};vt={longPressMessage:"長按或按 Alt+向下鍵以開啟功能表"};var $t={};$t={"ar-AE":Le,"bg-BG":Oe,"cs-CZ":Ie,"da-DK":Ne,"de-DE":He,"el-GR":ze,"en-US":je,"es-ES":We,"et-EE":Ue,"fi-FI":Ge,"fr-FR":Ve,"he-IL":Ye,"hr-HR":Xe,"hu-HU":Ze,"it-IT":qe,"ja-JP":Je,"ko-KR":Qe,"lt-LT":_e,"lv-LV":et,"nb-NO":tt,"nl-NL":rt,"pl-PL":it,"pt-BR":ot,"pt-PT":lt,"ro-RO":st,"ru-RU":nt,"sk-SK":ut,"sl-SI":at,"sr-SP":ct,"sv-SE":ft,"tr-TR":dt,"uk-UA":pt,"zh-CN":bt,"zh-TW":vt};const Ar=new WeakMap,k=[];function _r(i,e){let{onClose:t,shouldCloseOnBlur:r,isOpen:o,isDismissable:l=!1,isKeyboardDismissDisabled:u=!1,shouldCloseOnInteractOutside:a}=i;g.useEffect(()=>{if(o&&!k.includes(e))return k.push(e),()=>{let f=k.indexOf(e);f>=0&&k.splice(f,1)}},[o,e]);let c=()=>{k[k.length-1]===e&&t&&t()},v=f=>{(!a||a(f.target))&&k[k.length-1]===e&&(f.stopPropagation(),f.preventDefault())},m=f=>{(!a||a(f.target))&&(k[k.length-1]===e&&(f.stopPropagation(),f.preventDefault()),c())},h=f=>{f.key==="Escape"&&!u&&!f.nativeEvent.isComposing&&(f.stopPropagation(),f.preventDefault(),c())};Dr({ref:e,onInteractOutside:l&&o?m:void 0,onInteractOutsideStart:v});let{focusWithinProps:$}=ir({isDisabled:!r,onBlurWithin:f=>{!f.relatedTarget||nr(f.relatedTarget)||(!a||a(f.relatedTarget))&&(t==null||t())}}),p=f=>{f.target===f.currentTarget&&f.preventDefault()};return{overlayProps:{onKeyDown:h,...$},underlayProps:{onPointerDown:p}}}function Br(i,e,t){let{type:r}=i,{isOpen:o}=e;g.useEffect(()=>{t&&t.current&&Ar.set(t.current,e.close)});let l;r==="menu"?l=!0:r==="listbox"&&(l="listbox");let u=J();return{triggerProps:{"aria-haspopup":l,"aria-expanded":o,"aria-controls":o?u:void 0,onPress:e.toggle},overlayProps:{id:u}}}var gt={};gt={dismiss:"تجاهل"};var ht={};ht={dismiss:"Отхвърляне"};var yt={};yt={dismiss:"Odstranit"};var mt={};mt={dismiss:"Luk"};var xt={};xt={dismiss:"Schließen"};var Dt={};Dt={dismiss:"Απόρριψη"};var Pt={};Pt={dismiss:"Dismiss"};var Kt={};Kt={dismiss:"Descartar"};var Et={};Et={dismiss:"Lõpeta"};var Ct={};Ct={dismiss:"Hylkää"};var At={};At={dismiss:"Rejeter"};var Bt={};Bt={dismiss:"התעלם"};var St={};St={dismiss:"Odbaci"};var Tt={};Tt={dismiss:"Elutasítás"};var wt={};wt={dismiss:"Ignora"};var kt={};kt={dismiss:"閉じる"};var Ft={};Ft={dismiss:"무시"};var Mt={};Mt={dismiss:"Atmesti"};var Rt={};Rt={dismiss:"Nerādīt"};var Lt={};Lt={dismiss:"Lukk"};var Ot={};Ot={dismiss:"Negeren"};var It={};It={dismiss:"Zignoruj"};var Nt={};Nt={dismiss:"Descartar"};var Ht={};Ht={dismiss:"Dispensar"};var zt={};zt={dismiss:"Revocare"};var jt={};jt={dismiss:"Пропустить"};var Wt={};Wt={dismiss:"Zrušiť"};var Ut={};Ut={dismiss:"Opusti"};var Gt={};Gt={dismiss:"Odbaci"};var Vt={};Vt={dismiss:"Avvisa"};var Yt={};Yt={dismiss:"Kapat"};var Xt={};Xt={dismiss:"Скасувати"};var Zt={};Zt={dismiss:"取消"};var qt={};qt={dismiss:"關閉"};var Jt={};Jt={"ar-AE":gt,"bg-BG":ht,"cs-CZ":yt,"da-DK":mt,"de-DE":xt,"el-GR":Dt,"en-US":Pt,"es-ES":Kt,"et-EE":Et,"fi-FI":Ct,"fr-FR":At,"he-IL":Bt,"hr-HR":St,"hu-HU":Tt,"it-IT":wt,"ja-JP":kt,"ko-KR":Ft,"lt-LT":Mt,"lv-LV":Rt,"nb-NO":Lt,"nl-NL":Ot,"pl-PL":It,"pt-BR":Nt,"pt-PT":Ht,"ro-RO":zt,"ru-RU":jt,"sk-SK":Wt,"sl-SI":Ut,"sr-SP":Gt,"sv-SE":Vt,"tr-TR":Yt,"uk-UA":Xt,"zh-CN":Zt,"zh-TW":qt};function Sr(i){return i&&i.__esModule?i.default:i}function ei(i){let{onDismiss:e,...t}=i,r=we(Sr(Jt),"@react-aria/overlays"),o=ur(t,r.format("dismiss")),l=()=>{e&&e()};return G.createElement(cr,null,G.createElement("button",{...o,tabIndex:-1,onClick:l,style:{width:1,height:1}}))}function Tr(i){return i&&i.__esModule?i.default:i}function ti(i,e,t){let{type:r="menu",isDisabled:o,trigger:l="press"}=i,u=J(),{triggerProps:a,overlayProps:c}=Br({type:r},e,t),v=p=>{if(!o&&!(l==="longPress"&&!p.altKey)&&t&&t.current)switch(p.key){case"Enter":case" ":if(l==="longPress"||p.isDefaultPrevented())return;case"ArrowDown":"continuePropagation"in p||p.stopPropagation(),p.preventDefault(),e.toggle("first");break;case"ArrowUp":"continuePropagation"in p||p.stopPropagation(),p.preventDefault(),e.toggle("last");break;default:"continuePropagation"in p&&p.continuePropagation()}},m=we(Tr($t),"@react-aria/menu"),{longPressProps:h}=Fe({isDisabled:o||l!=="longPress",accessibilityDescription:m.format("longPressMessage"),onLongPressStart(){e.close()},onLongPress(){e.open("first")}}),$={preventFocusOnPress:!0,onPressStart(p){p.pointerType!=="touch"&&p.pointerType!=="keyboard"&&!o&&(U(p.target),e.open(p.pointerType==="virtual"?"first":null))},onPress(p){p.pointerType==="touch"&&!o&&(U(p.target),e.toggle())}};return delete a.onPress,{menuTriggerProps:{...a,...l==="press"?$:h,id:u,onKeyDown:v},menuProps:{...c,"aria-labelledby":u,autoFocus:e.focusStrategy||!0,onClose:e.close}}}function pe(i){return or()?i.altKey:i.ctrlKey}function Z(i,e){var t,r;let o=`[data-key="${CSS.escape(String(e))}"]`,l=(t=i.current)===null||t===void 0?void 0:t.dataset.collection;return l&&(o=`[data-collection="${CSS.escape(l)}"]${o}`),(r=i.current)===null||r===void 0?void 0:r.querySelector(o)}const Qt=new WeakMap;function wr(i){let e=J();return Qt.set(i,e),e}function kr(i){return Qt.get(i)}const Fr=1e3;function Mr(i){let{keyboardDelegate:e,selectionManager:t,onTypeSelect:r}=i,o=g.useRef({search:"",timeout:void 0}).current,l=u=>{let a=Rr(u.key);if(!(!a||u.ctrlKey||u.metaKey||!u.currentTarget.contains(u.target)||o.search.length===0&&a===" ")){if(a===" "&&o.search.trim().length>0&&(u.preventDefault(),"continuePropagation"in u||u.stopPropagation()),o.search+=a,e.getKeyForSearch!=null){let c=e.getKeyForSearch(o.search,t.focusedKey);c==null&&(c=e.getKeyForSearch(o.search)),c!=null&&(t.setFocusedKey(c),r&&r(c))}clearTimeout(o.timeout),o.timeout=setTimeout(()=>{o.search=""},Fr)}};return{typeSelectProps:{onKeyDownCapture:e.getKeyForSearch?l:void 0}}}function Rr(i){return i.length===1||!/^[A-Z]/i.test(i)?i:""}function Lr(i){let{selectionManager:e,keyboardDelegate:t,ref:r,autoFocus:o=!1,shouldFocusWrap:l=!1,disallowEmptySelection:u=!1,disallowSelectAll:a=!1,escapeKeyBehavior:c="clearSelection",selectOnFocus:v=e.selectionBehavior==="replace",disallowTypeAhead:m=!1,shouldUseVirtualFocus:h,allowsTabNavigation:$=!1,isVirtualized:p,scrollRef:f=r,linkBehavior:x="action"}=i,{direction:E}=Te(),B=Be(),D=n=>{var b;if(n.altKey&&n.key==="Tab"&&n.preventDefault(),!(!((b=r.current)===null||b===void 0)&&b.contains(n.target)))return;const y=(d,H)=>{if(d!=null){if(e.isLink(d)&&x==="selection"&&v&&!pe(n)){dr.flushSync(()=>{e.setFocusedKey(d,H)});let z=Z(r,d),be=e.getItemProps(d);z&&B.open(z,n,be.href,be.routerOptions);return}if(e.setFocusedKey(d,H),e.isLink(d)&&x==="override")return;n.shiftKey&&e.selectionMode==="multiple"?e.extendSelection(d):v&&!pe(n)&&e.replaceSelection(d)}};switch(n.key){case"ArrowDown":if(t.getKeyBelow){var P,A,s;let d=e.focusedKey!=null?(P=t.getKeyBelow)===null||P===void 0?void 0:P.call(t,e.focusedKey):(A=t.getFirstKey)===null||A===void 0?void 0:A.call(t);d==null&&l&&(d=(s=t.getFirstKey)===null||s===void 0?void 0:s.call(t,e.focusedKey)),d!=null&&(n.preventDefault(),y(d))}break;case"ArrowUp":if(t.getKeyAbove){var K,O,_;let d=e.focusedKey!=null?(K=t.getKeyAbove)===null||K===void 0?void 0:K.call(t,e.focusedKey):(O=t.getLastKey)===null||O===void 0?void 0:O.call(t);d==null&&l&&(d=(_=t.getLastKey)===null||_===void 0?void 0:_.call(t,e.focusedKey)),d!=null&&(n.preventDefault(),y(d))}break;case"ArrowLeft":if(t.getKeyLeftOf){var ee,te,re;let d=e.focusedKey!=null?(ee=t.getKeyLeftOf)===null||ee===void 0?void 0:ee.call(t,e.focusedKey):null;d==null&&l&&(d=E==="rtl"?(te=t.getFirstKey)===null||te===void 0?void 0:te.call(t,e.focusedKey):(re=t.getLastKey)===null||re===void 0?void 0:re.call(t,e.focusedKey)),d!=null&&(n.preventDefault(),y(d,E==="rtl"?"first":"last"))}break;case"ArrowRight":if(t.getKeyRightOf){var ie,oe,le;let d=e.focusedKey!=null?(ie=t.getKeyRightOf)===null||ie===void 0?void 0:ie.call(t,e.focusedKey):null;d==null&&l&&(d=E==="rtl"?(oe=t.getLastKey)===null||oe===void 0?void 0:oe.call(t,e.focusedKey):(le=t.getFirstKey)===null||le===void 0?void 0:le.call(t,e.focusedKey)),d!=null&&(n.preventDefault(),y(d,E==="rtl"?"last":"first"))}break;case"Home":if(t.getFirstKey){if(e.focusedKey===null&&n.shiftKey)return;n.preventDefault();let d=t.getFirstKey(e.focusedKey,W(n));e.setFocusedKey(d),d!=null&&(W(n)&&n.shiftKey&&e.selectionMode==="multiple"?e.extendSelection(d):v&&e.replaceSelection(d))}break;case"End":if(t.getLastKey){if(e.focusedKey===null&&n.shiftKey)return;n.preventDefault();let d=t.getLastKey(e.focusedKey,W(n));e.setFocusedKey(d),d!=null&&(W(n)&&n.shiftKey&&e.selectionMode==="multiple"?e.extendSelection(d):v&&e.replaceSelection(d))}break;case"PageDown":if(t.getKeyPageBelow&&e.focusedKey!=null){let d=t.getKeyPageBelow(e.focusedKey);d!=null&&(n.preventDefault(),y(d))}break;case"PageUp":if(t.getKeyPageAbove&&e.focusedKey!=null){let d=t.getKeyPageAbove(e.focusedKey);d!=null&&(n.preventDefault(),y(d))}break;case"a":W(n)&&e.selectionMode==="multiple"&&a!==!0&&(n.preventDefault(),e.selectAll());break;case"Escape":c==="clearSelection"&&!u&&e.selectedKeys.size!==0&&(n.stopPropagation(),n.preventDefault(),e.clearSelection());break;case"Tab":if(!$){if(n.shiftKey)r.current.focus();else{let d=ar(r.current,{tabbable:!0}),H,z;do z=d.lastChild(),z&&(H=z);while(z);H&&(!H.contains(document.activeElement)||document.activeElement&&!lr(document.activeElement))&&U(H)}break}}},w=g.useRef({top:0,left:0});Y(f,"scroll",p?void 0:()=>{var n,b,y,P;w.current={top:(y=(n=f.current)===null||n===void 0?void 0:n.scrollTop)!==null&&y!==void 0?y:0,left:(P=(b=f.current)===null||b===void 0?void 0:b.scrollLeft)!==null&&P!==void 0?P:0}});let S=n=>{if(e.isFocused){n.currentTarget.contains(n.target)||e.setFocused(!1);return}if(n.currentTarget.contains(n.target)){if(e.setFocused(!0),e.focusedKey==null){var b,y;let s=O=>{O!=null&&(e.setFocusedKey(O),v&&!e.isSelected(O)&&e.replaceSelection(O))},K=n.relatedTarget;var P,A;K&&n.currentTarget.compareDocumentPosition(K)&Node.DOCUMENT_POSITION_FOLLOWING?s((P=e.lastSelectedKey)!==null&&P!==void 0?P:(b=t.getLastKey)===null||b===void 0?void 0:b.call(t)):s((A=e.firstSelectedKey)!==null&&A!==void 0?A:(y=t.getFirstKey)===null||y===void 0?void 0:y.call(t))}else!p&&f.current&&(f.current.scrollTop=w.current.top,f.current.scrollLeft=w.current.left);if(e.focusedKey!=null&&f.current){let s=Z(r,e.focusedKey);s instanceof HTMLElement&&(!s.contains(document.activeElement)&&!h&&U(s),ve()==="keyboard"&&ye(s,{containingElement:r.current}))}}},R=n=>{n.currentTarget.contains(n.relatedTarget)||e.setFocused(!1)},T=g.useRef(!1);Y(r,yr,h?n=>{let{detail:b}=n;n.stopPropagation(),e.setFocused(!0),(b==null?void 0:b.focusStrategy)==="first"&&(T.current=!0)}:void 0),ge(()=>{if(T.current){var n,b;let y=(b=(n=t.getFirstKey)===null||n===void 0?void 0:n.call(t))!==null&&b!==void 0?b:null;if(y==null){let P=Ae();Me(r.current),Re(P,null),e.collection.size>0&&(T.current=!1)}else e.setFocusedKey(y),T.current=!1}},[e.collection]),ge(()=>{e.collection.size>0&&(T.current=!1)},[e.focusedKey]),Y(r,hr,h?n=>{var b;n.stopPropagation(),e.setFocused(!1),!((b=n.detail)===null||b===void 0)&&b.clearFocusKey&&e.setFocusedKey(null)}:void 0);const I=g.useRef(o),F=g.useRef(!1);g.useEffect(()=>{if(I.current){var n,b;let A=null;var y;o==="first"&&(A=(y=(n=t.getFirstKey)===null||n===void 0?void 0:n.call(t))!==null&&y!==void 0?y:null);var P;o==="last"&&(A=(P=(b=t.getLastKey)===null||b===void 0?void 0:b.call(t))!==null&&P!==void 0?P:null);let s=e.selectedKeys;if(s.size){for(let K of s)if(e.canSelectItem(K)){A=K;break}}e.setFocused(!0),e.setFocusedKey(A),A==null&&!h&&r.current&&ae(r.current),e.collection.size>0&&(I.current=!1,F.current=!0)}});let N=g.useRef(e.focusedKey),L=g.useRef(null);g.useEffect(()=>{if(e.isFocused&&e.focusedKey!=null&&(e.focusedKey!==N.current||F.current)&&f.current&&r.current){let n=ve(),b=Z(r,e.focusedKey);if(!(b instanceof HTMLElement))return;(n==="keyboard"||F.current)&&(L.current&&cancelAnimationFrame(L.current),L.current=requestAnimationFrame(()=>{f.current&&(ke(f.current,b),n!=="virtual"&&ye(b,{containingElement:r.current}))}))}!h&&e.isFocused&&e.focusedKey==null&&N.current!=null&&r.current&&ae(r.current),N.current=e.focusedKey,F.current=!1}),g.useEffect(()=>()=>{L.current&&cancelAnimationFrame(L.current)},[]),Y(r,"react-aria-focus-scope-restore",n=>{n.preventDefault(),e.setFocused(!0)});let M={onKeyDown:D,onFocus:S,onBlur:R,onMouseDown(n){f.current===n.target&&n.preventDefault()}},{typeSelectProps:j}=Mr({keyboardDelegate:t,selectionManager:e});m||(M=V(j,M));let C;h||(C=e.focusedKey==null?0:-1);let Q=wr(e.collection);return{collectionProps:V(M,{tabIndex:C,"data-collection":Q})}}function ri(i){let{id:e,selectionManager:t,key:r,ref:o,shouldSelectOnPressUp:l,shouldUseVirtualFocus:u,focus:a,isDisabled:c,onAction:v,allowsDifferentPressOrigin:m,linkBehavior:h="action"}=i,$=Be();e=J(e);let p=s=>{if(s.pointerType==="keyboard"&&pe(s))t.toggleSelection(r);else{if(t.selectionMode==="none")return;if(t.isLink(r)){if(h==="selection"&&o.current){let K=t.getItemProps(r);$.open(o.current,s,K.href,K.routerOptions),t.setSelectedKeys(t.selectedKeys);return}else if(h==="override"||h==="none")return}t.selectionMode==="single"?t.isSelected(r)&&!t.disallowEmptySelection?t.toggleSelection(r):t.replaceSelection(r):s&&s.shiftKey?t.extendSelection(r):t.selectionBehavior==="toggle"||s&&(W(s)||s.pointerType==="touch"||s.pointerType==="virtual")?t.toggleSelection(r):t.replaceSelection(r)}};g.useEffect(()=>{r===t.focusedKey&&t.isFocused&&(u?Me(o.current):a?a():document.activeElement!==o.current&&o.current&&ae(o.current))},[o,r,t.focusedKey,t.childFocusStrategy,t.isFocused,u]),c=c||t.isDisabled(r);let f={};!u&&!c?f={tabIndex:r===t.focusedKey?0:-1,onFocus(s){s.target===o.current&&t.setFocusedKey(r)}}:c&&(f.onMouseDown=s=>{s.preventDefault()});let x=t.isLink(r)&&h==="override",E=v&&i.UNSTABLE_itemBehavior==="action",B=t.isLink(r)&&h!=="selection"&&h!=="none",D=!c&&t.canSelectItem(r)&&!x&&!E,w=(v||B)&&!c,S=w&&(t.selectionBehavior==="replace"?!D:!D||t.isEmpty),R=w&&D&&t.selectionBehavior==="replace",T=S||R,I=g.useRef(null),F=T&&D,N=g.useRef(!1),L=g.useRef(!1),M=t.getItemProps(r),j=s=>{if(v){var K;v(),(K=o.current)===null||K===void 0||K.dispatchEvent(new CustomEvent("react-aria-item-action",{bubbles:!0}))}B&&o.current&&$.open(o.current,s,M.href,M.routerOptions)},C={ref:o};if(l?(C.onPressStart=s=>{I.current=s.pointerType,N.current=F,s.pointerType==="keyboard"&&(!T||Pe())&&p(s)},m?(C.onPressUp=S?void 0:s=>{s.pointerType==="mouse"&&D&&p(s)},C.onPress=S?j:s=>{s.pointerType!=="keyboard"&&s.pointerType!=="mouse"&&D&&p(s)}):C.onPress=s=>{if(S||R&&s.pointerType!=="mouse"){if(s.pointerType==="keyboard"&&!De())return;j(s)}else s.pointerType!=="keyboard"&&D&&p(s)}):(C.onPressStart=s=>{I.current=s.pointerType,N.current=F,L.current=S,D&&(s.pointerType==="mouse"&&!S||s.pointerType==="keyboard"&&(!w||Pe()))&&p(s)},C.onPress=s=>{(s.pointerType==="touch"||s.pointerType==="pen"||s.pointerType==="virtual"||s.pointerType==="keyboard"&&T&&De()||s.pointerType==="mouse"&&L.current)&&(T?j(s):D&&p(s))}),f["data-collection"]=kr(t.collection),f["data-key"]=r,C.preventFocusOnPress=u,u&&(C=V(C,{onPressStart(s){s.pointerType!=="touch"&&(t.setFocused(!0),t.setFocusedKey(r))},onPress(s){s.pointerType==="touch"&&(t.setFocused(!0),t.setFocusedKey(r))}})),M)for(let s of["onPressStart","onPressEnd","onPressChange","onPress","onPressUp","onClick"])M[s]&&(C[s]=fr(C[s],M[s]));let{pressProps:Q,isPressed:n}=Se(C),b=R?s=>{I.current==="mouse"&&(s.stopPropagation(),s.preventDefault(),j(s))}:void 0,{longPressProps:y}=Fe({isDisabled:!F,onLongPress(s){s.pointerType==="touch"&&(p(s),t.setSelectionBehavior("toggle"))}}),P=s=>{I.current==="touch"&&N.current&&s.preventDefault()},A=h!=="none"&&t.isLink(r)?s=>{sr.isOpening||s.preventDefault()}:void 0;return{itemProps:V(f,D||S||u&&!c?Q:{},F?y:{},{onDoubleClick:b,onDragStartCapture:P,onClick:A,id:e},u?{onMouseDown:s=>s.preventDefault()}:void 0),isPressed:n,isSelected:t.isSelected(r),isFocused:t.isFocused&&t.focusedKey===r,isDisabled:c,allowsSelection:D,hasAction:T}}function De(){let i=window.event;return(i==null?void 0:i.key)==="Enter"}function Pe(){let i=window.event;return(i==null?void 0:i.key)===" "||(i==null?void 0:i.code)==="Space"}class Ke{getItemRect(e){let t=this.ref.current;if(!t)return null;let r=e!=null?Z(this.ref,e):null;if(!r)return null;let o=t.getBoundingClientRect(),l=r.getBoundingClientRect();return{x:l.left-o.left-t.clientLeft+t.scrollLeft,y:l.top-o.top-t.clientTop+t.scrollTop,width:l.width,height:l.height}}getContentSize(){let e=this.ref.current;var t,r;return{width:(t=e==null?void 0:e.scrollWidth)!==null&&t!==void 0?t:0,height:(r=e==null?void 0:e.scrollHeight)!==null&&r!==void 0?r:0}}getVisibleRect(){let e=this.ref.current;var t,r,o,l;return{x:(t=e==null?void 0:e.scrollLeft)!==null&&t!==void 0?t:0,y:(r=e==null?void 0:e.scrollTop)!==null&&r!==void 0?r:0,width:(o=e==null?void 0:e.clientWidth)!==null&&o!==void 0?o:0,height:(l=e==null?void 0:e.clientHeight)!==null&&l!==void 0?l:0}}constructor(e){this.ref=e}}class Or{isDisabled(e){var t;return this.disabledBehavior==="all"&&(((t=e.props)===null||t===void 0?void 0:t.isDisabled)||this.disabledKeys.has(e.key))}findNextNonDisabled(e,t){let r=e;for(;r!=null;){let o=this.collection.getItem(r);if((o==null?void 0:o.type)==="item"&&!this.isDisabled(o))return r;r=t(r)}return null}getNextKey(e){let t=e;return t=this.collection.getKeyAfter(t),this.findNextNonDisabled(t,r=>this.collection.getKeyAfter(r))}getPreviousKey(e){let t=e;return t=this.collection.getKeyBefore(t),this.findNextNonDisabled(t,r=>this.collection.getKeyBefore(r))}findKey(e,t,r){let o=e,l=this.layoutDelegate.getItemRect(o);if(!l||o==null)return null;let u=l;do{if(o=t(o),o==null)break;l=this.layoutDelegate.getItemRect(o)}while(l&&r(u,l)&&o!=null);return o}isSameRow(e,t){return e.y===t.y||e.x!==t.x}isSameColumn(e,t){return e.x===t.x||e.y!==t.y}getKeyBelow(e){return this.layout==="grid"&&this.orientation==="vertical"?this.findKey(e,t=>this.getNextKey(t),this.isSameRow):this.getNextKey(e)}getKeyAbove(e){return this.layout==="grid"&&this.orientation==="vertical"?this.findKey(e,t=>this.getPreviousKey(t),this.isSameRow):this.getPreviousKey(e)}getNextColumn(e,t){return t?this.getPreviousKey(e):this.getNextKey(e)}getKeyRightOf(e){let t=this.direction==="ltr"?"getKeyRightOf":"getKeyLeftOf";return this.layoutDelegate[t]?(e=this.layoutDelegate[t](e),this.findNextNonDisabled(e,r=>this.layoutDelegate[t](r))):this.layout==="grid"?this.orientation==="vertical"?this.getNextColumn(e,this.direction==="rtl"):this.findKey(e,r=>this.getNextColumn(r,this.direction==="rtl"),this.isSameColumn):this.orientation==="horizontal"?this.getNextColumn(e,this.direction==="rtl"):null}getKeyLeftOf(e){let t=this.direction==="ltr"?"getKeyLeftOf":"getKeyRightOf";return this.layoutDelegate[t]?(e=this.layoutDelegate[t](e),this.findNextNonDisabled(e,r=>this.layoutDelegate[t](r))):this.layout==="grid"?this.orientation==="vertical"?this.getNextColumn(e,this.direction==="ltr"):this.findKey(e,r=>this.getNextColumn(r,this.direction==="ltr"),this.isSameColumn):this.orientation==="horizontal"?this.getNextColumn(e,this.direction==="ltr"):null}getFirstKey(){let e=this.collection.getFirstKey();return this.findNextNonDisabled(e,t=>this.collection.getKeyAfter(t))}getLastKey(){let e=this.collection.getLastKey();return this.findNextNonDisabled(e,t=>this.collection.getKeyBefore(t))}getKeyPageAbove(e){let t=this.ref.current,r=this.layoutDelegate.getItemRect(e);if(!r)return null;if(t&&!fe(t))return this.getFirstKey();let o=e;if(this.orientation==="horizontal"){let l=Math.max(0,r.x+r.width-this.layoutDelegate.getVisibleRect().width);for(;r&&r.x>l&&o!=null;)o=this.getKeyAbove(o),r=o==null?null:this.layoutDelegate.getItemRect(o)}else{let l=Math.max(0,r.y+r.height-this.layoutDelegate.getVisibleRect().height);for(;r&&r.y>l&&o!=null;)o=this.getKeyAbove(o),r=o==null?null:this.layoutDelegate.getItemRect(o)}return o??this.getFirstKey()}getKeyPageBelow(e){let t=this.ref.current,r=this.layoutDelegate.getItemRect(e);if(!r)return null;if(t&&!fe(t))return this.getLastKey();let o=e;if(this.orientation==="horizontal"){let l=Math.min(this.layoutDelegate.getContentSize().width,r.y-r.width+this.layoutDelegate.getVisibleRect().width);for(;r&&r.x<l&&o!=null;)o=this.getKeyBelow(o),r=o==null?null:this.layoutDelegate.getItemRect(o)}else{let l=Math.min(this.layoutDelegate.getContentSize().height,r.y-r.height+this.layoutDelegate.getVisibleRect().height);for(;r&&r.y<l&&o!=null;)o=this.getKeyBelow(o),r=o==null?null:this.layoutDelegate.getItemRect(o)}return o??this.getLastKey()}getKeyForSearch(e,t){if(!this.collator)return null;let r=this.collection,o=t||this.getFirstKey();for(;o!=null;){let l=r.getItem(o);if(!l)return null;let u=l.textValue.slice(0,e.length);if(l.textValue&&this.collator.compare(u,e)===0)return o;o=this.getNextKey(o)}return null}constructor(...e){if(e.length===1){let t=e[0];this.collection=t.collection,this.ref=t.ref,this.collator=t.collator,this.disabledKeys=t.disabledKeys||new Set,this.disabledBehavior=t.disabledBehavior||"all",this.orientation=t.orientation||"vertical",this.direction=t.direction,this.layout=t.layout||"stack",this.layoutDelegate=t.layoutDelegate||new Ke(t.ref)}else this.collection=e[0],this.disabledKeys=e[1],this.ref=e[2],this.collator=e[3],this.layout="stack",this.orientation="vertical",this.disabledBehavior="all",this.layoutDelegate=new Ke(this.ref);this.layout==="stack"&&this.orientation==="vertical"&&(this.getKeyLeftOf=void 0,this.getKeyRightOf=void 0)}}function ii(i){let{selectionManager:e,collection:t,disabledKeys:r,ref:o,keyboardDelegate:l,layoutDelegate:u}=i,a=Cr({usage:"search",sensitivity:"base"}),c=e.disabledBehavior,v=g.useMemo(()=>l||new Or({collection:t,disabledKeys:r,disabledBehavior:c,ref:o,collator:a,layoutDelegate:u}),[l,u,t,r,o,a,c]),{collectionProps:m}=Lr({...i,ref:o,selectionManager:e,keyboardDelegate:v});return{listProps:m}}function _t(i){return null}_t.getCollectionNode=function*(e,t){let{childItems:r,title:o,children:l}=e,u=e.title||e.children,a=e.textValue||(typeof u=="string"?u:"")||e["aria-label"]||"";!a&&(t!=null&&t.suppressTextValueWarning),yield{type:"item",props:e,rendered:u,textValue:a,"aria-label":e["aria-label"],hasChildNodes:Ir(e),*childNodes(){if(r)for(let c of r)yield{type:"item",value:c};else if(o){let c=[];G.Children.forEach(l,v=>{c.push({type:"item",element:v})}),yield*c}}}};function Ir(i){return i.hasChildItems!=null?i.hasChildItems:!!(i.childItems||i.title&&G.Children.count(i.children)>0)}let Nr=_t;function er(i){return null}er.getCollectionNode=function*(e){let{children:t,title:r,items:o}=e;yield{type:"section",props:e,hasChildNodes:!0,rendered:r,"aria-label":e["aria-label"],*childNodes(){if(typeof t=="function"){if(!o)throw new Error("props.children was a function but props.items is missing");for(let l of o)yield{type:"item",value:l,renderer:t}}else{let l=[];G.Children.forEach(t,u=>{l.push({type:"item",element:u})}),yield*l}}}};let Hr=er;const Ee=new WeakMap;function oi(i){let e=Ee.get(i);if(e!=null)return e;let t=0,r=o=>{for(let l of o)l.type==="section"?r(pr(l,i)):l.type==="item"&&t++};return r(i),Ee.set(i,t),t}function li(i){let[e,t]=br(i.isOpen,i.defaultOpen||!1,i.onOpenChange);const r=g.useCallback(()=>{t(!0)},[t]),o=g.useCallback(()=>{t(!1)},[t]),l=g.useCallback(()=>{t(!e)},[t,e]);return{isOpen:e,setOpen:t,open:r,close:o,toggle:l}}const si=(i,e)=>({"aria-label":i,children:e.map(({id:t,menuItems:r,ariaLabel:o})=>$e.jsx(Hr,{title:t,"aria-label":o,children:r.map(l=>$e.jsx(Nr,{children:l.title},l.id))},t))}),ni=i=>i.flatMap(({menuItems:e})=>e),ui=i=>i.reduce((e,t)=>({...e,[t.id]:t}),{}),ai=i=>new Set(i.reduce((e,t)=>[...e,t.disabled?t.id:""],[]).filter(e=>e!=="").map(e=>e.toString()));export{ii as $,oi as a,ri as b,Qr as c,li as d,ui as e,ai as f,ni as g,ti as h,_r as i,ei as j,Cr as k,Or as l,si as m,Mr as n};
