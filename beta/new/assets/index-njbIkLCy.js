import{r as c}from"./index-ClcD9ViR.js";import{P as I,u as j}from"./index-CBtKeiPJ.js";import{c as F}from"./index-CWz5EflU.js";import{c as S}from"./index-DulyF36n.js";import{u as L,a as O}from"./index-BZQsQlpo.js";import{u as H}from"./index-sY83p_TZ.js";import{P as z}from"./index-Bs6rH-UG.js";import{j as u}from"./jsx-runtime-BYYWji4R.js";var P="Checkbox",[G,re]=F(P),[K,g]=G(P);function U(t){const{__scopeCheckbox:a,checked:s,children:l,defaultChecked:r,disabled:e,form:f,name:h,onCheckedChange:i,required:m,value:C="on",internal_do_not_use_render:d}=t,[p,v]=L({prop:s,defaultProp:r??!1,onChange:i,caller:P}),[k,x]=c.useState(null),[E,o]=c.useState(null),n=c.useRef(!1),R=k?!!f||!!k.closest("form"):!0,_={checked:p,disabled:e,setChecked:v,control:k,setControl:x,name:h,form:f,value:C,hasConsumerStoppedPropagationRef:n,required:m,defaultChecked:b(r)?!1:r,isFormControl:R,bubbleInput:E,setBubbleInput:o};return u.jsx(K,{scope:a,..._,children:Q(d)?d(_):l})}var N="CheckboxTrigger",w=c.forwardRef(({__scopeCheckbox:t,onKeyDown:a,onClick:s,...l},r)=>{const{control:e,value:f,disabled:h,checked:i,required:m,setControl:C,setChecked:d,hasConsumerStoppedPropagationRef:p,isFormControl:v,bubbleInput:k}=g(N,t),x=j(r,C),E=c.useRef(i);return c.useEffect(()=>{const o=e==null?void 0:e.form;if(o){const n=()=>d(E.current);return o.addEventListener("reset",n),()=>o.removeEventListener("reset",n)}},[e,d]),u.jsx(I.button,{type:"button",role:"checkbox","aria-checked":b(i)?"mixed":i,"aria-required":m,"data-state":q(i),"data-disabled":h?"":void 0,disabled:h,value:f,...l,ref:x,onKeyDown:S(a,o=>{o.key==="Enter"&&o.preventDefault()}),onClick:S(s,o=>{d(n=>b(n)?!0:!n),k&&v&&(p.current=o.isPropagationStopped(),p.current||o.stopPropagation())})})});w.displayName=N;var X=c.forwardRef((t,a)=>{const{__scopeCheckbox:s,name:l,checked:r,defaultChecked:e,required:f,disabled:h,value:i,onCheckedChange:m,form:C,...d}=t;return u.jsx(U,{__scopeCheckbox:s,checked:r,defaultChecked:e,disabled:h,required:f,onCheckedChange:m,name:l,form:C,value:i,internal_do_not_use_render:({isFormControl:p})=>u.jsxs(u.Fragment,{children:[u.jsx(w,{...d,ref:a,__scopeCheckbox:s}),p&&u.jsx(T,{__scopeCheckbox:s})]})})});X.displayName=P;var B="CheckboxIndicator",J=c.forwardRef((t,a)=>{const{__scopeCheckbox:s,forceMount:l,...r}=t,e=g(B,s);return u.jsx(z,{present:l||b(e.checked)||e.checked===!0,children:u.jsx(I.span,{"data-state":q(e.checked),"data-disabled":e.disabled?"":void 0,...r,ref:a,style:{pointerEvents:"none",...t.style}})})});J.displayName=B;var M="CheckboxBubbleInput",T=c.forwardRef(({__scopeCheckbox:t,...a},s)=>{const{control:l,hasConsumerStoppedPropagationRef:r,checked:e,defaultChecked:f,required:h,disabled:i,name:m,value:C,form:d,bubbleInput:p,setBubbleInput:v}=g(M,t),k=j(s,v),x=H(e),E=O(l);c.useEffect(()=>{const n=p;if(!n)return;const R=window.HTMLInputElement.prototype,y=Object.getOwnPropertyDescriptor(R,"checked").set,A=!r.current;if(x!==e&&y){const D=new Event("click",{bubbles:A});n.indeterminate=b(e),y.call(n,b(e)?!1:e),n.dispatchEvent(D)}},[p,x,e,r]);const o=c.useRef(b(e)?!1:e);return u.jsx(I.input,{type:"checkbox","aria-hidden":!0,defaultChecked:f??o.current,required:h,disabled:i,name:m,value:C,form:d,...a,tabIndex:-1,ref:k,style:{...a.style,...E,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});T.displayName=M;function Q(t){return typeof t=="function"}function b(t){return t==="indeterminate"}function q(t){return b(t)?"indeterminate":t?"checked":"unchecked"}export{X as C,J as a};
