import{j as l}from"./jsx-runtime-BYYWji4R.js";import{r as s}from"./index-ClcD9ViR.js";import{p as O}from"./fondue-icons351-C23tm6Bo.js";import{C as V,R as S,L as M,T as A}from"./index-DQrvFS0J.js";import{u as L}from"./useControllableState-D84sIWhr.js";import{B as $}from"./Button-CGg8-Lq8.js";import{h as b}from"./Dropdown-DOWjh9BP.js";const H=(t,n)=>t.filter(a=>{var c;const e=(c=a.ref)==null?void 0:c.current;return e?e.offsetLeft+e.offsetWidth>(n==null?void 0:n.scrollLeft)+n.offsetWidth||e.offsetLeft-n.scrollLeft<0:!1}),y=(t,n)=>{const a=n.current,e=t==null?void 0:t.querySelector('[data-state="active"]');if(!t||!(e instanceof HTMLButtonElement)||!(a instanceof HTMLSpanElement))return;const c=(t==null?void 0:t.scrollLeft)>(e==null?void 0:e.offsetLeft),d=(e==null?void 0:e.offsetLeft)+(e==null?void 0:e.offsetWidth)>(t==null?void 0:t.offsetWidth);c?(t.offsetWidth>e.offsetWidth+e.offsetLeft?a.style.left=`${e.offsetLeft}px`:a.style.left=`${t.offsetWidth-e.offsetWidth}px`,a.style.width=`${e==null?void 0:e.offsetWidth}px`):d?(a.style.left=`${t.clientWidth-e.offsetWidth}px`,a.style.width=`${e.offsetWidth}px`):(a.style.left=`${e.offsetLeft}px`,a.style.width=`${e.offsetWidth}px`)},k=({activeTab:t})=>{const n=s.useRef(null),a=s.useRef(null),[e,c]=s.useState([]),[d,p]=s.useState([]);return s.useEffect(()=>{const o=n.current,r=o==null?void 0:o.querySelector('[data-state="active"]');r instanceof HTMLButtonElement&&o instanceof HTMLDivElement&&(y(o,a),r.scrollIntoView({behavior:"smooth",block:"nearest",inline:"end"}))},[t,a]),s.useLayoutEffect(()=>{var f;const o=n.current,r=o==null?void 0:o.querySelector('[data-state="active"]');if(o instanceof HTMLDivElement&&r instanceof HTMLButtonElement){y(o,a);const u=new MutationObserver(()=>{r.scrollIntoView({behavior:"instant",block:"nearest",inline:"end"}),y(o,a)});o.parentNode&&u.observe(o.parentNode,{childList:!0});const h=new IntersectionObserver(()=>{p(H(e,o)),y(o,a)},{root:o,threshold:1});for(const T of e)(f=T.ref)!=null&&f.current&&h.observe(T.ref.current);return()=>{h.disconnect(),u.disconnect()}}},[e,n,a]),{triggerListRef:n,activeIndicatorRef:a,triggersOutOfView:d,triggers:e,addTrigger:o=>{o.previousElement||c(r=>[...r,o]),c(r=>{const f=r.findIndex(u=>u.element===o.previousElement);return r[f]=o,[...r]})}}},B="_triggerListWrapper_1mhro_5",z="_trigger_1mhro_5",D="_activeIndicator_1mhro_53",P="_triggerList_1mhro_5",F="_root_1mhro_143",U="_content_1mhro_166",m={triggerListWrapper:B,trigger:z,activeIndicator:D,triggerList:P,root:F,content:U},x=s.createContext({value:"",disabled:!1});x.displayName="TabConfigContext";const w=s.createContext({addTrigger:()=>{}});w.displayName="TabTriggerContext";const R=({padding:t="compact",activeTab:n,defaultActiveTab:a,size:e="medium",onActiveTabChange:c,children:d,variant:p="default",...v},o)=>{var q;const[r,f]=L({prop:n,defaultProp:a,onChange:c}),u=s.useCallback(i=>{f(i)},[f]),{triggerListRef:h,activeIndicatorRef:T,triggers:g,triggersOutOfView:N,addTrigger:I}=k({activeTab:r}),j=s.useMemo(()=>({addTrigger:I}),[I]);return l.jsx(w.Provider,{value:j,children:l.jsxs(S,{ref:o,className:m.root,onValueChange:u,value:r??((q=g[0])==null?void 0:q.value),"data-tabs-content-padding":t,"data-tabs-variant":p,...v,children:[l.jsxs("div",{className:m.triggerListWrapper,children:[l.jsx(M,{ref:h,"data-size":e,className:m.triggerList,children:g.map(i=>s.createElement(A,{...i.props,key:i.value,value:i.value,disabled:i.disabled,className:m.trigger,ref:i.ref},i.element))}),l.jsxs(b.Root,{children:[N.length>0&&l.jsx(b.Trigger,{"data-test-id":"overflow-items-dropdown-trigger",children:l.jsx($,{emphasis:"default",aspect:"square",size:"small",children:l.jsx(O,{size:16})})}),l.jsx(b.Content,{align:"end","data-test-id":"overflow-items-dropdown-content",children:N.map(i=>s.createElement(b.Item,{...i.props,disabled:i.disabled,onSelect:()=>u(i.value),key:i.value},i.element))})]}),l.jsx("span",{"data-test-id":"active-tab-indicator",ref:T,className:m.activeIndicator})]}),d]})})};R.displayName="Tabs.Root";const C=({children:t,value:n,disabled:a})=>{const e=s.useMemo(()=>({value:n,disabled:a}),[n,a]);return l.jsx(x.Provider,{value:e,children:t})};C.displayName="Tabs.Tab";const W=({children:t,...n},a)=>{const{value:e,disabled:c}=s.useContext(x),{addTrigger:d}=s.useContext(w),p=s.useRef(null),v=s.useRef();return s.useEffect(()=>{d({ref:p||a,value:e??"",disabled:c,props:n,element:t,previousElement:v.current}),v.current=t},[t]),null};W.displayName="Tabs.Trigger";const _=({children:t,...n},a)=>{const{value:e}=s.useContext(x);return l.jsx(V,{ref:a,...n,className:m.content,value:e??"",children:t})};_.displayName="Tabs.Content";const E={Root:s.forwardRef(R),Tab:s.forwardRef(C),Trigger:s.forwardRef(W),Content:s.forwardRef(_)};R.__docgenInfo={description:"",methods:[],displayName:"Tabs.Root",props:{id:{required:!1,tsType:{name:"string"},description:""},children:{required:!0,tsType:{name:"ReactNode"},description:""},padding:{required:!1,tsType:{name:"union",raw:"'none' | 'tight' | 'compact' | 'comfortable' | 'spacious'",elements:[{name:"literal",value:"'none'"},{name:"literal",value:"'tight'"},{name:"literal",value:"'compact'"},{name:"literal",value:"'comfortable'"},{name:"literal",value:"'spacious'"}]},description:`Define the padding of the dialog
@default "compact"`,defaultValue:{value:"'compact'",computed:!1}},defaultActiveTab:{required:!1,tsType:{name:"string"},description:`The default active tab
Used for uncontrolled components`},activeTab:{required:!1,tsType:{name:"string"},description:"The controlled value of the active tab"},size:{required:!1,tsType:{name:"union",raw:"'medium' | 'large'",elements:[{name:"literal",value:"'medium'"},{name:"literal",value:"'large'"}]},description:`The height of the tabs
@default 'medium'`,defaultValue:{value:"'medium'",computed:!1}},onActiveTabChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(value: string) => void",signature:{arguments:[{type:{name:"string"},name:"value"}],return:{name:"void"}}},description:"Event handler called when the active tab changes"},variant:{required:!1,tsType:{name:"union",raw:"'default' | 'pill'",elements:[{name:"literal",value:"'default'"},{name:"literal",value:"'pill'"}]},description:`Select the used variant
â€œdefault 'default'`,defaultValue:{value:"'default'",computed:!1}}}};C.__docgenInfo={description:"",methods:[],displayName:"Tabs.Tab",props:{children:{required:!0,tsType:{name:"ReactNode"},description:""},value:{required:!0,tsType:{name:"string"},description:""},disabled:{required:!1,tsType:{name:"boolean"},description:""}}};_.__docgenInfo={description:"",methods:[],displayName:"Tabs.Content",props:{children:{required:!0,tsType:{name:"ReactNode"},description:""},asChild:{required:!1,tsType:{name:"boolean"},description:""}}};export{_ as T,W as a,C as b,R as c,E as d};
