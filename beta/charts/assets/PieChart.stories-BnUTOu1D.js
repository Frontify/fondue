import{e as A,r as g,j as h}from"./iframe-Ddifp-y4.js";import{c as we,a as W,h as xe,B as se,L as Te}from"./Legend-D2CnrZHa.js";import{G as ie}from"./Group-C6C6o3O5.js";import{a as Le,p as Me}from"./D3ShapeFactories-Ch-vNTVa.js";import{g as F,T as Se}from"./createTheme-D27JnV6R.js";import"./preload-helper-Jj7k80GA.js";import"./pie-DtVSWFrF.js";var qe=["className","top","left","data","centroid","innerRadius","outerRadius","cornerRadius","startAngle","endAngle","padAngle","padRadius","pieSort","pieSortValues","pieValue","children","fill"];function _(){return _=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(e[o]=s[o])}return e},_.apply(this,arguments)}function Ae(e,t){if(e==null)return{};var s={},o=Object.keys(e),r,a;for(a=0;a<o.length;a++)r=o[a],!(t.indexOf(r)>=0)&&(s[r]=e[r]);return s}function De(e){var t=e.className,s=e.top,o=e.left,r=e.data,a=r===void 0?[]:r,n=e.centroid,i=e.innerRadius,l=i===void 0?0:i,c=e.outerRadius,u=e.cornerRadius,d=e.startAngle,m=e.endAngle,v=e.padAngle,T=e.padRadius,f=e.pieSort,y=e.pieSortValues,L=e.pieValue,p=e.children,P=e.fill,b=P===void 0?"":P,M=Ae(e,qe),S=Le({innerRadius:l,outerRadius:c,cornerRadius:u,padRadius:T}),j=Me({startAngle:d,endAngle:m,padAngle:v,value:L,sort:f,sortValues:y}),k=j(a);return p?A.createElement(A.Fragment,null,p({arcs:k,path:S,pie:j})):A.createElement(ie,{className:"visx-pie-arcs-group",top:s,left:o},k.map(function(w,C){return A.createElement("g",{key:"pie-arc-"+C},A.createElement("path",_({className:we("visx-pie-arc",t),d:S(w)||"",fill:b==null||typeof b=="string"?b:b(w)},M)),n==null?void 0:n(S.centroid(w),w))}))}const z={top:0,right:0,bottom:0,left:0},Ie=(e,t,s)=>{const[o,r]=g.useState("label"),[a,n]=g.useState(e),i=a/2,l=o==="label"?s:z,c=[l.left+i,l.top+i],u=a+l.left+l.right,d=a+l.top+l.bottom;return g.useEffect(()=>{const m=()=>{const v=e+s.left+s.right;t.current&&(t.current.clientWidth<v?(r("legend"),n(Math.min(t.current.clientWidth,e))):(n(e),r("label")))};return m(),window.addEventListener("resize",m),()=>{window.removeEventListener("resize",m)}},[e,s,t]),{radius:i,center:c,width:u,height:d,labelStyle:o}},Ee="var(--fc-base-color)",je="2px",oe=({arcDatum:e,path:t,onMouseEnter:s,onMouseLeave:o})=>{const r=W(e.index),a=xe(e.index),[n,i]=g.useState(r),l=()=>{i(a),s()},c=()=>{i(r),o()};return h.jsx("path",{d:t(e)||"",fill:n,stroke:Ee,strokeWidth:je,onMouseEnter:l,onMouseLeave:c,tabIndex:0,"aria-label":`${e.data.label} ${e.data.value}`})};oe.__docgenInfo={description:"",methods:[],displayName:"ArcPath",props:{arcDatum:{required:!0,tsType:{name:"PieArcDatum",elements:[{name:"signature",type:"object",raw:`{
    value: number;
    label: string;
}`,signature:{properties:[{key:"value",value:{name:"number",required:!0}},{key:"label",value:{name:"string",required:!0}}]}}],raw:"PieArcDatum<PieChartDatum>"},description:""},path:{required:!0,tsType:{name:"Arc",elements:[{name:"void"},{name:"PieArcDatum",elements:[{name:"signature",type:"object",raw:`{
    value: number;
    label: string;
}`,signature:{properties:[{key:"value",value:{name:"number",required:!0}},{key:"label",value:{name:"string",required:!0}}]}}],raw:"PieArcDatum<PieChartDatum>"}],raw:"Arc<void, PieArcDatum<PieChartDatum>>"},description:""},onMouseEnter:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},onMouseLeave:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}};const B="--body-size-large",le={fontSize:`var(${B})`,fontWeight:"var(--typography-font-weight-bold)",fontFamily:`var(${se})`,fill:"var(--fc-font-color-default)"},G={fontSize:`var(${B})`,fontWeight:"var(--typography-font-weight-regular)",fontFamily:`var(${se})`,fill:"var(--fc-font-color-default)"},ue={...G,fill:"var(--fc-font-color-weak)"},x=10,ke=4,Ce=30,V=15,Re=(e,t,s,o)=>{const[r,a]=t,n=s/2+ke,i=n+Ce;let l,c,u,d,m;return e<=Math.PI/2||o?(l=r+Math.sin(e)*n,c=a-Math.cos(e)*n,u=r+Math.sin(e)*i,d=a-Math.cos(e)*i,m=u+V):e>Math.PI/2&&e<=Math.PI?(l=r+Math.cos(e-Math.PI/2)*n,c=a+Math.sin(e-Math.PI/2)*n,u=r+Math.cos(e-Math.PI/2)*i,d=a+Math.sin(e-Math.PI/2)*i,m=u+V):e>Math.PI&&e<Math.PI*1.5?(l=r-Math.sin(e-Math.PI)*n,c=a+Math.cos(e-Math.PI)*n,u=r-Math.sin(e-Math.PI)*i,d=a+Math.cos(e-Math.PI)*i,m=u-V):(l=r-Math.cos(e-Math.PI*1.5)*n,c=a-Math.sin(e-Math.PI*1.5)*n,u=r-Math.cos(e-Math.PI*1.5)*i,d=a-Math.sin(e-Math.PI*1.5)*i,m=u-V),{x1:l,y1:c,x2:u,y2:d,x3:m}},Ve=(e,t,s,o,r,a)=>{const[n,i]=o;let l=0,c=0,u=0,d=0;return e<Math.PI/2?(c=n+s+x-t,l=Math.abs(i)-t+r):e===Math.PI/2?c=Math.abs(n)+s+x-t:e>Math.PI/2&&e<Math.PI?(d=i-t+a,c=n+s+x-t):e===Math.PI?d=i-t+a:e>Math.PI&&e<Math.PI*1.5?(d=Math.abs(i)-t+a,u=Math.abs(n)-t+x):(e===Math.PI*1.5||(l=Math.abs(i)-t+r),u=Math.abs(n)-t+x),{paddingTop:l,paddingRight:c,paddingLeft:u,paddingBottom:d}},Ne=(e,t,s,o)=>{const[r,a]=s;let n;return e<=Math.PI||o?n=r+x:n=r-t-x,{textAnchorX:n,textAnchorY:a}},Oe=(e,t,s)=>{const o=getComputedStyle(document.body).getPropertyValue("font-size"),r=getComputedStyle(document.documentElement).getPropertyValue(B)??"0",a=parseFloat(r)*parseFloat(o);return{textTopOffset:a,textBottomOffset:e&&(t||s)?a:0}},$e=(e,t,s)=>{const[o,r]=g.useState({labelWidth:0,valueWidth:0,percentageWidth:0});return g.useEffect(()=>{const a=F(e,le).width??0,n=F(t,G).width??0,i=F(s,ue).width??0;r({labelWidth:a,valueWidth:n,percentageWidth:i})},[e,t,s]),o},de=({centroid:e,centroidAngle:t,prevCentroidAngle:s,arcDatum:o,radius:r,showLabelTitle:a,showLabelValue:n,showLabelPercentage:i,setPadding:l,labelsShownOnHover:c,hideLabel:u,valueFormatter:d})=>{const{data:m,startAngle:v,endAngle:T,index:f}=o,y=a||n||i,L=((T-v)/(Math.PI*2)*100).toFixed(1),p=(d==null?void 0:d(m.value))??m.value,P=a?m.label:"",b=`${n?p:""}`,M=i?`(${L}%)`:"",{labelWidth:S,valueWidth:j,percentageWidth:k}=$e(P,b,M),w=Math.max(S,j+k),C=!c&&t-s<Math.PI*.15,{x1:pe,y1:he,x2:be,y2:X,x3:N}=Re(t,e,r,C),{textAnchorX:q,textAnchorY:O}=Ne(t,w,[N,X],C),{textTopOffset:K,textBottomOffset:$}=Oe(a,n,i),fe=q<N?w-S:0;return g.useEffect(()=>{if(y){const{paddingTop:ge,paddingRight:ve,paddingBottom:ye,paddingLeft:Pe}=Ve(t,r,w,[q,O],K,$*1.5);l(R=>({top:Math.max(R.top,ge),right:Math.max(R.right,ve),bottom:Math.max(R.bottom,ye),left:Math.max(R.left,Pe)}))}else l(z)},[t,w,r,q,O,K,$,y,l]),y&&!u?h.jsxs("g",{children:[h.jsx("path",{d:`M ${pe} ${he} L ${be} ${X} H ${N}`,stroke:W(f),strokeWidth:"2px",fill:"none"}),h.jsxs("text",{x:q,y:O,...Se,children:[a&&h.jsx("tspan",{dx:fe,...le,children:P}),h.jsxs("tspan",{x:q,dy:$*1.25,...G,children:[b," ",h.jsx("tspan",{...ue,children:M})]})]})]}):null};de.__docgenInfo={description:"",methods:[],displayName:"Label",props:{centroid:{required:!0,tsType:{name:"tuple",raw:"[number, number]",elements:[{name:"number"},{name:"number"}]},description:""},centroidAngle:{required:!0,tsType:{name:"number"},description:""},prevCentroidAngle:{required:!0,tsType:{name:"number"},description:""},arcDatum:{required:!0,tsType:{name:"PieArcDatum",elements:[{name:"signature",type:"object",raw:`{
    value: number;
    label: string;
}`,signature:{properties:[{key:"value",value:{name:"number",required:!0}},{key:"label",value:{name:"string",required:!0}}]}}],raw:"PieArcDatum<PieChartDatum>"},description:""},radius:{required:!0,tsType:{name:"number"},description:""},showLabelTitle:{required:!0,tsType:{name:"boolean"},description:""},showLabelValue:{required:!0,tsType:{name:"boolean"},description:""},showLabelPercentage:{required:!0,tsType:{name:"boolean"},description:""},setPadding:{required:!0,tsType:{name:"Dispatch",elements:[{name:"SetStateAction",elements:[{name:"signature",type:"object",raw:`{
    top: number;
    right: number;
    bottom: number;
    left: number;
}`,signature:{properties:[{key:"top",value:{name:"number",required:!0}},{key:"right",value:{name:"number",required:!0}},{key:"bottom",value:{name:"number",required:!0}},{key:"left",value:{name:"number",required:!0}}]}}],raw:"SetStateAction<Padding>"}],raw:"Dispatch<SetStateAction<Padding>>"},description:""},labelsShownOnHover:{required:!0,tsType:{name:"boolean"},description:""},hideLabel:{required:!0,tsType:{name:"boolean"},description:""},valueFormatter:{required:!1,tsType:{name:"signature",type:"function",raw:"(value: number) => string",signature:{arguments:[{type:{name:"number"},name:"value"}],return:{name:"string"}}},description:""}}};const Fe=(e,t)=>({...e,startAngle:e.startAngle===e.endAngle?e.index*(2*Math.PI/t):e.startAngle,endAngle:e.startAngle===e.endAngle?(e.index+1)*(2*Math.PI/t):e.endAngle}),ce=({arc:e,previousArc:t,numberOfArcs:s,radius:o,isLabelHidden:r,showLabelValue:a,showLabelPercentage:n,showLabelTitle:i,path:l,setPaddingForLabels:c,valueFormatter:u})=>{const d=s>3,[m,v]=g.useState(!1),T=r||d&&!m,f=Fe(e,s),y=(f.startAngle+f.endAngle)/2,L=t?(t.startAngle+t.endAngle)/2:0,p=l.centroid(f);return h.jsxs(g.Fragment,{children:[h.jsx(oe,{arcDatum:f,path:l,onMouseEnter:()=>v(!0),onMouseLeave:()=>v(!1)}),h.jsx(de,{centroid:p,centroidAngle:y,prevCentroidAngle:L,arcDatum:f,radius:o,showLabelTitle:i,showLabelValue:a,showLabelPercentage:n,setPadding:c,valueFormatter:u,labelsShownOnHover:d,hideLabel:T})]},`fondue-charts-pie-arc-${e.index}`)};ce.__docgenInfo={description:"",methods:[],displayName:"Arc",props:{arc:{required:!0,tsType:{name:"PieArcDatum",elements:[{name:"signature",type:"object",raw:`{
    value: number;
    label: string;
}`,signature:{properties:[{key:"value",value:{name:"number",required:!0}},{key:"label",value:{name:"string",required:!0}}]}}],raw:"PieArcDatum<PieChartDatum>"},description:""},previousArc:{required:!1,tsType:{name:"PieArcDatum",elements:[{name:"signature",type:"object",raw:`{
    value: number;
    label: string;
}`,signature:{properties:[{key:"value",value:{name:"number",required:!0}},{key:"label",value:{name:"string",required:!0}}]}}],raw:"PieArcDatum<PieChartDatum>"},description:""},path:{required:!0,tsType:{name:"ArcType",elements:[{name:"void"},{name:"PieArcDatum",elements:[{name:"signature",type:"object",raw:`{
    value: number;
    label: string;
}`,signature:{properties:[{key:"value",value:{name:"number",required:!0}},{key:"label",value:{name:"string",required:!0}}]}}],raw:"PieArcDatum<PieChartDatum>"}],raw:"ArcType<void, PieArcDatum<PieChartDatum>>"},description:""},numberOfArcs:{required:!0,tsType:{name:"number"},description:""},radius:{required:!0,tsType:{name:"number"},description:""},isLabelHidden:{required:!0,tsType:{name:"boolean"},description:""},showLabelTitle:{required:!0,tsType:{name:"boolean"},description:""},showLabelValue:{required:!0,tsType:{name:"boolean"},description:""},showLabelPercentage:{required:!0,tsType:{name:"boolean"},description:""},setPaddingForLabels:{required:!0,tsType:{name:"Dispatch",elements:[{name:"SetStateAction",elements:[{name:"signature",type:"object",raw:`{
    top: number;
    right: number;
    bottom: number;
    left: number;
}`,signature:{properties:[{key:"top",value:{name:"number",required:!0}},{key:"right",value:{name:"number",required:!0}},{key:"bottom",value:{name:"number",required:!0}},{key:"left",value:{name:"number",required:!0}}]}}],raw:"SetStateAction<Padding>"}],raw:"Dispatch<SetStateAction<Padding>>"},description:""},valueFormatter:{required:!1,tsType:{name:"signature",type:"function",raw:"(value: number) => string",signature:{arguments:[{type:{name:"number"},name:"value"}],return:{name:"string"}}},description:""}}};const H=({size:e,data:t,valueFormatter:s,showLabelTitle:o=!1,showLabelValue:r=!1,showLabelPercentage:a=!1,shouldSortData:n=!1})=>{const[i,l]=g.useState(z),c=g.useRef(null),{radius:u,labelStyle:d,center:m,width:v,height:T}=Ie(e,c,i),f=t.filter(p=>p.value>0),y=f.length>0?f:t,L=n?y.sort((p,P)=>P.value-p.value):y;return h.jsxs("div",{ref:c,className:"tw-w-full tw-h-full tw-flex tw-flex-col tw-items-center tw-gap-8 md:tw-gap-6",children:[h.jsx("svg",{width:v,height:T,children:h.jsx(ie,{top:m[1],left:m[0],children:h.jsx(De,{data:L,pieValue:p=>p.value,outerRadius:u,pieSort:null,pieSortValues:null,children:({arcs:p,path:P})=>h.jsx("g",{children:p.map((b,M)=>h.jsx(ce,{arc:b,previousArc:p[M-1],numberOfArcs:p.length,radius:u,isLabelHidden:d==="legend",showLabelValue:r,showLabelPercentage:a,showLabelTitle:o,path:P,setPaddingForLabels:l,valueFormatter:s},`${b.startAngle}-${b.index}-${b.value}-${b.data.label}`))})})})}),d==="legend"&&h.jsx(Te,{names:t.map(p=>p.label),style:"circle",colorAccessor:W})]})};H.__docgenInfo={description:"",methods:[],displayName:"PieChart",props:{size:{required:!0,tsType:{name:"number"},description:""},data:{required:!0,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
    value: number;
    label: string;
}`,signature:{properties:[{key:"value",value:{name:"number",required:!0}},{key:"label",value:{name:"string",required:!0}}]}}],raw:"PieChartDatum[]"},description:""},valueFormatter:{required:!1,tsType:{name:"signature",type:"function",raw:"(value: number) => string",signature:{arguments:[{type:{name:"number"},name:"value"}],return:{name:"string"}}},description:""},showLabelTitle:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},showLabelValue:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},showLabelPercentage:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},shouldSortData:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}}}};const Ke={title:"Charts/Pie Chart",component:H,parameters:{status:{type:"released"}},argTypes:{data:{name:"data",type:{name:"other",value:"PieChartDatum[]",required:!0},description:"An array of data points to be displayed in the chart."},size:{name:"size",type:{name:"number",required:!0},description:"The diameter of the pie in pixels."},valueFormatter:{name:"valueFormatter",type:{name:"other",value:"(value: number) => string",required:!1},description:"An optional function to format the displayed values (for example for adding units).",table:{type:{summary:"ValueFormatter"},defaultValue:{summary:"value => String(value)"}}},showLabelTitle:{name:"showLabelTitle",type:{name:"boolean",value:!1,required:!1},description:"Shows the slice's title in label if set to true."},showLabelValue:{name:"showLabelValue",type:{name:"boolean",value:!1,required:!1},description:"Shows the slice's value in label if set to true."},showLabelPercentage:{name:"showLabelPercentage",type:{name:"boolean",value:!1,required:!1},description:"Shows the slice's percentage in label if set to true."},shouldSortData:{name:"shouldSortData",type:{name:"boolean",value:!1,required:!1},description:"Sorts the data by value if set to true."}}},_e=[{label:"Google Chrome",value:88},{label:"Firefox",value:12},{label:"Safari",value:3}],me=[{label:"Japan",value:5},{label:"Switzerland",value:3},{label:"China",value:1},{label:"Germany",value:35},{label:"France",value:15},{label:"Italy",value:15},{label:"Spain",value:10},{label:"UK",value:5},{label:"Sweden",value:23},{label:"Norway",value:5},{label:"Denmark",value:12},{label:"Finland",value:19},{label:"Austria",value:8}],Y=e=>h.jsx(H,{...e}),D=Y.bind({});D.args={data:_e,size:400,valueFormatter:e=>`${e} users`,showLabelTitle:!0,showLabelValue:!0,showLabelPercentage:!0};const I=Y.bind({});I.args={data:me.slice(0,10),size:400,valueFormatter:e=>`${e} users`,showLabelTitle:!0,showLabelValue:!0,showLabelPercentage:!0};const E=Y.bind({});E.args={data:me,size:400,valueFormatter:e=>`${e} users`,showLabelTitle:!0,showLabelValue:!0,showLabelPercentage:!0};var Z,U,J;D.parameters={...D.parameters,docs:{...(Z=D.parameters)==null?void 0:Z.docs,source:{originalSource:"args => <PieChart {...args} />",...(J=(U=D.parameters)==null?void 0:U.docs)==null?void 0:J.source}}};var Q,ee,te;I.parameters={...I.parameters,docs:{...(Q=I.parameters)==null?void 0:Q.docs,source:{originalSource:"args => <PieChart {...args} />",...(te=(ee=I.parameters)==null?void 0:ee.docs)==null?void 0:te.source}}};var ae,re,ne;E.parameters={...E.parameters,docs:{...(ae=E.parameters)==null?void 0:ae.docs,source:{originalSource:"args => <PieChart {...args} />",...(ne=(re=E.parameters)==null?void 0:re.docs)==null?void 0:ne.source}}};const Ze=["ThreeDataPoints","TenDataPoints","MoreThanTenDataPoints"];export{E as MoreThanTenDataPoints,I as TenDataPoints,D as ThreeDataPoints,Ze as __namedExportsOrder,Ke as default};
