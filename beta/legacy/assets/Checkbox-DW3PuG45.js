import{j as t}from"./jsx-runtime-DF2Pcvd1.js";import{r}from"./index-B2-qRKKC.js";import{a as F,b as Z,$ as z,c as ee}from"./useFocusable-CNNIQcyt.js";import{$ as te,b as se,a as ie,c as ne}from"./useFormValidationState-D6GFbEEW.js";import{$ as re}from"./useFocusRing-azhR_Ghs.js";import{$ as ae}from"./useControlledState-CmdEzstM.js";import{I as oe}from"./InputLabel-DJih15Rq.js";import{I as le}from"./useLink-CgL2LZ2a.js";import{I as p}from"./IconSize-BcCrF_mi.js";import{I as de}from"./IconMinus16-mE732Css.js";import{u as ce}from"./useMemoizedId-BB39KVn8.js";import{F as ue}from"./focusStyle-BgaPVAIG.js";import{m as C}from"./merge-DI-veSMP.js";import{u as fe}from"./Button-DAjKcq67.js";function me(e,s,a){let{isDisabled:n=!1,isReadOnly:l=!1,value:o,name:m,form:w,children:u,"aria-label":S,"aria-labelledby":D,validationState:b="valid",isInvalid:x,onPressStart:f,onPressEnd:d,onPressChange:v,onPress:c,onPressUp:i,onClick:y}=e,_=h=>{h.stopPropagation(),s.setSelected(h.target.checked)},{pressProps:E,isPressed:L}=F({onPressStart:f,onPressEnd:d,onPressChange:v,onPress:c,onPressUp:i,onClick:y,isDisabled:n}),{pressProps:g,isPressed:$}=F({onPressStart:f,onPressEnd:d,onPressChange:v,onPressUp:i,onClick:y,onPress(h){var k;c==null||c(h),s.toggle(),(k=a.current)===null||k===void 0||k.focus()},isDisabled:n||l}),{focusableProps:O}=Z(e,a),R=z(E,O),U=ee(e,{labelable:!0});return te(a,s.defaultSelected,s.setSelected),{labelProps:z(g,{onClick:h=>h.preventDefault()}),inputProps:z(U,{"aria-invalid":x||b==="invalid"||void 0,"aria-errormessage":e["aria-errormessage"],"aria-controls":e["aria-controls"],"aria-readonly":l||void 0,onChange:_,disabled:n,...o==null?{}:{value:o},name:m,form:w,type:"checkbox",...R}),isSelected:s.isSelected,isPressed:L||$,isDisabled:n,isReadOnly:l,isInvalid:x||b==="invalid"}}function we(e,s,a){let n=se({...e,value:s.isSelected}),{isInvalid:l,validationErrors:o,validationDetails:m}=n.displayValidation,{labelProps:w,inputProps:u,isSelected:S,isPressed:D,isDisabled:b,isReadOnly:x}=me({...e,isInvalid:l},s,a);ie(e,n,a);let{isIndeterminate:f,isRequired:d,validationBehavior:v="aria"}=e;r.useEffect(()=>{a.current&&(a.current.indeterminate=!!f)});let{pressProps:c}=F({isDisabled:b||x,onPress(){let{[ne]:i}=e,{commitValidation:y}=i||n;y()}});return{labelProps:z(w,c),inputProps:{...u,checked:S,"aria-required":d&&v==="aria"||void 0,required:d&&v==="native"},isSelected:S,isPressed:D,isDisabled:b,isReadOnly:x,isInvalid:l,validationErrors:o,validationDetails:m}}function he(e={}){let{isReadOnly:s}=e,[a,n]=ae(e.isSelected,e.defaultSelected||!1,e.onChange),[l]=r.useState(a);function o(u){s||n(u)}function m(){s||n(!a)}var w;return{isSelected:a,defaultSelected:(w=e.defaultSelected)!==null&&w!==void 0?w:l,setSelected:o,toggle:m}}function A(e){return t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:12,height:12,className:"tw-flex tw-items-center tw-justify-center tw-fill-current",name:"IconMinus12","aria-hidden":"true",...e,children:t.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M9.5 6h-7a.5.5 0 1 1 0-1h7a.5.5 0 0 1 0 1",clipRule:"evenodd"})})}const pe=r.memo(A);A.__docgenInfo={description:"@deprecated Use icons from `@frontify/fondue/icons` instead.",methods:[],displayName:"IconMinus12",props:{size:{required:!1,tsType:{name:"IconSize"},description:""},filled:{required:!1,tsType:{name:"boolean"},description:""}}};function H(e){return t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:20,height:20,className:"tw-flex tw-items-center tw-justify-center tw-fill-current",name:"IconMinus20","aria-hidden":"true",...e,children:t.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M4 9.75A.75.75 0 0 1 4.75 9h10.5a.75.75 0 0 1 0 1.5H4.75A.75.75 0 0 1 4 9.75",clipRule:"evenodd"})})}const be=r.memo(H);H.__docgenInfo={description:"@deprecated Use icons from `@frontify/fondue/icons` instead.",methods:[],displayName:"IconMinus20",props:{size:{required:!1,tsType:{name:"IconSize"},description:""},filled:{required:!1,tsType:{name:"boolean"},description:""}}};function X(e){return t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,className:"tw-flex tw-items-center tw-justify-center tw-fill-current",name:"IconMinus24","aria-hidden":"true",...e,children:t.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M5 11.75a.75.75 0 0 1 .75-.75h12.5a.75.75 0 0 1 0 1.5H5.75a.75.75 0 0 1-.75-.75",clipRule:"evenodd"})})}const xe=r.memo(X);X.__docgenInfo={description:"@deprecated Use icons from `@frontify/fondue/icons` instead.",methods:[],displayName:"IconMinus24",props:{size:{required:!1,tsType:{name:"IconSize"},description:""},filled:{required:!1,tsType:{name:"boolean"},description:""}}};function B(e){return t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:32,height:32,className:"tw-flex tw-items-center tw-justify-center tw-fill-current",name:"IconMinus32","aria-hidden":"true",...e,children:t.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M7.04 16.05a1 1 0 0 1 1-1h16a1 1 0 0 1 0 2h-16a1 1 0 0 1-1-1",clipRule:"evenodd"})})}const ve=r.memo(B);B.__docgenInfo={description:"@deprecated Use icons from `@frontify/fondue/icons` instead.",methods:[],displayName:"IconMinus32",props:{size:{required:!1,tsType:{name:"IconSize"},description:""},filled:{required:!1,tsType:{name:"boolean"},description:""}}};const V=e=>{const s=e.size||p.Size16;return t.jsxs("span",{children:[s===p.Size12&&!e.filled&&t.jsx(pe,{...e}),s===p.Size16&&!e.filled&&t.jsx(de,{...e}),s===p.Size20&&!e.filled&&t.jsx(be,{...e}),s===p.Size24&&!e.filled&&t.jsx(xe,{...e}),s===p.Size32&&!e.filled&&t.jsx(ve,{...e})]})};V.displayName="FondueIconMinus";const ge=r.memo(V);V.__docgenInfo={description:"@deprecated Use icons from `@frontify/fondue/icons` instead.",methods:[],displayName:"FondueIconMinus",props:{size:{required:!1,tsType:{name:"IconSize"},description:""},filled:{required:!1,tsType:{name:"boolean"},description:""}}};var $e=(e=>(e.Checked="Checked",e.Unchecked="Unchecked",e.Mixed="Mixed",e))($e||{}),Ie=(e=>(e.Default="Default",e.Weak="Weak",e.Strong="Strong",e))(Ie||{}),Se=(e=>(e.Default="Default",e.Large="Large",e.XLarge="XLarge",e))(Se||{});const ye=e=>e==="Checked"||e==="Mixed",W="tw-bg-box-selected-strong tw-text-box-selected-strong-inverse hover:tw-bg-box-selected-strong-hover",ke={Weak:"tw-bg-box-neutral-strong tw-text-box-neutral-strong-inverse hover:tw-bg-box-neutral-strong-hover",Default:W,Strong:W},Ce={Default:"tw-h-4 tw-w-4",Large:"tw-h-5 tw-w-5",XLarge:"tw-h-8 tw-w-8"},Me=({id:e,emphasis:s="Default",size:a="Default",disabled:n,required:l,label:o,hideLabel:m,tooltip:w,helperText:u,"aria-label":S,value:D,groupInputProps:b,onChange:x,state:f="Unchecked","data-test-id":d="checkbox"},v)=>{const c=ce(e),i=fe(v),{focusProps:y}=re(),_=he({onChange:n?void 0:x,isSelected:f==="Checked"}),[E,L]=r.useState(),g=r.useRef(null),$=r.useRef(null),[O,R]=r.useState(!1),[U,h]=r.useState(!1),k=I=>{I.key==="Tab"&&L(!0)},T=()=>{L(!1)};r.useEffect(()=>{var I,j;return(I=i==null?void 0:i.current)==null||I.addEventListener("keyup",k),(j=i==null?void 0:i.current)==null||j.addEventListener("blur",T),()=>{var P,N;(P=i==null?void 0:i.current)==null||P.removeEventListener("keyup",k),(N=i==null?void 0:i.current)==null||N.removeEventListener("blur",T)}},[]);const{inputProps:Y}=we({isDisabled:n,isRequired:l,isIndeterminate:f==="Mixed","aria-label":S,value:D},_,i),J={Checked:t.jsx(le,{size:a==="XLarge"?p.Size24:p.Size16}),Mixed:t.jsx(ge,{}),Unchecked:null},q=ye(f),K=C(["tw-bg-box-disabled tw-pointer-events-none tw-text-box-disabled-inverse tw-border-line-strong",q&&"tw-text-box-disabled-inverse tw-border-line-strong"]),Q=q?ke[s]:C(["tw-bg-base hover:tw-bg-box-neutral",s==="Strong"?"tw-border-2 tw-border-box-selected-strong":"tw-border tw-border-line-xx-strong"]),M=r.useCallback(()=>{var I,j,P,N;g.current&&R(((I=g.current)==null?void 0:I.scrollWidth)>((j=g.current)==null?void 0:j.clientWidth)),$.current&&h(((P=$.current)==null?void 0:P.scrollWidth)>((N=$.current)==null?void 0:N.clientWidth))},[g,$]);return r.useEffect(()=>{if(!(!o&&!u||m))return M(),window.removeEventListener("resize",M),window.addEventListener("resize",M),()=>{window.removeEventListener("resize",M)}},[o,u,m,M]),t.jsx("div",{className:"tw-gap-1 tw-transition-colors tw-w-full","data-test-id":d,children:t.jsx("div",{className:C(["tw-inline-flex tw-flex-row tw-rounded tw-w-full",E?ue:""]),children:t.jsx(oe,{id:`${c}-label`,disabled:n,clickable:!0,htmlFor:c,tooltip:w,required:l,bold:q,children:t.jsxs("span",{className:"tw-flex tw-items-center tw-whitespace-nowrap",children:[t.jsxs("span",{className:"tw-inline-flex",children:[t.jsx("input",{...z(b||Y,y),id:c,ref:i,className:"tw-sr-only","data-test-id":`${d}-input`,role:"checkbox","aria-checked":f==="Checked",required:l,"aria-label":S,"aria-labelledby":o?`${c}-label`:void 0}),t.jsx("span",{"data-test-id":`${d}-icon-box`,"aria-hidden":"true",className:C(["tw-leading-3 tw-relative tw-flex tw-items-center tw-justify-center tw-rounded tw-shrink-0 tw-flex-none",Ce[a],n?K:Q]),children:J[f]})]}),!m&&t.jsxs("span",{className:"tw-inline-flex tw-flex-col tw-min-w-0 tw-ml-1.5",children:[o&&t.jsx("span",{ref:g,"data-test-id":`${d}-label`,className:C(["tw-text-ellipsis tw-overflow-hidden","tw-text-xs tw-select-none hover:tw-cursor-pointer hover:tw-text-black dark:hover:tw-text-white group-hover:tw-text-black dark:group-hover:tw-text-white",q&&"tw-font-medium"]),title:O?o:void 0,children:o}),u&&t.jsx("span",{ref:$,"data-test-id":`${d}-helper-text`,className:C(["tw-text-ellipsis tw-overflow-hidden","tw-font-sans tw-text-xs tw-font-normal",n?"text-disabled":"tw-text-text-weak"]),title:U?u:void 0,children:u})]})]})})})})},G=r.forwardRef(Me);G.displayName="FondueCheckbox";G.__docgenInfo={description:"@deprecated Use `Checkbox` from `@frontify/fondue/components` instead. Also check {@link https://github.com/Frontify/fondue/blob/main/packages/components/MIGRATING.md#checkbox the migration guide}.",methods:[],displayName:"FondueCheckbox",props:{emphasis:{defaultValue:{value:"CheckboxEmphasis.Default",computed:!0},required:!1},size:{defaultValue:{value:"CheckboxSize.Default",computed:!0},required:!1},state:{defaultValue:{value:"CheckboxState.Unchecked",computed:!0},required:!1},"data-test-id":{defaultValue:{value:"'checkbox'",computed:!1},required:!1}}};export{he as $,$e as C,G as a,Se as b,Ie as c,we as d};
