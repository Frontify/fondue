import{n as ir,u as Be,e as Q,c as or,s as U,d as Se,a as lr,B as sr,k as be}from"./useFocusRing-azhR_Ghs.js";import{r as v,R as G}from"./index-B2-qRKKC.js";import{c as nr,$ as ur,b as ar}from"./FocusScope-CeJN43e3.js";import{$ as fe,a as V}from"./useEffectEvent-BOE4tD14.js";import{$ as Te}from"./MenuItem-Bh_kpd57.js";import{$ as cr}from"./VisuallyHidden-DoRSb4T_.js";import{$ as _,c as fr}from"./chain-BGXswv_L.js";import{a as we,$ as Y,e as ke,d as de,i as dr}from"./useFocusable-CNNIQcyt.js";import{r as pr}from"./index-CFX93qP1.js";import{$ as Fe}from"./context-SUFcdgyy.js";import{c as gr}from"./SelectionManager-CwM1DjHu.js";import{$ as $r}from"./useControlledState-CmdEzstM.js";import{j as he}from"./jsx-runtime-DF2Pcvd1.js";function ye(i,e){const t=v.useRef(!0),r=v.useRef(null);fe(()=>(t.current=!0,()=>{t.current=!1}),[]),fe(()=>{t.current?t.current=!1:(!r.current||e.some((o,l)=>!Object.is(o,r[l])))&&i(),r.current=e},e)}function pe(i,e){if(!i)return!1;let t=window.getComputedStyle(i),r=/(auto|scroll)/.test(t.overflow+t.overflowX+t.overflowY);return r&&e&&(r=i.scrollHeight!==i.clientHeight||i.scrollWidth!==i.clientWidth),r}function vr(i,e){const t=[];for(;i&&i!==document.documentElement;)pe(i,e)&&t.push(i),i=i.parentElement;return t}let br=0;const ae=new Map;function hr(i){let[e,t]=v.useState();return fe(()=>{if(!i)return;let r=ae.get(i);if(r)t(r.element.id);else{let o=`react-aria-description-${br++}`;t(o);let l=document.createElement("div");l.id=o,l.style.display="none",l.textContent=i,document.body.appendChild(l),r={refCount:0,element:l},ae.set(i,r)}return r.refCount++,()=>{r&&--r.refCount===0&&(r.element.remove(),ae.delete(i))}},[i]),{"aria-describedby":i?e:void 0}}function Z(i,e,t,r){let o=V(t),l=t==null;v.useEffect(()=>{if(l||!i.current)return;let u=i.current;return u.addEventListener(e,o,r),()=>{u.removeEventListener(e,o,r)}},[i,e,r,l,o])}function Me(i,e){let t=me(i,e,"left"),r=me(i,e,"top"),o=e.offsetWidth,l=e.offsetHeight,u=i.scrollLeft,a=i.scrollTop,{borderTopWidth:c,borderLeftWidth:b,scrollPaddingTop:y,scrollPaddingRight:h,scrollPaddingBottom:$,scrollPaddingLeft:p}=getComputedStyle(i),f=u+parseInt(b,10),m=a+parseInt(c,10),K=f+i.clientWidth,x=m+i.clientHeight,B=parseInt(y,10)||0,E=parseInt($,10)||0,M=parseInt(h,10)||0,S=parseInt(p,10)||0;t<=u+S?u=t-parseInt(b,10)-S:t+o>K-M&&(u+=t+o-K+M),r<=m+B?a=r-parseInt(c,10)-B:r+l>x-E&&(a+=r+l-x+E),i.scrollLeft=u,i.scrollTop=a}function me(i,e,t){const r=t==="left"?"offsetLeft":"offsetTop";let o=0;for(;e.offsetParent&&(o+=e[r],e.offsetParent!==i);){if(e.offsetParent.contains(i)){o-=i[r];break}e=e.offsetParent}return o}function xe(i,e){if(i&&document.contains(i)){let u=document.scrollingElement||document.documentElement;if(window.getComputedStyle(u).overflow==="hidden"){let c=vr(i);for(let b of c)Me(b,i)}else{var t;let{left:c,top:b}=i.getBoundingClientRect();i==null||(t=i.scrollIntoView)===null||t===void 0||t.call(i,{block:"nearest"});let{left:y,top:h}=i.getBoundingClientRect();if(Math.abs(c-y)>1||Math.abs(b-h)>1){var r,o,l;e==null||(o=e.containingElement)===null||o===void 0||(r=o.scrollIntoView)===null||r===void 0||r.call(o,{block:"center",inline:"center"}),(l=i.scrollIntoView)===null||l===void 0||l.call(i,{block:"nearest"})}}}}const yr="react-aria-clear-focus",mr="react-aria-focus";function z(i){return ir()?i.metaKey:i.ctrlKey}let ge=!1,q=0;function xr(){ge=!0,setTimeout(()=>{ge=!1},50)}function De(i){i.pointerType==="touch"&&xr()}function Dr(){if(!(typeof document>"u"))return q===0&&typeof PointerEvent<"u"&&document.addEventListener("pointerup",De),q++,()=>{q--,!(q>0)&&typeof PointerEvent<"u"&&document.removeEventListener("pointerup",De)}}function ti(i){let{onHoverStart:e,onHoverChange:t,onHoverEnd:r,isDisabled:o}=i,[l,u]=v.useState(!1),a=v.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;v.useEffect(Dr,[]);let{addGlobalListener:c,removeAllGlobalListeners:b}=Be(),{hoverProps:y,triggerHoverEnd:h}=v.useMemo(()=>{let $=(m,K)=>{if(a.pointerType=K,o||K==="touch"||a.isHovered||!m.currentTarget.contains(m.target))return;a.isHovered=!0;let x=m.currentTarget;a.target=x,c(Q(m.target),"pointerover",B=>{a.isHovered&&a.target&&!or(a.target,B.target)&&p(B,B.pointerType)},{capture:!0}),e&&e({type:"hoverstart",target:x,pointerType:K}),t&&t(!0),u(!0)},p=(m,K)=>{let x=a.target;a.pointerType="",a.target=null,!(K==="touch"||!a.isHovered||!x)&&(a.isHovered=!1,b(),r&&r({type:"hoverend",target:x,pointerType:K}),t&&t(!1),u(!1))},f={};return typeof PointerEvent<"u"&&(f.onPointerEnter=m=>{ge&&m.pointerType==="mouse"||$(m,m.pointerType)},f.onPointerLeave=m=>{!o&&m.currentTarget.contains(m.target)&&p(m,m.pointerType)}),{hoverProps:f,triggerHoverEnd:p}},[e,t,r,o,a,c,b]);return v.useEffect(()=>{o&&h({currentTarget:a.target},a.pointerType)},[o]),{hoverProps:y,isHovered:l}}function Pr(i){let{ref:e,onInteractOutside:t,isDisabled:r,onInteractOutsideStart:o}=i,l=v.useRef({isPointerDown:!1,ignoreEmulatedMouseEvents:!1}),u=V(c=>{t&&Pe(c,e)&&(o&&o(c),l.current.isPointerDown=!0)}),a=V(c=>{t&&t(c)});v.useEffect(()=>{let c=l.current;if(r)return;const b=e.current,y=Q(b);if(typeof PointerEvent<"u"){let h=$=>{c.isPointerDown&&Pe($,e)&&a($),c.isPointerDown=!1};return y.addEventListener("pointerdown",u,!0),y.addEventListener("click",h,!0),()=>{y.removeEventListener("pointerdown",u,!0),y.removeEventListener("click",h,!0)}}},[e,r,u,a])}function Pe(i,e){if(i.button>0)return!1;if(i.target){const t=i.target.ownerDocument;if(!t||!t.documentElement.contains(i.target)||i.target.closest("[data-react-aria-top-layer]"))return!1}return e.current?!i.composedPath().includes(e.current):!1}const Kr=500;function Re(i){let{isDisabled:e,onLongPressStart:t,onLongPressEnd:r,onLongPress:o,threshold:l=Kr,accessibilityDescription:u}=i;const a=v.useRef(void 0);let{addGlobalListener:c,removeGlobalListener:b}=Be(),{pressProps:y}=we({isDisabled:e,onPressStart($){if($.continuePropagation(),($.pointerType==="mouse"||$.pointerType==="touch")&&(t&&t({...$,type:"longpressstart"}),a.current=setTimeout(()=>{$.target.dispatchEvent(new PointerEvent("pointercancel",{bubbles:!0})),Q($.target).activeElement!==$.target&&U($.target),o&&o({...$,type:"longpress"}),a.current=void 0},l),$.pointerType==="touch")){let p=f=>{f.preventDefault()};c($.target,"contextmenu",p,{once:!0}),c(window,"pointerup",()=>{setTimeout(()=>{b($.target,"contextmenu",p)},30)},{once:!0})}},onPressEnd($){a.current&&clearTimeout(a.current),r&&($.pointerType==="mouse"||$.pointerType==="touch")&&r({...$,type:"longpressend"})}}),h=hr(o&&!e?u:void 0);return{longPressProps:Y(y,h)}}function Le(i){let e=Cr(Q(i));e!==i&&(e&&Er(e,i),i&&Oe(i,e))}function Er(i,e){i.dispatchEvent(new FocusEvent("blur",{relatedTarget:e})),i.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:e}))}function Oe(i,e){i.dispatchEvent(new FocusEvent("focus",{relatedTarget:e})),i.dispatchEvent(new FocusEvent("focusin",{bubbles:!0,relatedTarget:e}))}function Cr(i){let e=Se(i),t=e==null?void 0:e.getAttribute("aria-activedescendant");return t&&i.getElementById(t)||e}let ce=new Map;function Ar(i){let{locale:e}=Fe(),t=e+(i?Object.entries(i).sort((o,l)=>o[0]<l[0]?-1:1).join():"");if(ce.has(t))return ce.get(t);let r=new Intl.Collator(e,i);return ce.set(t,r),r}var Ie={};Ie={longPressMessage:"اضغط مطولاً أو اضغط على Alt + السهم لأسفل لفتح القائمة"};var Ne={};Ne={longPressMessage:"Натиснете продължително или натиснете Alt+ стрелка надолу, за да отворите менюто"};var He={};He={longPressMessage:"Dlouhým stiskem nebo stisknutím kláves Alt + šipka dolů otevřete nabídku"};var ze={};ze={longPressMessage:"Langt tryk eller tryk på Alt + pil ned for at åbne menuen"};var je={};je={longPressMessage:"Drücken Sie lange oder drücken Sie Alt + Nach-unten, um das Menü zu öffnen"};var We={};We={longPressMessage:"Πιέστε παρατεταμένα ή πατήστε Alt + κάτω βέλος για να ανοίξετε το μενού"};var Ue={};Ue={longPressMessage:"Long press or press Alt + ArrowDown to open menu"};var Ge={};Ge={longPressMessage:"Mantenga pulsado o pulse Alt + flecha abajo para abrir el menú"};var Ve={};Ve={longPressMessage:"Menüü avamiseks vajutage pikalt või vajutage klahve Alt + allanool"};var Ye={};Ye={longPressMessage:"Avaa valikko painamalla pohjassa tai näppäinyhdistelmällä Alt + Alanuoli"};var Xe={};Xe={longPressMessage:"Appuyez de manière prolongée ou appuyez sur Alt + Flèche vers le bas pour ouvrir le menu."};var Ze={};Ze={longPressMessage:"לחץ לחיצה ארוכה או הקש Alt + ArrowDown כדי לפתוח את התפריט"};var qe={};qe={longPressMessage:"Dugo pritisnite ili pritisnite Alt + strelicu prema dolje za otvaranje izbornika"};var Je={};Je={longPressMessage:"Nyomja meg hosszan, vagy nyomja meg az Alt + lefele nyíl gombot a menü megnyitásához"};var Qe={};Qe={longPressMessage:"Premere a lungo o premere Alt + Freccia giù per aprire il menu"};var _e={};_e={longPressMessage:"長押しまたは Alt+下矢印キーでメニューを開く"};var et={};et={longPressMessage:"길게 누르거나 Alt + 아래쪽 화살표를 눌러 메뉴 열기"};var tt={};tt={longPressMessage:"Norėdami atidaryti meniu, nuspaudę palaikykite arba paspauskite „Alt + ArrowDown“."};var rt={};rt={longPressMessage:"Lai atvērtu izvēlni, turiet nospiestu vai nospiediet taustiņu kombināciju Alt + lejupvērstā bultiņa"};var it={};it={longPressMessage:"Langt trykk eller trykk Alt + PilNed for å åpne menyen"};var ot={};ot={longPressMessage:"Druk lang op Alt + pijl-omlaag of druk op Alt om het menu te openen"};var lt={};lt={longPressMessage:"Naciśnij i przytrzymaj lub naciśnij klawisze Alt + Strzałka w dół, aby otworzyć menu"};var st={};st={longPressMessage:"Pressione e segure ou pressione Alt + Seta para baixo para abrir o menu"};var nt={};nt={longPressMessage:"Prima continuamente ou prima Alt + Seta Para Baixo para abrir o menu"};var ut={};ut={longPressMessage:"Apăsați lung sau apăsați pe Alt + săgeată în jos pentru a deschide meniul"};var at={};at={longPressMessage:"Нажмите и удерживайте или нажмите Alt + Стрелка вниз, чтобы открыть меню"};var ct={};ct={longPressMessage:"Ponuku otvoríte dlhým stlačením alebo stlačením klávesu Alt + klávesu so šípkou nadol"};var ft={};ft={longPressMessage:"Za odprtje menija pritisnite in držite gumb ali pritisnite Alt+puščica navzdol"};var dt={};dt={longPressMessage:"Dugo pritisnite ili pritisnite Alt + strelicu prema dole da otvorite meni"};var pt={};pt={longPressMessage:"Håll nedtryckt eller tryck på Alt + pil nedåt för att öppna menyn"};var gt={};gt={longPressMessage:"Menüyü açmak için uzun basın veya Alt + Aşağı Ok tuşuna basın"};var $t={};$t={longPressMessage:"Довго або звичайно натисніть комбінацію клавіш Alt і стрілка вниз, щоб відкрити меню"};var vt={};vt={longPressMessage:"长按或按 Alt + 向下方向键以打开菜单"};var bt={};bt={longPressMessage:"長按或按 Alt+向下鍵以開啟功能表"};var ht={};ht={"ar-AE":Ie,"bg-BG":Ne,"cs-CZ":He,"da-DK":ze,"de-DE":je,"el-GR":We,"en-US":Ue,"es-ES":Ge,"et-EE":Ve,"fi-FI":Ye,"fr-FR":Xe,"he-IL":Ze,"hr-HR":qe,"hu-HU":Je,"it-IT":Qe,"ja-JP":_e,"ko-KR":et,"lt-LT":tt,"lv-LV":rt,"nb-NO":it,"nl-NL":ot,"pl-PL":lt,"pt-BR":st,"pt-PT":nt,"ro-RO":ut,"ru-RU":at,"sk-SK":ct,"sl-SI":ft,"sr-SP":dt,"sv-SE":pt,"tr-TR":gt,"uk-UA":$t,"zh-CN":vt,"zh-TW":bt};const Br=new WeakMap,F=[];function ri(i,e){let{onClose:t,shouldCloseOnBlur:r,isOpen:o,isDismissable:l=!1,isKeyboardDismissDisabled:u=!1,shouldCloseOnInteractOutside:a}=i;v.useEffect(()=>{if(o&&!F.includes(e))return F.push(e),()=>{let f=F.indexOf(e);f>=0&&F.splice(f,1)}},[o,e]);let c=()=>{F[F.length-1]===e&&t&&t()},b=f=>{(!a||a(f.target))&&F[F.length-1]===e&&(f.stopPropagation(),f.preventDefault())},y=f=>{(!a||a(f.target))&&(F[F.length-1]===e&&(f.stopPropagation(),f.preventDefault()),c())},h=f=>{f.key==="Escape"&&!u&&!f.nativeEvent.isComposing&&(f.stopPropagation(),f.preventDefault(),c())};Pr({ref:e,onInteractOutside:l&&o?y:void 0,onInteractOutsideStart:b});let{focusWithinProps:$}=lr({isDisabled:!r,onBlurWithin:f=>{!f.relatedTarget||nr(f.relatedTarget)||(!a||a(f.relatedTarget))&&(t==null||t())}}),p=f=>{f.target===f.currentTarget&&f.preventDefault()};return{overlayProps:{onKeyDown:h,...$},underlayProps:{onPointerDown:p}}}function Sr(i,e,t){let{type:r}=i,{isOpen:o}=e;v.useEffect(()=>{t&&t.current&&Br.set(t.current,e.close)});let l;r==="menu"?l=!0:r==="listbox"&&(l="listbox");let u=_();return{triggerProps:{"aria-haspopup":l,"aria-expanded":o,"aria-controls":o?u:void 0,onPress:e.toggle},overlayProps:{id:u}}}var yt={};yt={dismiss:"تجاهل"};var mt={};mt={dismiss:"Отхвърляне"};var xt={};xt={dismiss:"Odstranit"};var Dt={};Dt={dismiss:"Luk"};var Pt={};Pt={dismiss:"Schließen"};var Kt={};Kt={dismiss:"Απόρριψη"};var Et={};Et={dismiss:"Dismiss"};var Ct={};Ct={dismiss:"Descartar"};var At={};At={dismiss:"Lõpeta"};var Bt={};Bt={dismiss:"Hylkää"};var St={};St={dismiss:"Rejeter"};var Tt={};Tt={dismiss:"התעלם"};var wt={};wt={dismiss:"Odbaci"};var kt={};kt={dismiss:"Elutasítás"};var Ft={};Ft={dismiss:"Ignora"};var Mt={};Mt={dismiss:"閉じる"};var Rt={};Rt={dismiss:"무시"};var Lt={};Lt={dismiss:"Atmesti"};var Ot={};Ot={dismiss:"Nerādīt"};var It={};It={dismiss:"Lukk"};var Nt={};Nt={dismiss:"Negeren"};var Ht={};Ht={dismiss:"Zignoruj"};var zt={};zt={dismiss:"Descartar"};var jt={};jt={dismiss:"Dispensar"};var Wt={};Wt={dismiss:"Revocare"};var Ut={};Ut={dismiss:"Пропустить"};var Gt={};Gt={dismiss:"Zrušiť"};var Vt={};Vt={dismiss:"Opusti"};var Yt={};Yt={dismiss:"Odbaci"};var Xt={};Xt={dismiss:"Avvisa"};var Zt={};Zt={dismiss:"Kapat"};var qt={};qt={dismiss:"Скасувати"};var Jt={};Jt={dismiss:"取消"};var Qt={};Qt={dismiss:"關閉"};var _t={};_t={"ar-AE":yt,"bg-BG":mt,"cs-CZ":xt,"da-DK":Dt,"de-DE":Pt,"el-GR":Kt,"en-US":Et,"es-ES":Ct,"et-EE":At,"fi-FI":Bt,"fr-FR":St,"he-IL":Tt,"hr-HR":wt,"hu-HU":kt,"it-IT":Ft,"ja-JP":Mt,"ko-KR":Rt,"lt-LT":Lt,"lv-LV":Ot,"nb-NO":It,"nl-NL":Nt,"pl-PL":Ht,"pt-BR":zt,"pt-PT":jt,"ro-RO":Wt,"ru-RU":Ut,"sk-SK":Gt,"sl-SI":Vt,"sr-SP":Yt,"sv-SE":Xt,"tr-TR":Zt,"uk-UA":qt,"zh-CN":Jt,"zh-TW":Qt};function Tr(i){return i&&i.__esModule?i.default:i}function ii(i){let{onDismiss:e,...t}=i,r=Te(Tr(_t),"@react-aria/overlays"),o=ur(t,r.format("dismiss")),l=()=>{e&&e()};return G.createElement(cr,null,G.createElement("button",{...o,tabIndex:-1,onClick:l,style:{width:1,height:1}}))}function wr(i){return i&&i.__esModule?i.default:i}function oi(i,e,t){let{type:r="menu",isDisabled:o,trigger:l="press"}=i,u=_(),{triggerProps:a,overlayProps:c}=Sr({type:r},e,t),b=p=>{if(!o&&!(l==="longPress"&&!p.altKey)&&t&&t.current)switch(p.key){case"Enter":case" ":if(l==="longPress"||p.isDefaultPrevented())return;case"ArrowDown":"continuePropagation"in p||p.stopPropagation(),p.preventDefault(),e.toggle("first");break;case"ArrowUp":"continuePropagation"in p||p.stopPropagation(),p.preventDefault(),e.toggle("last");break;default:"continuePropagation"in p&&p.continuePropagation()}},y=Te(wr(ht),"@react-aria/menu"),{longPressProps:h}=Re({isDisabled:o||l!=="longPress",accessibilityDescription:y.format("longPressMessage"),onLongPressStart(){e.close()},onLongPress(){e.open("first")}}),$={preventFocusOnPress:!0,onPressStart(p){p.pointerType!=="touch"&&p.pointerType!=="keyboard"&&!o&&(U(p.target),e.open(p.pointerType==="virtual"?"first":null))},onPress(p){p.pointerType==="touch"&&!o&&(U(p.target),e.toggle())}};return delete a.onPress,{menuTriggerProps:{...a,...l==="press"?$:h,id:u,onKeyDown:b},menuProps:{...c,"aria-labelledby":u,autoFocus:e.focusStrategy||!0,onClose:e.close}}}function $e(i){return sr()?i.altKey:i.ctrlKey}function J(i,e){var t,r;let o=`[data-key="${CSS.escape(String(e))}"]`,l=(t=i.current)===null||t===void 0?void 0:t.dataset.collection;return l&&(o=`[data-collection="${CSS.escape(l)}"]${o}`),(r=i.current)===null||r===void 0?void 0:r.querySelector(o)}const er=new WeakMap;function kr(i){let e=_();return er.set(i,e),e}function Fr(i){return er.get(i)}const Mr=1e3;function Rr(i){let{keyboardDelegate:e,selectionManager:t,onTypeSelect:r}=i,o=v.useRef({search:"",timeout:void 0}).current,l=u=>{let a=Lr(u.key);if(!(!a||u.ctrlKey||u.metaKey||!u.currentTarget.contains(u.target)||o.search.length===0&&a===" ")){if(a===" "&&o.search.trim().length>0&&(u.preventDefault(),"continuePropagation"in u||u.stopPropagation()),o.search+=a,e.getKeyForSearch!=null){let c=e.getKeyForSearch(o.search,t.focusedKey);c==null&&(c=e.getKeyForSearch(o.search)),c!=null&&(t.setFocusedKey(c),r&&r(c))}clearTimeout(o.timeout),o.timeout=setTimeout(()=>{o.search=""},Mr)}};return{typeSelectProps:{onKeyDownCapture:e.getKeyForSearch?l:void 0}}}function Lr(i){return i.length===1||!/^[A-Z]/i.test(i)?i:""}function Or(i){let{selectionManager:e,keyboardDelegate:t,ref:r,autoFocus:o=!1,shouldFocusWrap:l=!1,disallowEmptySelection:u=!1,disallowSelectAll:a=!1,escapeKeyBehavior:c="clearSelection",selectOnFocus:b=e.selectionBehavior==="replace",disallowTypeAhead:y=!1,shouldUseVirtualFocus:h,allowsTabNavigation:$=!1,isVirtualized:p,scrollRef:f=r,linkBehavior:m="action"}=i,{direction:K}=Fe(),x=ke(),B=n=>{var g;if(n.altKey&&n.key==="Tab"&&n.preventDefault(),!(!((g=r.current)===null||g===void 0)&&g.contains(n.target)))return;const s=(d,I)=>{if(d!=null){if(e.isLink(d)&&m==="selection"&&b&&!$e(n)){pr.flushSync(()=>{e.setFocusedKey(d,I)});let N=J(r,d),ve=e.getItemProps(d);N&&x.open(N,n,ve.href,ve.routerOptions);return}if(e.setFocusedKey(d,I),e.isLink(d)&&m==="override")return;n.shiftKey&&e.selectionMode==="multiple"?e.extendSelection(d):b&&!$e(n)&&e.replaceSelection(d)}};switch(n.key){case"ArrowDown":if(t.getKeyBelow){var D,A,C;let d=e.focusedKey!=null?(D=t.getKeyBelow)===null||D===void 0?void 0:D.call(t,e.focusedKey):(A=t.getFirstKey)===null||A===void 0?void 0:A.call(t);d==null&&l&&(d=(C=t.getFirstKey)===null||C===void 0?void 0:C.call(t,e.focusedKey)),d!=null&&(n.preventDefault(),s(d))}break;case"ArrowUp":if(t.getKeyAbove){var k,L,re;let d=e.focusedKey!=null?(k=t.getKeyAbove)===null||k===void 0?void 0:k.call(t,e.focusedKey):(L=t.getLastKey)===null||L===void 0?void 0:L.call(t);d==null&&l&&(d=(re=t.getLastKey)===null||re===void 0?void 0:re.call(t,e.focusedKey)),d!=null&&(n.preventDefault(),s(d))}break;case"ArrowLeft":if(t.getKeyLeftOf){var ie,oe,le;let d=e.focusedKey!=null?(ie=t.getKeyLeftOf)===null||ie===void 0?void 0:ie.call(t,e.focusedKey):null;d==null&&l&&(d=K==="rtl"?(oe=t.getFirstKey)===null||oe===void 0?void 0:oe.call(t,e.focusedKey):(le=t.getLastKey)===null||le===void 0?void 0:le.call(t,e.focusedKey)),d!=null&&(n.preventDefault(),s(d,K==="rtl"?"first":"last"))}break;case"ArrowRight":if(t.getKeyRightOf){var se,ne,ue;let d=e.focusedKey!=null?(se=t.getKeyRightOf)===null||se===void 0?void 0:se.call(t,e.focusedKey):null;d==null&&l&&(d=K==="rtl"?(ne=t.getLastKey)===null||ne===void 0?void 0:ne.call(t,e.focusedKey):(ue=t.getFirstKey)===null||ue===void 0?void 0:ue.call(t,e.focusedKey)),d!=null&&(n.preventDefault(),s(d,K==="rtl"?"last":"first"))}break;case"Home":if(t.getFirstKey){if(e.focusedKey===null&&n.shiftKey)return;n.preventDefault();let d=t.getFirstKey(e.focusedKey,z(n));e.setFocusedKey(d),d!=null&&(z(n)&&n.shiftKey&&e.selectionMode==="multiple"?e.extendSelection(d):b&&e.replaceSelection(d))}break;case"End":if(t.getLastKey){if(e.focusedKey===null&&n.shiftKey)return;n.preventDefault();let d=t.getLastKey(e.focusedKey,z(n));e.setFocusedKey(d),d!=null&&(z(n)&&n.shiftKey&&e.selectionMode==="multiple"?e.extendSelection(d):b&&e.replaceSelection(d))}break;case"PageDown":if(t.getKeyPageBelow&&e.focusedKey!=null){let d=t.getKeyPageBelow(e.focusedKey);d!=null&&(n.preventDefault(),s(d))}break;case"PageUp":if(t.getKeyPageAbove&&e.focusedKey!=null){let d=t.getKeyPageAbove(e.focusedKey);d!=null&&(n.preventDefault(),s(d))}break;case"a":z(n)&&e.selectionMode==="multiple"&&a!==!0&&(n.preventDefault(),e.selectAll());break;case"Escape":c==="clearSelection"&&!u&&e.selectedKeys.size!==0&&(n.stopPropagation(),n.preventDefault(),e.clearSelection());break;case"Tab":if(!$){if(n.shiftKey)r.current.focus();else{let d=ar(r.current,{tabbable:!0}),I,N;do N=d.lastChild(),N&&(I=N);while(N);I&&!I.contains(document.activeElement)&&U(I)}break}}},E=v.useRef({top:0,left:0});Z(f,"scroll",p?void 0:()=>{var n,g,s,D;E.current={top:(s=(n=f.current)===null||n===void 0?void 0:n.scrollTop)!==null&&s!==void 0?s:0,left:(D=(g=f.current)===null||g===void 0?void 0:g.scrollLeft)!==null&&D!==void 0?D:0}});let M=n=>{if(e.isFocused){n.currentTarget.contains(n.target)||e.setFocused(!1);return}if(n.currentTarget.contains(n.target)){if(e.setFocused(!0),e.focusedKey==null){var g,s;let C=L=>{L!=null&&(e.setFocusedKey(L),b&&!e.isSelected(L)&&e.replaceSelection(L))},k=n.relatedTarget;var D,A;k&&n.currentTarget.compareDocumentPosition(k)&Node.DOCUMENT_POSITION_FOLLOWING?C((D=e.lastSelectedKey)!==null&&D!==void 0?D:(g=t.getLastKey)===null||g===void 0?void 0:g.call(t)):C((A=e.firstSelectedKey)!==null&&A!==void 0?A:(s=t.getFirstKey)===null||s===void 0?void 0:s.call(t))}else!p&&f.current&&(f.current.scrollTop=E.current.top,f.current.scrollLeft=E.current.left);if(e.focusedKey!=null&&f.current){let C=J(r,e.focusedKey);C instanceof HTMLElement&&(!C.contains(document.activeElement)&&!h&&U(C),be()==="keyboard"&&xe(C,{containingElement:r.current}))}}},S=n=>{n.currentTarget.contains(n.relatedTarget)||e.setFocused(!1)},T=v.useRef(!1);Z(r,mr,h?n=>{let{detail:g}=n;n.stopPropagation(),e.setFocused(!0),(g==null?void 0:g.focusStrategy)==="first"&&(T.current=!0)}:void 0);let O=V(()=>{var n,g;let s=(g=(n=t.getFirstKey)===null||n===void 0?void 0:n.call(t))!==null&&g!==void 0?g:null;if(s==null){let D=Se();Le(r.current),Oe(D,null),e.collection.size>0&&(T.current=!1)}else e.setFocusedKey(s),T.current=!1});ye(()=>{T.current&&O()},[e.collection,O]);let H=V(()=>{e.collection.size>0&&(T.current=!1)});ye(()=>{H()},[e.focusedKey,H]),Z(r,yr,h?n=>{var g;n.stopPropagation(),e.setFocused(!1),!((g=n.detail)===null||g===void 0)&&g.clearFocusKey&&e.setFocusedKey(null)}:void 0);const j=v.useRef(o),w=v.useRef(!1);v.useEffect(()=>{if(j.current){var n,g;let A=null;var s;o==="first"&&(A=(s=(n=t.getFirstKey)===null||n===void 0?void 0:n.call(t))!==null&&s!==void 0?s:null);var D;o==="last"&&(A=(D=(g=t.getLastKey)===null||g===void 0?void 0:g.call(t))!==null&&D!==void 0?D:null);let C=e.selectedKeys;if(C.size){for(let k of C)if(e.canSelectItem(k)){A=k;break}}e.setFocused(!0),e.setFocusedKey(A),A==null&&!h&&r.current&&de(r.current),e.collection.size>0&&(j.current=!1,w.current=!0)}});let R=v.useRef(e.focusedKey),P=v.useRef(null);v.useEffect(()=>{if(e.isFocused&&e.focusedKey!=null&&(e.focusedKey!==R.current||w.current)&&f.current&&r.current){let n=be(),g=J(r,e.focusedKey);if(!(g instanceof HTMLElement))return;(n==="keyboard"||w.current)&&(P.current&&cancelAnimationFrame(P.current),P.current=requestAnimationFrame(()=>{f.current&&(Me(f.current,g),n!=="virtual"&&xe(g,{containingElement:r.current}))}))}!h&&e.isFocused&&e.focusedKey==null&&R.current!=null&&r.current&&de(r.current),R.current=e.focusedKey,w.current=!1}),v.useEffect(()=>()=>{P.current&&cancelAnimationFrame(P.current)},[]),Z(r,"react-aria-focus-scope-restore",n=>{n.preventDefault(),e.setFocused(!0)});let W={onKeyDown:B,onFocus:M,onBlur:S,onMouseDown(n){f.current===n.target&&n.preventDefault()}},{typeSelectProps:ee}=Rr({keyboardDelegate:t,selectionManager:e});y||(W=Y(ee,W));let X;h||(X=e.focusedKey==null?0:-1);let te=kr(e.collection);return{collectionProps:Y(W,{tabIndex:X,"data-collection":te})}}function li(i){let{id:e,selectionManager:t,key:r,ref:o,shouldSelectOnPressUp:l,shouldUseVirtualFocus:u,focus:a,isDisabled:c,onAction:b,allowsDifferentPressOrigin:y,linkBehavior:h="action"}=i,$=ke();e=_(e);let p=s=>{if(s.pointerType==="keyboard"&&$e(s))t.toggleSelection(r);else{if(t.selectionMode==="none")return;if(t.isLink(r)){if(h==="selection"&&o.current){let D=t.getItemProps(r);$.open(o.current,s,D.href,D.routerOptions),t.setSelectedKeys(t.selectedKeys);return}else if(h==="override"||h==="none")return}t.selectionMode==="single"?t.isSelected(r)&&!t.disallowEmptySelection?t.toggleSelection(r):t.replaceSelection(r):s&&s.shiftKey?t.extendSelection(r):t.selectionBehavior==="toggle"||s&&(z(s)||s.pointerType==="touch"||s.pointerType==="virtual")?t.toggleSelection(r):t.replaceSelection(r)}};v.useEffect(()=>{r===t.focusedKey&&t.isFocused&&(u?Le(o.current):a?a():document.activeElement!==o.current&&o.current&&de(o.current))},[o,r,t.focusedKey,t.childFocusStrategy,t.isFocused,u]),c=c||t.isDisabled(r);let f={};!u&&!c?f={tabIndex:r===t.focusedKey?0:-1,onFocus(s){s.target===o.current&&t.setFocusedKey(r)}}:c&&(f.onMouseDown=s=>{s.preventDefault()});let m=t.isLink(r)&&h==="override",K=t.isLink(r)&&h!=="selection"&&h!=="none",x=!c&&t.canSelectItem(r)&&!m,B=(b||K)&&!c,E=B&&(t.selectionBehavior==="replace"?!x:!x||t.isEmpty),M=B&&x&&t.selectionBehavior==="replace",S=E||M,T=v.useRef(null),O=S&&x,H=v.useRef(!1),j=v.useRef(!1),w=t.getItemProps(r),R=s=>{b&&b(),K&&o.current&&$.open(o.current,s,w.href,w.routerOptions)},P={ref:o};if(l?(P.onPressStart=s=>{T.current=s.pointerType,H.current=O,s.pointerType==="keyboard"&&(!S||Ee())&&p(s)},y?(P.onPressUp=E?void 0:s=>{s.pointerType==="mouse"&&x&&p(s)},P.onPress=E?R:s=>{s.pointerType!=="keyboard"&&s.pointerType!=="mouse"&&x&&p(s)}):P.onPress=s=>{if(E||M&&s.pointerType!=="mouse"){if(s.pointerType==="keyboard"&&!Ke())return;R(s)}else s.pointerType!=="keyboard"&&x&&p(s)}):(P.onPressStart=s=>{T.current=s.pointerType,H.current=O,j.current=E,x&&(s.pointerType==="mouse"&&!E||s.pointerType==="keyboard"&&(!B||Ee()))&&p(s)},P.onPress=s=>{(s.pointerType==="touch"||s.pointerType==="pen"||s.pointerType==="virtual"||s.pointerType==="keyboard"&&S&&Ke()||s.pointerType==="mouse"&&j.current)&&(S?R(s):x&&p(s))}),f["data-collection"]=Fr(t.collection),f["data-key"]=r,P.preventFocusOnPress=u,u&&(P=Y(P,{onPressStart(s){s.pointerType!=="touch"&&(t.setFocused(!0),t.setFocusedKey(r))},onPress(s){s.pointerType==="touch"&&(t.setFocused(!0),t.setFocusedKey(r))}})),w)for(let s of["onPressStart","onPressEnd","onPressChange","onPress","onPressUp","onClick"])w[s]&&(P[s]=fr(P[s],w[s]));let{pressProps:W,isPressed:ee}=we(P),X=M?s=>{T.current==="mouse"&&(s.stopPropagation(),s.preventDefault(),R(s))}:void 0,{longPressProps:te}=Re({isDisabled:!O,onLongPress(s){s.pointerType==="touch"&&(p(s),t.setSelectionBehavior("toggle"))}}),n=s=>{T.current==="touch"&&H.current&&s.preventDefault()},g=h!=="none"&&t.isLink(r)?s=>{dr.isOpening||s.preventDefault()}:void 0;return{itemProps:Y(f,x||E||u&&!c?W:{},O?te:{},{onDoubleClick:X,onDragStartCapture:n,onClick:g,id:e},u?{onMouseDown:s=>s.preventDefault()}:void 0),isPressed:ee,isSelected:t.isSelected(r),isFocused:t.isFocused&&t.focusedKey===r,isDisabled:c,allowsSelection:x,hasAction:S}}function Ke(){let i=window.event;return(i==null?void 0:i.key)==="Enter"}function Ee(){let i=window.event;return(i==null?void 0:i.key)===" "||(i==null?void 0:i.code)==="Space"}class Ce{getItemRect(e){let t=this.ref.current;if(!t)return null;let r=e!=null?J(this.ref,e):null;if(!r)return null;let o=t.getBoundingClientRect(),l=r.getBoundingClientRect();return{x:l.left-o.left+t.scrollLeft,y:l.top-o.top+t.scrollTop,width:l.width,height:l.height}}getContentSize(){let e=this.ref.current;var t,r;return{width:(t=e==null?void 0:e.scrollWidth)!==null&&t!==void 0?t:0,height:(r=e==null?void 0:e.scrollHeight)!==null&&r!==void 0?r:0}}getVisibleRect(){let e=this.ref.current;var t,r,o,l;return{x:(t=e==null?void 0:e.scrollLeft)!==null&&t!==void 0?t:0,y:(r=e==null?void 0:e.scrollTop)!==null&&r!==void 0?r:0,width:(o=e==null?void 0:e.offsetWidth)!==null&&o!==void 0?o:0,height:(l=e==null?void 0:e.offsetHeight)!==null&&l!==void 0?l:0}}constructor(e){this.ref=e}}class Ir{isDisabled(e){var t;return this.disabledBehavior==="all"&&(((t=e.props)===null||t===void 0?void 0:t.isDisabled)||this.disabledKeys.has(e.key))}findNextNonDisabled(e,t){let r=e;for(;r!=null;){let o=this.collection.getItem(r);if((o==null?void 0:o.type)==="item"&&!this.isDisabled(o))return r;r=t(r)}return null}getNextKey(e){let t=e;return t=this.collection.getKeyAfter(t),this.findNextNonDisabled(t,r=>this.collection.getKeyAfter(r))}getPreviousKey(e){let t=e;return t=this.collection.getKeyBefore(t),this.findNextNonDisabled(t,r=>this.collection.getKeyBefore(r))}findKey(e,t,r){let o=e,l=this.layoutDelegate.getItemRect(o);if(!l||o==null)return null;let u=l;do{if(o=t(o),o==null)break;l=this.layoutDelegate.getItemRect(o)}while(l&&r(u,l)&&o!=null);return o}isSameRow(e,t){return e.y===t.y||e.x!==t.x}isSameColumn(e,t){return e.x===t.x||e.y!==t.y}getKeyBelow(e){return this.layout==="grid"&&this.orientation==="vertical"?this.findKey(e,t=>this.getNextKey(t),this.isSameRow):this.getNextKey(e)}getKeyAbove(e){return this.layout==="grid"&&this.orientation==="vertical"?this.findKey(e,t=>this.getPreviousKey(t),this.isSameRow):this.getPreviousKey(e)}getNextColumn(e,t){return t?this.getPreviousKey(e):this.getNextKey(e)}getKeyRightOf(e){let t=this.direction==="ltr"?"getKeyRightOf":"getKeyLeftOf";return this.layoutDelegate[t]?(e=this.layoutDelegate[t](e),this.findNextNonDisabled(e,r=>this.layoutDelegate[t](r))):this.layout==="grid"?this.orientation==="vertical"?this.getNextColumn(e,this.direction==="rtl"):this.findKey(e,r=>this.getNextColumn(r,this.direction==="rtl"),this.isSameColumn):this.orientation==="horizontal"?this.getNextColumn(e,this.direction==="rtl"):null}getKeyLeftOf(e){let t=this.direction==="ltr"?"getKeyLeftOf":"getKeyRightOf";return this.layoutDelegate[t]?(e=this.layoutDelegate[t](e),this.findNextNonDisabled(e,r=>this.layoutDelegate[t](r))):this.layout==="grid"?this.orientation==="vertical"?this.getNextColumn(e,this.direction==="ltr"):this.findKey(e,r=>this.getNextColumn(r,this.direction==="ltr"),this.isSameColumn):this.orientation==="horizontal"?this.getNextColumn(e,this.direction==="ltr"):null}getFirstKey(){let e=this.collection.getFirstKey();return this.findNextNonDisabled(e,t=>this.collection.getKeyAfter(t))}getLastKey(){let e=this.collection.getLastKey();return this.findNextNonDisabled(e,t=>this.collection.getKeyBefore(t))}getKeyPageAbove(e){let t=this.ref.current,r=this.layoutDelegate.getItemRect(e);if(!r)return null;if(t&&!pe(t))return this.getFirstKey();let o=e;if(this.orientation==="horizontal"){let l=Math.max(0,r.x+r.width-this.layoutDelegate.getVisibleRect().width);for(;r&&r.x>l&&o!=null;)o=this.getKeyAbove(o),r=o==null?null:this.layoutDelegate.getItemRect(o)}else{let l=Math.max(0,r.y+r.height-this.layoutDelegate.getVisibleRect().height);for(;r&&r.y>l&&o!=null;)o=this.getKeyAbove(o),r=o==null?null:this.layoutDelegate.getItemRect(o)}return o??this.getFirstKey()}getKeyPageBelow(e){let t=this.ref.current,r=this.layoutDelegate.getItemRect(e);if(!r)return null;if(t&&!pe(t))return this.getLastKey();let o=e;if(this.orientation==="horizontal"){let l=Math.min(this.layoutDelegate.getContentSize().width,r.y-r.width+this.layoutDelegate.getVisibleRect().width);for(;r&&r.x<l&&o!=null;)o=this.getKeyBelow(o),r=o==null?null:this.layoutDelegate.getItemRect(o)}else{let l=Math.min(this.layoutDelegate.getContentSize().height,r.y-r.height+this.layoutDelegate.getVisibleRect().height);for(;r&&r.y<l&&o!=null;)o=this.getKeyBelow(o),r=o==null?null:this.layoutDelegate.getItemRect(o)}return o??this.getLastKey()}getKeyForSearch(e,t){if(!this.collator)return null;let r=this.collection,o=t||this.getFirstKey();for(;o!=null;){let l=r.getItem(o);if(!l)return null;let u=l.textValue.slice(0,e.length);if(l.textValue&&this.collator.compare(u,e)===0)return o;o=this.getNextKey(o)}return null}constructor(...e){if(e.length===1){let t=e[0];this.collection=t.collection,this.ref=t.ref,this.collator=t.collator,this.disabledKeys=t.disabledKeys||new Set,this.disabledBehavior=t.disabledBehavior||"all",this.orientation=t.orientation||"vertical",this.direction=t.direction,this.layout=t.layout||"stack",this.layoutDelegate=t.layoutDelegate||new Ce(t.ref)}else this.collection=e[0],this.disabledKeys=e[1],this.ref=e[2],this.collator=e[3],this.layout="stack",this.orientation="vertical",this.disabledBehavior="all",this.layoutDelegate=new Ce(this.ref);this.layout==="stack"&&this.orientation==="vertical"&&(this.getKeyLeftOf=void 0,this.getKeyRightOf=void 0)}}function si(i){let{selectionManager:e,collection:t,disabledKeys:r,ref:o,keyboardDelegate:l,layoutDelegate:u}=i,a=Ar({usage:"search",sensitivity:"base"}),c=e.disabledBehavior,b=v.useMemo(()=>l||new Ir({collection:t,disabledKeys:r,disabledBehavior:c,ref:o,collator:a,layoutDelegate:u}),[l,u,t,r,o,a,c]),{collectionProps:y}=Or({...i,ref:o,selectionManager:e,keyboardDelegate:b});return{listProps:y}}function tr(i){return null}tr.getCollectionNode=function*(e,t){let{childItems:r,title:o,children:l}=e,u=e.title||e.children,a=e.textValue||(typeof u=="string"?u:"")||e["aria-label"]||"";!a&&(t!=null&&t.suppressTextValueWarning),yield{type:"item",props:e,rendered:u,textValue:a,"aria-label":e["aria-label"],hasChildNodes:Nr(e),*childNodes(){if(r)for(let c of r)yield{type:"item",value:c};else if(o){let c=[];G.Children.forEach(l,b=>{c.push({type:"item",element:b})}),yield*c}}}};function Nr(i){return i.hasChildItems!=null?i.hasChildItems:!!(i.childItems||i.title&&G.Children.count(i.children)>0)}let Hr=tr;function rr(i){return null}rr.getCollectionNode=function*(e){let{children:t,title:r,items:o}=e;yield{type:"section",props:e,hasChildNodes:!0,rendered:r,"aria-label":e["aria-label"],*childNodes(){if(typeof t=="function"){if(!o)throw new Error("props.children was a function but props.items is missing");for(let l of o)yield{type:"item",value:l,renderer:t}}else{let l=[];G.Children.forEach(t,u=>{l.push({type:"item",element:u})}),yield*l}}}};let zr=rr;const Ae=new WeakMap;function ni(i){let e=Ae.get(i);if(e!=null)return e;let t=0,r=o=>{for(let l of o)l.type==="section"?r(gr(l,i)):l.type==="item"&&t++};return r(i),Ae.set(i,t),t}function ui(i){let[e,t]=$r(i.isOpen,i.defaultOpen||!1,i.onOpenChange);const r=v.useCallback(()=>{t(!0)},[t]),o=v.useCallback(()=>{t(!1)},[t]),l=v.useCallback(()=>{t(!e)},[t,e]);return{isOpen:e,setOpen:t,open:r,close:o,toggle:l}}const ai=(i,e)=>({"aria-label":i,children:e.map(({id:t,menuItems:r,ariaLabel:o})=>he.jsx(zr,{title:t,"aria-label":o,children:r.map(l=>he.jsx(Hr,{children:l.title},l.id))},t))}),ci=i=>i.flatMap(({menuItems:e})=>e),fi=i=>i.reduce((e,t)=>({...e,[t.id]:t}),{}),di=i=>new Set(i.reduce((e,t)=>[...e,t.disabled?t.id:""],[]).filter(e=>e!=="").map(e=>e.toString()));export{Ar as $,Ir as a,oi as b,Rr as c,ui as d,si as e,ni as f,li as g,ti as h,ci as i,fi as j,di as k,ri as l,ai as m,ii as n};
