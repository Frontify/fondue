import{e as ir,g as or,h as Be,i as ee,j as lr,k as Y,l as Se,d as sr,m as nr,n as $e}from"./useFocusRing-BClwZWLd.js";import{r as $,R as X,j as he}from"./iframe-COyloVwZ.js";import{a as ur,b as ar,c as cr}from"./FocusScope-CYwhYy5Q.js";import{$ as fe,a as Z}from"./useEffectEvent-B2az5NZT.js";import{$ as Te}from"./MenuItem-CcQk05I5.js";import{a as fr}from"./VisuallyHidden-ClOpqcN6.js";import{a as te,b as dr}from"./chain-A1m6K02F.js";import{c as we,$ as q,b as ke,h as de,i as pr}from"./useFocusable-BrYe1zEi.js";import{r as gr}from"./index--KGtiGtr.js";import{$ as Fe}from"./context-Baus8SYQ.js";import{c as vr}from"./SelectionManager-B0JuNLSA.js";import{$ as br}from"./useControlledState-BIOA1bwU.js";function ye(i,e){const t=$.useRef(!0),r=$.useRef(null);fe(()=>(t.current=!0,()=>{t.current=!1}),[]),fe(()=>{t.current?t.current=!1:(!r.current||e.some((o,l)=>!Object.is(o,r[l])))&&i(),r.current=e},e)}function pe(i,e){if(!i)return!1;let t=window.getComputedStyle(i),r=/(auto|scroll)/.test(t.overflow+t.overflowX+t.overflowY);return r&&e&&(r=i.scrollHeight!==i.clientHeight||i.scrollWidth!==i.clientWidth),r}function $r(i,e){const t=[];for(;i&&i!==document.documentElement;)pe(i,e)&&t.push(i),i=i.parentElement;return t}function V(i){return ir()?i.metaKey:i.ctrlKey}let hr=0;const ae=new Map;function yr(i){let[e,t]=$.useState();return fe(()=>{if(!i)return;let r=ae.get(i);if(r)t(r.element.id);else{let o=`react-aria-description-${hr++}`;t(o);let l=document.createElement("div");l.id=o,l.style.display="none",l.textContent=i,document.body.appendChild(l),r={refCount:0,element:l},ae.set(i,r)}return r.refCount++,()=>{r&&--r.refCount===0&&(r.element.remove(),ae.delete(i))}},[i]),{"aria-describedby":i?e:void 0}}function J(i,e,t,r){let o=Z(t),l=t==null;$.useEffect(()=>{if(l||!i.current)return;let u=i.current;return u.addEventListener(e,o,r),()=>{u.removeEventListener(e,o,r)}},[i,e,r,l,o])}function Me(i,e){let t=me(i,e,"left"),r=me(i,e,"top"),o=e.offsetWidth,l=e.offsetHeight,u=i.scrollLeft,a=i.scrollTop,{borderTopWidth:c,borderLeftWidth:v,scrollPaddingTop:m,scrollPaddingRight:h,scrollPaddingBottom:b,scrollPaddingLeft:p}=getComputedStyle(i),{scrollMarginTop:f,scrollMarginRight:D,scrollMarginBottom:E,scrollMarginLeft:S}=getComputedStyle(e),P=u+parseInt(v,10),M=a+parseInt(c,10),B=P+i.clientWidth,O=M+i.clientHeight,C=parseInt(m,10)||0,w=parseInt(b,10)||0,k=parseInt(h,10)||0,R=parseInt(p,10)||0,N=parseInt(f,10)||0,F=parseInt(E,10)||0,T=parseInt(D,10)||0,K=parseInt(S,10)||0,j=t-K,H=t+o+T,U=r-N,n=r+l+F,g=u+parseInt(v,10)+R,y=B-k,s=a+parseInt(c,10)+C,x=O-w;(j>g||H<y)&&(j<=u+R?u=j-parseInt(v,10)-R:H>B-k&&(u+=H-B+k)),(U>s||n<x)&&(U<=M+C?a=U-parseInt(c,10)-C:n>O-w&&(a+=n-O+w)),i.scrollTo({left:u,top:a})}function me(i,e,t){const r=t==="left"?"offsetLeft":"offsetTop";let o=0;for(;e.offsetParent&&(o+=e[r],e.offsetParent!==i);){if(e.offsetParent.contains(i)){o-=i[r];break}e=e.offsetParent}return o}function xe(i,e){if(i&&document.contains(i)){let u=document.scrollingElement||document.documentElement;if(!(window.getComputedStyle(u).overflow==="hidden")&&!or()){var t;let{left:c,top:v}=i.getBoundingClientRect();i==null||(t=i.scrollIntoView)===null||t===void 0||t.call(i,{block:"nearest"});let{left:m,top:h}=i.getBoundingClientRect();if(Math.abs(c-m)>1||Math.abs(v-h)>1){var r,o,l;e==null||(o=e.containingElement)===null||o===void 0||(r=o.scrollIntoView)===null||r===void 0||r.call(o,{block:"center",inline:"center"}),(l=i.scrollIntoView)===null||l===void 0||l.call(i,{block:"nearest"})}}else{let c=$r(i);for(let v of c)Me(v,i)}}}const mr="react-aria-clear-focus",xr="react-aria-focus";let ge=!1,Q=0;function Dr(){ge=!0,setTimeout(()=>{ge=!1},50)}function De(i){i.pointerType==="touch"&&Dr()}function Pr(){if(!(typeof document>"u"))return Q===0&&typeof PointerEvent<"u"&&document.addEventListener("pointerup",De),Q++,()=>{Q--,!(Q>0)&&typeof PointerEvent<"u"&&document.removeEventListener("pointerup",De)}}function ti(i){let{onHoverStart:e,onHoverChange:t,onHoverEnd:r,isDisabled:o}=i,[l,u]=$.useState(!1),a=$.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;$.useEffect(Pr,[]);let{addGlobalListener:c,removeAllGlobalListeners:v}=Be(),{hoverProps:m,triggerHoverEnd:h}=$.useMemo(()=>{let b=(D,E)=>{if(a.pointerType=E,o||E==="touch"||a.isHovered||!D.currentTarget.contains(D.target))return;a.isHovered=!0;let S=D.currentTarget;a.target=S,c(ee(D.target),"pointerover",P=>{a.isHovered&&a.target&&!lr(a.target,P.target)&&p(P,P.pointerType)},{capture:!0}),e&&e({type:"hoverstart",target:S,pointerType:E}),t&&t(!0),u(!0)},p=(D,E)=>{let S=a.target;a.pointerType="",a.target=null,!(E==="touch"||!a.isHovered||!S)&&(a.isHovered=!1,v(),r&&r({type:"hoverend",target:S,pointerType:E}),t&&t(!1),u(!1))},f={};return typeof PointerEvent<"u"&&(f.onPointerEnter=D=>{ge&&D.pointerType==="mouse"||b(D,D.pointerType)},f.onPointerLeave=D=>{!o&&D.currentTarget.contains(D.target)&&p(D,D.pointerType)}),{hoverProps:f,triggerHoverEnd:p}},[e,t,r,o,a,c,v]);return $.useEffect(()=>{o&&h({currentTarget:a.target},a.pointerType)},[o]),{hoverProps:m,isHovered:l}}function Kr(i){let{ref:e,onInteractOutside:t,isDisabled:r,onInteractOutsideStart:o}=i,l=$.useRef({isPointerDown:!1,ignoreEmulatedMouseEvents:!1}),u=Z(c=>{t&&Pe(c,e)&&(o&&o(c),l.current.isPointerDown=!0)}),a=Z(c=>{t&&t(c)});$.useEffect(()=>{let c=l.current;if(r)return;const v=e.current,m=ee(v);if(typeof PointerEvent<"u"){let h=b=>{c.isPointerDown&&Pe(b,e)&&a(b),c.isPointerDown=!1};return m.addEventListener("pointerdown",u,!0),m.addEventListener("click",h,!0),()=>{m.removeEventListener("pointerdown",u,!0),m.removeEventListener("click",h,!0)}}},[e,r,u,a])}function Pe(i,e){if(i.button>0)return!1;if(i.target){const t=i.target.ownerDocument;if(!t||!t.documentElement.contains(i.target)||i.target.closest("[data-react-aria-top-layer]"))return!1}return e.current?!i.composedPath().includes(e.current):!1}const Er=500;function Re(i){let{isDisabled:e,onLongPressStart:t,onLongPressEnd:r,onLongPress:o,threshold:l=Er,accessibilityDescription:u}=i;const a=$.useRef(void 0);let{addGlobalListener:c,removeGlobalListener:v}=Be(),{pressProps:m}=we({isDisabled:e,onPressStart(b){if(b.continuePropagation(),(b.pointerType==="mouse"||b.pointerType==="touch")&&(t&&t({...b,type:"longpressstart"}),a.current=setTimeout(()=>{b.target.dispatchEvent(new PointerEvent("pointercancel",{bubbles:!0})),ee(b.target).activeElement!==b.target&&Y(b.target),o&&o({...b,type:"longpress"}),a.current=void 0},l),b.pointerType==="touch")){let p=f=>{f.preventDefault()};c(b.target,"contextmenu",p,{once:!0}),c(window,"pointerup",()=>{setTimeout(()=>{v(b.target,"contextmenu",p)},30)},{once:!0})}},onPressEnd(b){a.current&&clearTimeout(a.current),r&&(b.pointerType==="mouse"||b.pointerType==="touch")&&r({...b,type:"longpressend"})}}),h=yr(o&&!e?u:void 0);return{longPressProps:q(m,h)}}function Le(i){let e=Ar(ee(i));e!==i&&(e&&Cr(e,i),i&&Ie(i,e))}function Cr(i,e){i.dispatchEvent(new FocusEvent("blur",{relatedTarget:e})),i.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:e}))}function Ie(i,e){i.dispatchEvent(new FocusEvent("focus",{relatedTarget:e})),i.dispatchEvent(new FocusEvent("focusin",{bubbles:!0,relatedTarget:e}))}function Ar(i){let e=Se(i),t=e==null?void 0:e.getAttribute("aria-activedescendant");return t&&i.getElementById(t)||e}let ce=new Map;function Br(i){let{locale:e}=Fe(),t=e+(i?Object.entries(i).sort((o,l)=>o[0]<l[0]?-1:1).join():"");if(ce.has(t))return ce.get(t);let r=new Intl.Collator(e,i);return ce.set(t,r),r}var Oe={};Oe={longPressMessage:"اضغط مطولاً أو اضغط على Alt + السهم لأسفل لفتح القائمة"};var Ne={};Ne={longPressMessage:"Натиснете продължително или натиснете Alt+ стрелка надолу, за да отворите менюто"};var He={};He={longPressMessage:"Dlouhým stiskem nebo stisknutím kláves Alt + šipka dolů otevřete nabídku"};var ze={};ze={longPressMessage:"Langt tryk eller tryk på Alt + pil ned for at åbne menuen"};var je={};je={longPressMessage:"Drücken Sie lange oder drücken Sie Alt + Nach-unten, um das Menü zu öffnen"};var Ue={};Ue={longPressMessage:"Πιέστε παρατεταμένα ή πατήστε Alt + κάτω βέλος για να ανοίξετε το μενού"};var We={};We={longPressMessage:"Long press or press Alt + ArrowDown to open menu"};var Ge={};Ge={longPressMessage:"Mantenga pulsado o pulse Alt + flecha abajo para abrir el menú"};var Ve={};Ve={longPressMessage:"Menüü avamiseks vajutage pikalt või vajutage klahve Alt + allanool"};var Ye={};Ye={longPressMessage:"Avaa valikko painamalla pohjassa tai näppäinyhdistelmällä Alt + Alanuoli"};var Xe={};Xe={longPressMessage:"Appuyez de manière prolongée ou appuyez sur Alt + Flèche vers le bas pour ouvrir le menu."};var Ze={};Ze={longPressMessage:"לחץ לחיצה ארוכה או הקש Alt + ArrowDown כדי לפתוח את התפריט"};var qe={};qe={longPressMessage:"Dugo pritisnite ili pritisnite Alt + strelicu prema dolje za otvaranje izbornika"};var Je={};Je={longPressMessage:"Nyomja meg hosszan, vagy nyomja meg az Alt + lefele nyíl gombot a menü megnyitásához"};var Qe={};Qe={longPressMessage:"Premere a lungo o premere Alt + Freccia giù per aprire il menu"};var _e={};_e={longPressMessage:"長押しまたは Alt+下矢印キーでメニューを開く"};var et={};et={longPressMessage:"길게 누르거나 Alt + 아래쪽 화살표를 눌러 메뉴 열기"};var tt={};tt={longPressMessage:"Norėdami atidaryti meniu, nuspaudę palaikykite arba paspauskite „Alt + ArrowDown“."};var rt={};rt={longPressMessage:"Lai atvērtu izvēlni, turiet nospiestu vai nospiediet taustiņu kombināciju Alt + lejupvērstā bultiņa"};var it={};it={longPressMessage:"Langt trykk eller trykk Alt + PilNed for å åpne menyen"};var ot={};ot={longPressMessage:"Druk lang op Alt + pijl-omlaag of druk op Alt om het menu te openen"};var lt={};lt={longPressMessage:"Naciśnij i przytrzymaj lub naciśnij klawisze Alt + Strzałka w dół, aby otworzyć menu"};var st={};st={longPressMessage:"Pressione e segure ou pressione Alt + Seta para baixo para abrir o menu"};var nt={};nt={longPressMessage:"Prima continuamente ou prima Alt + Seta Para Baixo para abrir o menu"};var ut={};ut={longPressMessage:"Apăsați lung sau apăsați pe Alt + săgeată în jos pentru a deschide meniul"};var at={};at={longPressMessage:"Нажмите и удерживайте или нажмите Alt + Стрелка вниз, чтобы открыть меню"};var ct={};ct={longPressMessage:"Ponuku otvoríte dlhým stlačením alebo stlačením klávesu Alt + klávesu so šípkou nadol"};var ft={};ft={longPressMessage:"Za odprtje menija pritisnite in držite gumb ali pritisnite Alt+puščica navzdol"};var dt={};dt={longPressMessage:"Dugo pritisnite ili pritisnite Alt + strelicu prema dole da otvorite meni"};var pt={};pt={longPressMessage:"Håll nedtryckt eller tryck på Alt + pil nedåt för att öppna menyn"};var gt={};gt={longPressMessage:"Menüyü açmak için uzun basın veya Alt + Aşağı Ok tuşuna basın"};var vt={};vt={longPressMessage:"Довго або звичайно натисніть комбінацію клавіш Alt і стрілка вниз, щоб відкрити меню"};var bt={};bt={longPressMessage:"长按或按 Alt + 向下方向键以打开菜单"};var $t={};$t={longPressMessage:"長按或按 Alt+向下鍵以開啟功能表"};var ht={};ht={"ar-AE":Oe,"bg-BG":Ne,"cs-CZ":He,"da-DK":ze,"de-DE":je,"el-GR":Ue,"en-US":We,"es-ES":Ge,"et-EE":Ve,"fi-FI":Ye,"fr-FR":Xe,"he-IL":Ze,"hr-HR":qe,"hu-HU":Je,"it-IT":Qe,"ja-JP":_e,"ko-KR":et,"lt-LT":tt,"lv-LV":rt,"nb-NO":it,"nl-NL":ot,"pl-PL":lt,"pt-BR":st,"pt-PT":nt,"ro-RO":ut,"ru-RU":at,"sk-SK":ct,"sl-SI":ft,"sr-SP":dt,"sv-SE":pt,"tr-TR":gt,"uk-UA":vt,"zh-CN":bt,"zh-TW":$t};const Sr=new WeakMap,I=[];function ri(i,e){let{onClose:t,shouldCloseOnBlur:r,isOpen:o,isDismissable:l=!1,isKeyboardDismissDisabled:u=!1,shouldCloseOnInteractOutside:a}=i;$.useEffect(()=>{if(o&&!I.includes(e))return I.push(e),()=>{let f=I.indexOf(e);f>=0&&I.splice(f,1)}},[o,e]);let c=()=>{I[I.length-1]===e&&t&&t()},v=f=>{(!a||a(f.target))&&I[I.length-1]===e&&(f.stopPropagation(),f.preventDefault())},m=f=>{(!a||a(f.target))&&(I[I.length-1]===e&&(f.stopPropagation(),f.preventDefault()),c())},h=f=>{f.key==="Escape"&&!u&&!f.nativeEvent.isComposing&&(f.stopPropagation(),f.preventDefault(),c())};Kr({ref:e,onInteractOutside:l&&o?m:void 0,onInteractOutsideStart:v});let{focusWithinProps:b}=sr({isDisabled:!r,onBlurWithin:f=>{!f.relatedTarget||ur(f.relatedTarget)||(!a||a(f.relatedTarget))&&(t==null||t())}}),p=f=>{f.target===f.currentTarget&&f.preventDefault()};return{overlayProps:{onKeyDown:h,...b},underlayProps:{onPointerDown:p}}}function Tr(i,e,t){let{type:r}=i,{isOpen:o}=e;$.useEffect(()=>{t&&t.current&&Sr.set(t.current,e.close)});let l;r==="menu"?l=!0:r==="listbox"&&(l="listbox");let u=te();return{triggerProps:{"aria-haspopup":l,"aria-expanded":o,"aria-controls":o?u:void 0,onPress:e.toggle},overlayProps:{id:u}}}var yt={};yt={dismiss:"تجاهل"};var mt={};mt={dismiss:"Отхвърляне"};var xt={};xt={dismiss:"Odstranit"};var Dt={};Dt={dismiss:"Luk"};var Pt={};Pt={dismiss:"Schließen"};var Kt={};Kt={dismiss:"Απόρριψη"};var Et={};Et={dismiss:"Dismiss"};var Ct={};Ct={dismiss:"Descartar"};var At={};At={dismiss:"Lõpeta"};var Bt={};Bt={dismiss:"Hylkää"};var St={};St={dismiss:"Rejeter"};var Tt={};Tt={dismiss:"התעלם"};var wt={};wt={dismiss:"Odbaci"};var kt={};kt={dismiss:"Elutasítás"};var Ft={};Ft={dismiss:"Ignora"};var Mt={};Mt={dismiss:"閉じる"};var Rt={};Rt={dismiss:"무시"};var Lt={};Lt={dismiss:"Atmesti"};var It={};It={dismiss:"Nerādīt"};var Ot={};Ot={dismiss:"Lukk"};var Nt={};Nt={dismiss:"Negeren"};var Ht={};Ht={dismiss:"Zignoruj"};var zt={};zt={dismiss:"Descartar"};var jt={};jt={dismiss:"Dispensar"};var Ut={};Ut={dismiss:"Revocare"};var Wt={};Wt={dismiss:"Пропустить"};var Gt={};Gt={dismiss:"Zrušiť"};var Vt={};Vt={dismiss:"Opusti"};var Yt={};Yt={dismiss:"Odbaci"};var Xt={};Xt={dismiss:"Avvisa"};var Zt={};Zt={dismiss:"Kapat"};var qt={};qt={dismiss:"Скасувати"};var Jt={};Jt={dismiss:"取消"};var Qt={};Qt={dismiss:"關閉"};var _t={};_t={"ar-AE":yt,"bg-BG":mt,"cs-CZ":xt,"da-DK":Dt,"de-DE":Pt,"el-GR":Kt,"en-US":Et,"es-ES":Ct,"et-EE":At,"fi-FI":Bt,"fr-FR":St,"he-IL":Tt,"hr-HR":wt,"hu-HU":kt,"it-IT":Ft,"ja-JP":Mt,"ko-KR":Rt,"lt-LT":Lt,"lv-LV":It,"nb-NO":Ot,"nl-NL":Nt,"pl-PL":Ht,"pt-BR":zt,"pt-PT":jt,"ro-RO":Ut,"ru-RU":Wt,"sk-SK":Gt,"sl-SI":Vt,"sr-SP":Yt,"sv-SE":Xt,"tr-TR":Zt,"uk-UA":qt,"zh-CN":Jt,"zh-TW":Qt};function wr(i){return i&&i.__esModule?i.default:i}function ii(i){let{onDismiss:e,...t}=i,r=Te(wr(_t),"@react-aria/overlays"),o=ar(t,r.format("dismiss")),l=()=>{e&&e()};return X.createElement(fr,null,X.createElement("button",{...o,tabIndex:-1,onClick:l,style:{width:1,height:1}}))}function kr(i){return i&&i.__esModule?i.default:i}function oi(i,e,t){let{type:r="menu",isDisabled:o,trigger:l="press"}=i,u=te(),{triggerProps:a,overlayProps:c}=Tr({type:r},e,t),v=p=>{if(!o&&!(l==="longPress"&&!p.altKey)&&t&&t.current)switch(p.key){case"Enter":case" ":if(l==="longPress"||p.isDefaultPrevented())return;case"ArrowDown":"continuePropagation"in p||p.stopPropagation(),p.preventDefault(),e.toggle("first");break;case"ArrowUp":"continuePropagation"in p||p.stopPropagation(),p.preventDefault(),e.toggle("last");break;default:"continuePropagation"in p&&p.continuePropagation()}},m=Te(kr(ht),"@react-aria/menu"),{longPressProps:h}=Re({isDisabled:o||l!=="longPress",accessibilityDescription:m.format("longPressMessage"),onLongPressStart(){e.close()},onLongPress(){e.open("first")}}),b={preventFocusOnPress:!0,onPressStart(p){p.pointerType!=="touch"&&p.pointerType!=="keyboard"&&!o&&(Y(p.target),e.open(p.pointerType==="virtual"?"first":null))},onPress(p){p.pointerType==="touch"&&!o&&(Y(p.target),e.toggle())}};return delete a.onPress,{menuTriggerProps:{...a,...l==="press"?b:h,id:u,onKeyDown:v},menuProps:{...c,"aria-labelledby":u,autoFocus:e.focusStrategy||!0,onClose:e.close}}}function ve(i){return nr()?i.altKey:i.ctrlKey}function _(i,e){var t,r;let o=`[data-key="${CSS.escape(String(e))}"]`,l=(t=i.current)===null||t===void 0?void 0:t.dataset.collection;return l&&(o=`[data-collection="${CSS.escape(l)}"]${o}`),(r=i.current)===null||r===void 0?void 0:r.querySelector(o)}const er=new WeakMap;function Fr(i){let e=te();return er.set(i,e),e}function Mr(i){return er.get(i)}const Rr=1e3;function Lr(i){let{keyboardDelegate:e,selectionManager:t,onTypeSelect:r}=i,o=$.useRef({search:"",timeout:void 0}).current,l=u=>{let a=Ir(u.key);if(!(!a||u.ctrlKey||u.metaKey||!u.currentTarget.contains(u.target)||o.search.length===0&&a===" ")){if(a===" "&&o.search.trim().length>0&&(u.preventDefault(),"continuePropagation"in u||u.stopPropagation()),o.search+=a,e.getKeyForSearch!=null){let c=e.getKeyForSearch(o.search,t.focusedKey);c==null&&(c=e.getKeyForSearch(o.search)),c!=null&&(t.setFocusedKey(c),r&&r(c))}clearTimeout(o.timeout),o.timeout=setTimeout(()=>{o.search=""},Rr)}};return{typeSelectProps:{onKeyDownCapture:e.getKeyForSearch?l:void 0}}}function Ir(i){return i.length===1||!/^[A-Z]/i.test(i)?i:""}function Or(i){let{selectionManager:e,keyboardDelegate:t,ref:r,autoFocus:o=!1,shouldFocusWrap:l=!1,disallowEmptySelection:u=!1,disallowSelectAll:a=!1,escapeKeyBehavior:c="clearSelection",selectOnFocus:v=e.selectionBehavior==="replace",disallowTypeAhead:m=!1,shouldUseVirtualFocus:h,allowsTabNavigation:b=!1,isVirtualized:p,scrollRef:f=r,linkBehavior:D="action"}=i,{direction:E}=Fe(),S=ke(),P=n=>{var g;if(n.altKey&&n.key==="Tab"&&n.preventDefault(),!(!((g=r.current)===null||g===void 0)&&g.contains(n.target)))return;const y=(d,W)=>{if(d!=null){if(e.isLink(d)&&D==="selection"&&v&&!ve(n)){gr.flushSync(()=>{e.setFocusedKey(d,W)});let G=_(r,d),be=e.getItemProps(d);G&&S.open(G,n,be.href,be.routerOptions);return}if(e.setFocusedKey(d,W),e.isLink(d)&&D==="override")return;n.shiftKey&&e.selectionMode==="multiple"?e.extendSelection(d):v&&!ve(n)&&e.replaceSelection(d)}};switch(n.key){case"ArrowDown":if(t.getKeyBelow){var s,x,A;let d=e.focusedKey!=null?(s=t.getKeyBelow)===null||s===void 0?void 0:s.call(t,e.focusedKey):(x=t.getFirstKey)===null||x===void 0?void 0:x.call(t);d==null&&l&&(d=(A=t.getFirstKey)===null||A===void 0?void 0:A.call(t,e.focusedKey)),d!=null&&(n.preventDefault(),y(d))}break;case"ArrowUp":if(t.getKeyAbove){var L,z,re;let d=e.focusedKey!=null?(L=t.getKeyAbove)===null||L===void 0?void 0:L.call(t,e.focusedKey):(z=t.getLastKey)===null||z===void 0?void 0:z.call(t);d==null&&l&&(d=(re=t.getLastKey)===null||re===void 0?void 0:re.call(t,e.focusedKey)),d!=null&&(n.preventDefault(),y(d))}break;case"ArrowLeft":if(t.getKeyLeftOf){var ie,oe,le;let d=e.focusedKey!=null?(ie=t.getKeyLeftOf)===null||ie===void 0?void 0:ie.call(t,e.focusedKey):null;d==null&&l&&(d=E==="rtl"?(oe=t.getFirstKey)===null||oe===void 0?void 0:oe.call(t,e.focusedKey):(le=t.getLastKey)===null||le===void 0?void 0:le.call(t,e.focusedKey)),d!=null&&(n.preventDefault(),y(d,E==="rtl"?"first":"last"))}break;case"ArrowRight":if(t.getKeyRightOf){var se,ne,ue;let d=e.focusedKey!=null?(se=t.getKeyRightOf)===null||se===void 0?void 0:se.call(t,e.focusedKey):null;d==null&&l&&(d=E==="rtl"?(ne=t.getLastKey)===null||ne===void 0?void 0:ne.call(t,e.focusedKey):(ue=t.getFirstKey)===null||ue===void 0?void 0:ue.call(t,e.focusedKey)),d!=null&&(n.preventDefault(),y(d,E==="rtl"?"last":"first"))}break;case"Home":if(t.getFirstKey){if(e.focusedKey===null&&n.shiftKey)return;n.preventDefault();let d=t.getFirstKey(e.focusedKey,V(n));e.setFocusedKey(d),d!=null&&(V(n)&&n.shiftKey&&e.selectionMode==="multiple"?e.extendSelection(d):v&&e.replaceSelection(d))}break;case"End":if(t.getLastKey){if(e.focusedKey===null&&n.shiftKey)return;n.preventDefault();let d=t.getLastKey(e.focusedKey,V(n));e.setFocusedKey(d),d!=null&&(V(n)&&n.shiftKey&&e.selectionMode==="multiple"?e.extendSelection(d):v&&e.replaceSelection(d))}break;case"PageDown":if(t.getKeyPageBelow&&e.focusedKey!=null){let d=t.getKeyPageBelow(e.focusedKey);d!=null&&(n.preventDefault(),y(d))}break;case"PageUp":if(t.getKeyPageAbove&&e.focusedKey!=null){let d=t.getKeyPageAbove(e.focusedKey);d!=null&&(n.preventDefault(),y(d))}break;case"a":V(n)&&e.selectionMode==="multiple"&&a!==!0&&(n.preventDefault(),e.selectAll());break;case"Escape":c==="clearSelection"&&!u&&e.selectedKeys.size!==0&&(n.stopPropagation(),n.preventDefault(),e.clearSelection());break;case"Tab":if(!b){if(n.shiftKey)r.current.focus();else{let d=cr(r.current,{tabbable:!0}),W,G;do G=d.lastChild(),G&&(W=G);while(G);W&&!W.contains(document.activeElement)&&Y(W)}break}}},M=$.useRef({top:0,left:0});J(f,"scroll",p?void 0:()=>{var n,g,y,s;M.current={top:(y=(n=f.current)===null||n===void 0?void 0:n.scrollTop)!==null&&y!==void 0?y:0,left:(s=(g=f.current)===null||g===void 0?void 0:g.scrollLeft)!==null&&s!==void 0?s:0}});let B=n=>{if(e.isFocused){n.currentTarget.contains(n.target)||e.setFocused(!1);return}if(n.currentTarget.contains(n.target)){if(e.setFocused(!0),e.focusedKey==null){var g,y;let A=z=>{z!=null&&(e.setFocusedKey(z),v&&!e.isSelected(z)&&e.replaceSelection(z))},L=n.relatedTarget;var s,x;L&&n.currentTarget.compareDocumentPosition(L)&Node.DOCUMENT_POSITION_FOLLOWING?A((s=e.lastSelectedKey)!==null&&s!==void 0?s:(g=t.getLastKey)===null||g===void 0?void 0:g.call(t)):A((x=e.firstSelectedKey)!==null&&x!==void 0?x:(y=t.getFirstKey)===null||y===void 0?void 0:y.call(t))}else!p&&f.current&&(f.current.scrollTop=M.current.top,f.current.scrollLeft=M.current.left);if(e.focusedKey!=null&&f.current){let A=_(r,e.focusedKey);A instanceof HTMLElement&&(!A.contains(document.activeElement)&&!h&&Y(A),$e()==="keyboard"&&xe(A,{containingElement:r.current}))}}},O=n=>{n.currentTarget.contains(n.relatedTarget)||e.setFocused(!1)},C=$.useRef(!1);J(r,xr,h?n=>{let{detail:g}=n;n.stopPropagation(),e.setFocused(!0),(g==null?void 0:g.focusStrategy)==="first"&&(C.current=!0)}:void 0);let w=Z(()=>{var n,g;let y=(g=(n=t.getFirstKey)===null||n===void 0?void 0:n.call(t))!==null&&g!==void 0?g:null;if(y==null){let s=Se();Le(r.current),Ie(s,null),e.collection.size>0&&(C.current=!1)}else e.setFocusedKey(y),C.current=!1});ye(()=>{C.current&&w()},[e.collection,w]);let k=Z(()=>{e.collection.size>0&&(C.current=!1)});ye(()=>{k()},[e.focusedKey,k]),J(r,mr,h?n=>{var g;n.stopPropagation(),e.setFocused(!1),!((g=n.detail)===null||g===void 0)&&g.clearFocusKey&&e.setFocusedKey(null)}:void 0);const R=$.useRef(o),N=$.useRef(!1);$.useEffect(()=>{if(R.current){var n,g;let x=null;var y;o==="first"&&(x=(y=(n=t.getFirstKey)===null||n===void 0?void 0:n.call(t))!==null&&y!==void 0?y:null);var s;o==="last"&&(x=(s=(g=t.getLastKey)===null||g===void 0?void 0:g.call(t))!==null&&s!==void 0?s:null);let A=e.selectedKeys;if(A.size){for(let L of A)if(e.canSelectItem(L)){x=L;break}}e.setFocused(!0),e.setFocusedKey(x),x==null&&!h&&r.current&&de(r.current),e.collection.size>0&&(R.current=!1,N.current=!0)}});let F=$.useRef(e.focusedKey),T=$.useRef(null);$.useEffect(()=>{if(e.isFocused&&e.focusedKey!=null&&(e.focusedKey!==F.current||N.current)&&f.current&&r.current){let n=$e(),g=_(r,e.focusedKey);if(!(g instanceof HTMLElement))return;(n==="keyboard"||N.current)&&(T.current&&cancelAnimationFrame(T.current),T.current=requestAnimationFrame(()=>{f.current&&(Me(f.current,g),n!=="virtual"&&xe(g,{containingElement:r.current}))}))}!h&&e.isFocused&&e.focusedKey==null&&F.current!=null&&r.current&&de(r.current),F.current=e.focusedKey,N.current=!1}),$.useEffect(()=>()=>{T.current&&cancelAnimationFrame(T.current)},[]),J(r,"react-aria-focus-scope-restore",n=>{n.preventDefault(),e.setFocused(!0)});let K={onKeyDown:P,onFocus:B,onBlur:O,onMouseDown(n){f.current===n.target&&n.preventDefault()}},{typeSelectProps:j}=Lr({keyboardDelegate:t,selectionManager:e});m||(K=q(j,K));let H;h||(H=e.focusedKey==null?0:-1);let U=Fr(e.collection);return{collectionProps:q(K,{tabIndex:H,"data-collection":U})}}function li(i){let{id:e,selectionManager:t,key:r,ref:o,shouldSelectOnPressUp:l,shouldUseVirtualFocus:u,focus:a,isDisabled:c,onAction:v,allowsDifferentPressOrigin:m,linkBehavior:h="action"}=i,b=ke();e=te(e);let p=s=>{if(s.pointerType==="keyboard"&&ve(s))t.toggleSelection(r);else{if(t.selectionMode==="none")return;if(t.isLink(r)){if(h==="selection"&&o.current){let x=t.getItemProps(r);b.open(o.current,s,x.href,x.routerOptions),t.setSelectedKeys(t.selectedKeys);return}else if(h==="override"||h==="none")return}t.selectionMode==="single"?t.isSelected(r)&&!t.disallowEmptySelection?t.toggleSelection(r):t.replaceSelection(r):s&&s.shiftKey?t.extendSelection(r):t.selectionBehavior==="toggle"||s&&(V(s)||s.pointerType==="touch"||s.pointerType==="virtual")?t.toggleSelection(r):t.replaceSelection(r)}};$.useEffect(()=>{r===t.focusedKey&&t.isFocused&&(u?Le(o.current):a?a():document.activeElement!==o.current&&o.current&&de(o.current))},[o,r,t.focusedKey,t.childFocusStrategy,t.isFocused,u]),c=c||t.isDisabled(r);let f={};!u&&!c?f={tabIndex:r===t.focusedKey?0:-1,onFocus(s){s.target===o.current&&t.setFocusedKey(r)}}:c&&(f.onMouseDown=s=>{s.preventDefault()});let D=t.isLink(r)&&h==="override",E=v&&i.UNSTABLE_itemBehavior==="action",S=t.isLink(r)&&h!=="selection"&&h!=="none",P=!c&&t.canSelectItem(r)&&!D&&!E,M=(v||S)&&!c,B=M&&(t.selectionBehavior==="replace"?!P:!P||t.isEmpty),O=M&&P&&t.selectionBehavior==="replace",C=B||O,w=$.useRef(null),k=C&&P,R=$.useRef(!1),N=$.useRef(!1),F=t.getItemProps(r),T=s=>{if(v){var x;v(),(x=o.current)===null||x===void 0||x.dispatchEvent(new CustomEvent("react-aria-item-action",{bubbles:!0}))}S&&o.current&&b.open(o.current,s,F.href,F.routerOptions)},K={ref:o};if(l?(K.onPressStart=s=>{w.current=s.pointerType,R.current=k,s.pointerType==="keyboard"&&(!C||Ee())&&p(s)},m?(K.onPressUp=B?void 0:s=>{s.pointerType==="mouse"&&P&&p(s)},K.onPress=B?T:s=>{s.pointerType!=="keyboard"&&s.pointerType!=="mouse"&&P&&p(s)}):K.onPress=s=>{if(B||O&&s.pointerType!=="mouse"){if(s.pointerType==="keyboard"&&!Ke())return;T(s)}else s.pointerType!=="keyboard"&&P&&p(s)}):(K.onPressStart=s=>{w.current=s.pointerType,R.current=k,N.current=B,P&&(s.pointerType==="mouse"&&!B||s.pointerType==="keyboard"&&(!M||Ee()))&&p(s)},K.onPress=s=>{(s.pointerType==="touch"||s.pointerType==="pen"||s.pointerType==="virtual"||s.pointerType==="keyboard"&&C&&Ke()||s.pointerType==="mouse"&&N.current)&&(C?T(s):P&&p(s))}),f["data-collection"]=Mr(t.collection),f["data-key"]=r,K.preventFocusOnPress=u,u&&(K=q(K,{onPressStart(s){s.pointerType!=="touch"&&(t.setFocused(!0),t.setFocusedKey(r))},onPress(s){s.pointerType==="touch"&&(t.setFocused(!0),t.setFocusedKey(r))}})),F)for(let s of["onPressStart","onPressEnd","onPressChange","onPress","onPressUp","onClick"])F[s]&&(K[s]=dr(K[s],F[s]));let{pressProps:j,isPressed:H}=we(K),U=O?s=>{w.current==="mouse"&&(s.stopPropagation(),s.preventDefault(),T(s))}:void 0,{longPressProps:n}=Re({isDisabled:!k,onLongPress(s){s.pointerType==="touch"&&(p(s),t.setSelectionBehavior("toggle"))}}),g=s=>{w.current==="touch"&&R.current&&s.preventDefault()},y=h!=="none"&&t.isLink(r)?s=>{pr.isOpening||s.preventDefault()}:void 0;return{itemProps:q(f,P||B||u&&!c?j:{},k?n:{},{onDoubleClick:U,onDragStartCapture:g,onClick:y,id:e},u?{onMouseDown:s=>s.preventDefault()}:void 0),isPressed:H,isSelected:t.isSelected(r),isFocused:t.isFocused&&t.focusedKey===r,isDisabled:c,allowsSelection:P,hasAction:C}}function Ke(){let i=window.event;return(i==null?void 0:i.key)==="Enter"}function Ee(){let i=window.event;return(i==null?void 0:i.key)===" "||(i==null?void 0:i.code)==="Space"}class Ce{getItemRect(e){let t=this.ref.current;if(!t)return null;let r=e!=null?_(this.ref,e):null;if(!r)return null;let o=t.getBoundingClientRect(),l=r.getBoundingClientRect();return{x:l.left-o.left-t.clientLeft+t.scrollLeft,y:l.top-o.top-t.clientTop+t.scrollTop,width:l.width,height:l.height}}getContentSize(){let e=this.ref.current;var t,r;return{width:(t=e==null?void 0:e.scrollWidth)!==null&&t!==void 0?t:0,height:(r=e==null?void 0:e.scrollHeight)!==null&&r!==void 0?r:0}}getVisibleRect(){let e=this.ref.current;var t,r,o,l;return{x:(t=e==null?void 0:e.scrollLeft)!==null&&t!==void 0?t:0,y:(r=e==null?void 0:e.scrollTop)!==null&&r!==void 0?r:0,width:(o=e==null?void 0:e.clientWidth)!==null&&o!==void 0?o:0,height:(l=e==null?void 0:e.clientHeight)!==null&&l!==void 0?l:0}}constructor(e){this.ref=e}}class Nr{isDisabled(e){var t;return this.disabledBehavior==="all"&&(((t=e.props)===null||t===void 0?void 0:t.isDisabled)||this.disabledKeys.has(e.key))}findNextNonDisabled(e,t){let r=e;for(;r!=null;){let o=this.collection.getItem(r);if((o==null?void 0:o.type)==="item"&&!this.isDisabled(o))return r;r=t(r)}return null}getNextKey(e){let t=e;return t=this.collection.getKeyAfter(t),this.findNextNonDisabled(t,r=>this.collection.getKeyAfter(r))}getPreviousKey(e){let t=e;return t=this.collection.getKeyBefore(t),this.findNextNonDisabled(t,r=>this.collection.getKeyBefore(r))}findKey(e,t,r){let o=e,l=this.layoutDelegate.getItemRect(o);if(!l||o==null)return null;let u=l;do{if(o=t(o),o==null)break;l=this.layoutDelegate.getItemRect(o)}while(l&&r(u,l)&&o!=null);return o}isSameRow(e,t){return e.y===t.y||e.x!==t.x}isSameColumn(e,t){return e.x===t.x||e.y!==t.y}getKeyBelow(e){return this.layout==="grid"&&this.orientation==="vertical"?this.findKey(e,t=>this.getNextKey(t),this.isSameRow):this.getNextKey(e)}getKeyAbove(e){return this.layout==="grid"&&this.orientation==="vertical"?this.findKey(e,t=>this.getPreviousKey(t),this.isSameRow):this.getPreviousKey(e)}getNextColumn(e,t){return t?this.getPreviousKey(e):this.getNextKey(e)}getKeyRightOf(e){let t=this.direction==="ltr"?"getKeyRightOf":"getKeyLeftOf";return this.layoutDelegate[t]?(e=this.layoutDelegate[t](e),this.findNextNonDisabled(e,r=>this.layoutDelegate[t](r))):this.layout==="grid"?this.orientation==="vertical"?this.getNextColumn(e,this.direction==="rtl"):this.findKey(e,r=>this.getNextColumn(r,this.direction==="rtl"),this.isSameColumn):this.orientation==="horizontal"?this.getNextColumn(e,this.direction==="rtl"):null}getKeyLeftOf(e){let t=this.direction==="ltr"?"getKeyLeftOf":"getKeyRightOf";return this.layoutDelegate[t]?(e=this.layoutDelegate[t](e),this.findNextNonDisabled(e,r=>this.layoutDelegate[t](r))):this.layout==="grid"?this.orientation==="vertical"?this.getNextColumn(e,this.direction==="ltr"):this.findKey(e,r=>this.getNextColumn(r,this.direction==="ltr"),this.isSameColumn):this.orientation==="horizontal"?this.getNextColumn(e,this.direction==="ltr"):null}getFirstKey(){let e=this.collection.getFirstKey();return this.findNextNonDisabled(e,t=>this.collection.getKeyAfter(t))}getLastKey(){let e=this.collection.getLastKey();return this.findNextNonDisabled(e,t=>this.collection.getKeyBefore(t))}getKeyPageAbove(e){let t=this.ref.current,r=this.layoutDelegate.getItemRect(e);if(!r)return null;if(t&&!pe(t))return this.getFirstKey();let o=e;if(this.orientation==="horizontal"){let l=Math.max(0,r.x+r.width-this.layoutDelegate.getVisibleRect().width);for(;r&&r.x>l&&o!=null;)o=this.getKeyAbove(o),r=o==null?null:this.layoutDelegate.getItemRect(o)}else{let l=Math.max(0,r.y+r.height-this.layoutDelegate.getVisibleRect().height);for(;r&&r.y>l&&o!=null;)o=this.getKeyAbove(o),r=o==null?null:this.layoutDelegate.getItemRect(o)}return o??this.getFirstKey()}getKeyPageBelow(e){let t=this.ref.current,r=this.layoutDelegate.getItemRect(e);if(!r)return null;if(t&&!pe(t))return this.getLastKey();let o=e;if(this.orientation==="horizontal"){let l=Math.min(this.layoutDelegate.getContentSize().width,r.y-r.width+this.layoutDelegate.getVisibleRect().width);for(;r&&r.x<l&&o!=null;)o=this.getKeyBelow(o),r=o==null?null:this.layoutDelegate.getItemRect(o)}else{let l=Math.min(this.layoutDelegate.getContentSize().height,r.y-r.height+this.layoutDelegate.getVisibleRect().height);for(;r&&r.y<l&&o!=null;)o=this.getKeyBelow(o),r=o==null?null:this.layoutDelegate.getItemRect(o)}return o??this.getLastKey()}getKeyForSearch(e,t){if(!this.collator)return null;let r=this.collection,o=t||this.getFirstKey();for(;o!=null;){let l=r.getItem(o);if(!l)return null;let u=l.textValue.slice(0,e.length);if(l.textValue&&this.collator.compare(u,e)===0)return o;o=this.getNextKey(o)}return null}constructor(...e){if(e.length===1){let t=e[0];this.collection=t.collection,this.ref=t.ref,this.collator=t.collator,this.disabledKeys=t.disabledKeys||new Set,this.disabledBehavior=t.disabledBehavior||"all",this.orientation=t.orientation||"vertical",this.direction=t.direction,this.layout=t.layout||"stack",this.layoutDelegate=t.layoutDelegate||new Ce(t.ref)}else this.collection=e[0],this.disabledKeys=e[1],this.ref=e[2],this.collator=e[3],this.layout="stack",this.orientation="vertical",this.disabledBehavior="all",this.layoutDelegate=new Ce(this.ref);this.layout==="stack"&&this.orientation==="vertical"&&(this.getKeyLeftOf=void 0,this.getKeyRightOf=void 0)}}function si(i){let{selectionManager:e,collection:t,disabledKeys:r,ref:o,keyboardDelegate:l,layoutDelegate:u}=i,a=Br({usage:"search",sensitivity:"base"}),c=e.disabledBehavior,v=$.useMemo(()=>l||new Nr({collection:t,disabledKeys:r,disabledBehavior:c,ref:o,collator:a,layoutDelegate:u}),[l,u,t,r,o,a,c]),{collectionProps:m}=Or({...i,ref:o,selectionManager:e,keyboardDelegate:v});return{listProps:m}}function tr(i){return null}tr.getCollectionNode=function*(e,t){let{childItems:r,title:o,children:l}=e,u=e.title||e.children,a=e.textValue||(typeof u=="string"?u:"")||e["aria-label"]||"";!a&&(t!=null&&t.suppressTextValueWarning),yield{type:"item",props:e,rendered:u,textValue:a,"aria-label":e["aria-label"],hasChildNodes:Hr(e),*childNodes(){if(r)for(let c of r)yield{type:"item",value:c};else if(o){let c=[];X.Children.forEach(l,v=>{c.push({type:"item",element:v})}),yield*c}}}};function Hr(i){return i.hasChildItems!=null?i.hasChildItems:!!(i.childItems||i.title&&X.Children.count(i.children)>0)}let zr=tr;function rr(i){return null}rr.getCollectionNode=function*(e){let{children:t,title:r,items:o}=e;yield{type:"section",props:e,hasChildNodes:!0,rendered:r,"aria-label":e["aria-label"],*childNodes(){if(typeof t=="function"){if(!o)throw new Error("props.children was a function but props.items is missing");for(let l of o)yield{type:"item",value:l,renderer:t}}else{let l=[];X.Children.forEach(t,u=>{l.push({type:"item",element:u})}),yield*l}}}};let jr=rr;const Ae=new WeakMap;function ni(i){let e=Ae.get(i);if(e!=null)return e;let t=0,r=o=>{for(let l of o)l.type==="section"?r(vr(l,i)):l.type==="item"&&t++};return r(i),Ae.set(i,t),t}function ui(i){let[e,t]=br(i.isOpen,i.defaultOpen||!1,i.onOpenChange);const r=$.useCallback(()=>{t(!0)},[t]),o=$.useCallback(()=>{t(!1)},[t]),l=$.useCallback(()=>{t(!e)},[t,e]);return{isOpen:e,setOpen:t,open:r,close:o,toggle:l}}const ai=(i,e)=>({"aria-label":i,children:e.map(({id:t,menuItems:r,ariaLabel:o})=>he.jsx(jr,{title:t,"aria-label":o,children:r.map(l=>he.jsx(zr,{children:l.title},l.id))},t))}),ci=i=>i.flatMap(({menuItems:e})=>e),fi=i=>i.reduce((e,t)=>({...e,[t.id]:t}),{}),di=i=>new Set(i.reduce((e,t)=>[...e,t.disabled?t.id:""],[]).filter(e=>e!=="").map(e=>e.toString()));export{si as $,ni as a,li as b,ti as c,ui as d,fi as e,di as f,ci as g,oi as h,ri as i,ii as j,Br as k,Nr as l,ai as m,Lr as n};
