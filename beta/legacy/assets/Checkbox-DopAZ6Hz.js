import{j as t}from"./jsx-runtime-BYYWji4R.js";import{r as a}from"./index-ClcD9ViR.js";import{a as O,b as Z,$ as P,c as ee}from"./useFocusable-tbSHi6HF.js";import{$ as te,b as se,a as ie,c as ne}from"./useFormValidationState-WTCQjY5T.js";import{$ as ae}from"./useFocusRing-DlZ7W1lC.js";import{$ as re}from"./useControlledState-CbyHarIm.js";import{I as oe}from"./InputLabel-y8bP6y1C.js";import{I as le}from"./useLink-DMG660KI.js";import{I as h}from"./IconSize-BcCrF_mi.js";import{I as de}from"./IconMinus16-CRKOx5WE.js";import{u as ce}from"./useMemoizedId-BicaxHcO.js";import{F as ue}from"./focusStyle-BtNTXUM4.js";import{m as y}from"./merge-DI-veSMP.js";import{u as fe}from"./Button-DyWS8jND.js";function me(e,s,r){let{isDisabled:n=!1,isReadOnly:d=!1,value:l,name:u,children:I,"aria-label":f,"aria-labelledby":p,validationState:v="valid",isInvalid:b}=e,g=o=>{o.stopPropagation(),s.setSelected(o.target.checked)},m=I!=null,c=f!=null||p!=null;!m&&!c&&console.warn("If you do not provide children, you must specify an aria-label for accessibility");let{pressProps:$,isPressed:w}=O({isDisabled:n}),{pressProps:i,isPressed:S}=O({onPress(){var o;s.toggle(),(o=r.current)===null||o===void 0||o.focus()},isDisabled:n||d}),{focusableProps:L}=Z(e,r),q=P($,L),z=ee(e,{labelable:!0});return te(r,s.isSelected,s.setSelected),{labelProps:P(i,{onClick:o=>o.preventDefault()}),inputProps:P(z,{"aria-invalid":b||v==="invalid"||void 0,"aria-errormessage":e["aria-errormessage"],"aria-controls":e["aria-controls"],"aria-readonly":d||void 0,onChange:g,disabled:n,...l==null?{}:{value:l},name:u,type:"checkbox",...q}),isSelected:s.isSelected,isPressed:w||S,isDisabled:n,isReadOnly:d,isInvalid:b||v==="invalid"}}function we(e,s,r){let n=se({...e,value:s.isSelected}),{isInvalid:d,validationErrors:l,validationDetails:u}=n.displayValidation,{labelProps:I,inputProps:f,isSelected:p,isPressed:v,isDisabled:b,isReadOnly:g}=me({...e,isInvalid:d},s,r);ie(e,n,r);let{isIndeterminate:m,isRequired:c,validationBehavior:$="aria"}=e;a.useEffect(()=>{r.current&&(r.current.indeterminate=!!m)});let{pressProps:w}=O({isDisabled:b||g,onPress(){let{[ne]:i}=e,{commitValidation:S}=i||n;S()}});return{labelProps:P(I,w),inputProps:{...f,checked:p,"aria-required":c&&$==="aria"||void 0,required:c&&$==="native"},isSelected:p,isPressed:v,isDisabled:b,isReadOnly:g,isInvalid:d,validationErrors:l,validationDetails:u}}function he(e={}){let{isReadOnly:s}=e,[r,n]=re(e.isSelected,e.defaultSelected||!1,e.onChange);function d(u){s||n(u)}function l(){s||n(!r)}return{isSelected:r,setSelected:d,toggle:l}}function U(e){return t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:12,height:12,className:"tw-flex tw-items-center tw-justify-center tw-fill-current",name:"IconMinus12","aria-hidden":"true",...e,children:t.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M9.5 6h-7a.5.5 0 1 1 0-1h7a.5.5 0 0 1 0 1",clipRule:"evenodd"})})}const pe=a.memo(U);U.__docgenInfo={description:"@deprecated Use icons from `@frontify/fondue/icons` instead.",methods:[],displayName:"IconMinus12",props:{size:{required:!1,tsType:{name:"IconSize"},description:""},filled:{required:!1,tsType:{name:"boolean"},description:""}}};function T(e){return t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:20,height:20,className:"tw-flex tw-items-center tw-justify-center tw-fill-current",name:"IconMinus20","aria-hidden":"true",...e,children:t.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M4 9.75A.75.75 0 0 1 4.75 9h10.5a.75.75 0 0 1 0 1.5H4.75A.75.75 0 0 1 4 9.75",clipRule:"evenodd"})})}const be=a.memo(T);T.__docgenInfo={description:"@deprecated Use icons from `@frontify/fondue/icons` instead.",methods:[],displayName:"IconMinus20",props:{size:{required:!1,tsType:{name:"IconSize"},description:""},filled:{required:!1,tsType:{name:"boolean"},description:""}}};function V(e){return t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,className:"tw-flex tw-items-center tw-justify-center tw-fill-current",name:"IconMinus24","aria-hidden":"true",...e,children:t.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M5 11.75a.75.75 0 0 1 .75-.75h12.5a.75.75 0 0 1 0 1.5H5.75a.75.75 0 0 1-.75-.75",clipRule:"evenodd"})})}const xe=a.memo(V);V.__docgenInfo={description:"@deprecated Use icons from `@frontify/fondue/icons` instead.",methods:[],displayName:"IconMinus24",props:{size:{required:!1,tsType:{name:"IconSize"},description:""},filled:{required:!1,tsType:{name:"boolean"},description:""}}};function W(e){return t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:32,height:32,className:"tw-flex tw-items-center tw-justify-center tw-fill-current",name:"IconMinus32","aria-hidden":"true",...e,children:t.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M7.04 16.05a1 1 0 0 1 1-1h16a1 1 0 0 1 0 2h-16a1 1 0 0 1-1-1",clipRule:"evenodd"})})}const ve=a.memo(W);W.__docgenInfo={description:"@deprecated Use icons from `@frontify/fondue/icons` instead.",methods:[],displayName:"IconMinus32",props:{size:{required:!1,tsType:{name:"IconSize"},description:""},filled:{required:!1,tsType:{name:"boolean"},description:""}}};const E=e=>{const s=e.size||h.Size16;return t.jsxs("span",{children:[s===h.Size12&&!e.filled&&t.jsx(pe,{...e}),s===h.Size16&&!e.filled&&t.jsx(de,{...e}),s===h.Size20&&!e.filled&&t.jsx(be,{...e}),s===h.Size24&&!e.filled&&t.jsx(xe,{...e}),s===h.Size32&&!e.filled&&t.jsx(ve,{...e})]})};E.displayName="FondueIconMinus";const ge=a.memo(E);E.__docgenInfo={description:"@deprecated Use icons from `@frontify/fondue/icons` instead.",methods:[],displayName:"FondueIconMinus",props:{size:{required:!1,tsType:{name:"IconSize"},description:""},filled:{required:!1,tsType:{name:"boolean"},description:""}}};var $e=(e=>(e.Checked="Checked",e.Unchecked="Unchecked",e.Mixed="Mixed",e))($e||{}),ye=(e=>(e.Default="Default",e.Weak="Weak",e.Strong="Strong",e))(ye||{}),Ie=(e=>(e.Default="Default",e.Large="Large",e.XLarge="XLarge",e))(Ie||{});const Se=e=>e==="Checked"||e==="Mixed",F="tw-bg-box-selected-strong tw-text-box-selected-strong-inverse hover:tw-bg-box-selected-strong-hover",ke={Weak:"tw-bg-box-neutral-strong tw-text-box-neutral-strong-inverse hover:tw-bg-box-neutral-strong-hover",Default:F,Strong:F},Ce={Default:"tw-h-4 tw-w-4",Large:"tw-h-5 tw-w-5",XLarge:"tw-h-8 tw-w-8"},Me=({id:e,emphasis:s="Default",size:r="Default",disabled:n,required:d,label:l,hideLabel:u,tooltip:I,helperText:f,"aria-label":p,value:v,groupInputProps:b,onChange:g,state:m="Unchecked","data-test-id":c="checkbox"},$)=>{const w=ce(e),i=fe($),{focusProps:S}=ae(),L=he({onChange:n?void 0:g,isSelected:m==="Checked"}),[q,z]=a.useState(),o=a.useRef(null),k=a.useRef(null),[H,X]=a.useState(!1),[B,G]=a.useState(!1),R=x=>{x.key==="Tab"&&z(!0)},_=()=>{z(!1)};a.useEffect(()=>{var x,M;return(x=i==null?void 0:i.current)==null||x.addEventListener("keyup",R),(M=i==null?void 0:i.current)==null||M.addEventListener("blur",_),()=>{var j,N;(j=i==null?void 0:i.current)==null||j.removeEventListener("keyup",R),(N=i==null?void 0:i.current)==null||N.removeEventListener("blur",_)}},[]);const{inputProps:Y}=we({isDisabled:n,isRequired:d,isIndeterminate:m==="Mixed","aria-label":p,value:v},L,i),J={Checked:t.jsx(le,{size:r==="XLarge"?h.Size24:h.Size16}),Mixed:t.jsx(ge,{}),Unchecked:null},D=Se(m),K=y(["tw-bg-box-disabled tw-pointer-events-none tw-text-box-disabled-inverse tw-border-line-strong",D&&"tw-text-box-disabled-inverse tw-border-line-strong"]),Q=D?ke[s]:y(["tw-bg-base hover:tw-bg-box-neutral",s==="Strong"?"tw-border-2 tw-border-box-selected-strong":"tw-border tw-border-line-xx-strong"]),C=a.useCallback(()=>{var x,M,j,N;o.current&&X(((x=o.current)==null?void 0:x.scrollWidth)>((M=o.current)==null?void 0:M.clientWidth)),k.current&&G(((j=k.current)==null?void 0:j.scrollWidth)>((N=k.current)==null?void 0:N.clientWidth))},[o,k]);return a.useEffect(()=>{if(!(!l&&!f||u))return C(),window.removeEventListener("resize",C),window.addEventListener("resize",C),()=>{window.removeEventListener("resize",C)}},[l,f,u,C]),t.jsx("div",{className:"tw-gap-1 tw-transition-colors tw-w-full","data-test-id":c,children:t.jsx("div",{className:y(["tw-inline-flex tw-flex-row tw-rounded tw-w-full",q?ue:""]),children:t.jsx(oe,{id:`${w}-label`,disabled:n,clickable:!0,htmlFor:w,tooltip:I,required:d,bold:D,children:t.jsxs("span",{className:"tw-flex tw-items-center tw-whitespace-nowrap",children:[t.jsxs("span",{className:"tw-inline-flex",children:[t.jsx("input",{...P(b||Y,S),id:w,ref:i,className:"tw-sr-only","data-test-id":`${c}-input`,role:"checkbox","aria-checked":m==="Checked",required:d,"aria-label":p,"aria-labelledby":l?`${w}-label`:void 0}),t.jsx("span",{"data-test-id":`${c}-icon-box`,"aria-hidden":"true",className:y(["tw-leading-3 tw-relative tw-flex tw-items-center tw-justify-center tw-rounded tw-shrink-0 tw-flex-none",Ce[r],n?K:Q]),children:J[m]})]}),!u&&t.jsxs("span",{className:"tw-inline-flex tw-flex-col tw-min-w-0 tw-ml-1.5",children:[l&&t.jsx("span",{ref:o,"data-test-id":`${c}-label`,className:y(["tw-text-ellipsis tw-overflow-hidden","tw-text-xs tw-select-none hover:tw-cursor-pointer hover:tw-text-black dark:hover:tw-text-white group-hover:tw-text-black dark:group-hover:tw-text-white",D&&"tw-font-medium"]),title:H?l:void 0,children:l}),f&&t.jsx("span",{ref:k,"data-test-id":`${c}-helper-text`,className:y(["tw-text-ellipsis tw-overflow-hidden","tw-font-sans tw-text-xs tw-font-normal",n?"text-disabled":"tw-text-text-weak"]),title:B?f:void 0,children:f})]})]})})})})},A=a.forwardRef(Me);A.displayName="FondueCheckbox";A.__docgenInfo={description:"@deprecated Use `Checkbox` from `@frontify/fondue/components` instead. Also check {@link https://github.com/Frontify/fondue/blob/main/packages/components/MIGRATING.md#checkbox the migration guide}.",methods:[],displayName:"FondueCheckbox",props:{emphasis:{defaultValue:{value:"CheckboxEmphasis.Default",computed:!0},required:!1},size:{defaultValue:{value:"CheckboxSize.Default",computed:!0},required:!1},state:{defaultValue:{value:"CheckboxState.Unchecked",computed:!0},required:!1},"data-test-id":{defaultValue:{value:"'checkbox'",computed:!1},required:!1}}};export{he as $,$e as C,A as a,Ie as b,ye as c,we as d};
