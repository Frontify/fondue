import{n as er,u as Ae,g as q,d as tr,s as Z,f as rr,a as or,z as ir,m as $e}from"./useFocusRing-DlZ7W1lC.js";import{r as h,R as j}from"./index-ClcD9ViR.js";import{c as sr,$ as lr,b as nr}from"./FocusScope-Ccn1wSx6.js";import{a as de,$ as W}from"./useEffectEvent-sx_rQw4H.js";import{$ as Be}from"./MenuItem-D0V0BKaX.js";import{$ as ur}from"./VisuallyHidden-DKeI02Ih.js";import{$ as Q}from"./chain-DIgLrs-2.js";import{a as we,$ as U,e as Te,d as fe,i as ar}from"./useFocusable-tbSHi6HF.js";import{r as cr}from"./index-Cho7bklK.js";import{$ as Se}from"./context-CDewFppK.js";import{c as dr}from"./SelectionManager-C5uJtM9S.js";import{$ as fr}from"./useControlledState-CbyHarIm.js";import{j as he}from"./jsx-runtime-BYYWji4R.js";function ye(o,e){const t=h.useRef(!0),r=h.useRef(null);de(()=>(t.current=!0,()=>{t.current=!1}),[]),de(()=>{t.current?t.current=!1:(!r.current||e.some((i,s)=>!Object.is(i,r[s])))&&o(),r.current=e},e)}function pe(o,e){if(!o)return!1;let t=window.getComputedStyle(o),r=/(auto|scroll)/.test(t.overflow+t.overflowX+t.overflowY);return r&&e&&(r=o.scrollHeight!==o.clientHeight||o.scrollWidth!==o.clientWidth),r}function pr(o,e){const t=[];for(;o&&o!==document.documentElement;)pe(o,e)&&t.push(o),o=o.parentElement;return t}let vr=0;const ue=new Map;function gr(o){let[e,t]=h.useState();return de(()=>{if(!o)return;let r=ue.get(o);if(r)t(r.element.id);else{let i=`react-aria-description-${vr++}`;t(i);let s=document.createElement("div");s.id=i,s.style.display="none",s.textContent=o,document.body.appendChild(s),r={refCount:0,element:s},ue.set(o,r)}return r.refCount++,()=>{r&&--r.refCount===0&&(r.element.remove(),ue.delete(o))}},[o]),{"aria-describedby":o?e:void 0}}function V(o,e,t,r){let i=W(t),s=t==null;h.useEffect(()=>{if(s||!o.current)return;let u=o.current;return u.addEventListener(e,i,r),()=>{u.removeEventListener(e,i,r)}},[o,e,r,s,i])}function Fe(o,e){let t=me(o,e,"left"),r=me(o,e,"top"),i=e.offsetWidth,s=e.offsetHeight,u=o.scrollLeft,c=o.scrollTop,{borderTopWidth:a,borderLeftWidth:y,scrollPaddingTop:g,scrollPaddingRight:m,scrollPaddingBottom:v,scrollPaddingLeft:d}=getComputedStyle(o),p=u+parseInt(y,10),$=c+parseInt(a,10),E=p+o.clientWidth,D=$+o.clientHeight,K=parseInt(g,10)||0,w=parseInt(v,10)||0,F=parseInt(m,10)||0,C=parseInt(d,10)||0;t<=u+C?u=t-parseInt(y,10)-C:t+i>E-F&&(u+=t+i-E+F),r<=$+K?c=r-parseInt(a,10)-K:r+s>D-w&&(c+=r+s-D+w),o.scrollLeft=u,o.scrollTop=c}function me(o,e,t){const r=t==="left"?"offsetLeft":"offsetTop";let i=0;for(;e.offsetParent&&(i+=e[r],e.offsetParent!==o);){if(e.offsetParent.contains(o)){i-=o[r];break}e=e.offsetParent}return i}function xe(o,e){if(o&&document.contains(o)){let u=document.scrollingElement||document.documentElement;if(window.getComputedStyle(u).overflow==="hidden"){let a=pr(o);for(let y of a)Fe(y,o)}else{var t;let{left:a,top:y}=o.getBoundingClientRect();o==null||(t=o.scrollIntoView)===null||t===void 0||t.call(o,{block:"nearest"});let{left:g,top:m}=o.getBoundingClientRect();if(Math.abs(a-g)>1||Math.abs(y-m)>1){var r,i,s;e==null||(i=e.containingElement)===null||i===void 0||(r=i.scrollIntoView)===null||r===void 0||r.call(i,{block:"center",inline:"center"}),(s=o.scrollIntoView)===null||s===void 0||s.call(o,{block:"nearest"})}}}}const br="react-aria-clear-focus",$r="react-aria-focus";function z(o){return er()?o.metaKey:o.ctrlKey}let J=!1,ae=0;function ve(){J=!0,setTimeout(()=>{J=!1},50)}function De(o){o.pointerType==="touch"&&ve()}function hr(){if(!(typeof document>"u"))return typeof PointerEvent<"u"?document.addEventListener("pointerup",De):document.addEventListener("touchend",ve),ae++,()=>{ae--,!(ae>0)&&(typeof PointerEvent<"u"?document.removeEventListener("pointerup",De):document.removeEventListener("touchend",ve))}}function Qr(o){let{onHoverStart:e,onHoverChange:t,onHoverEnd:r,isDisabled:i}=o,[s,u]=h.useState(!1),c=h.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;h.useEffect(hr,[]);let{addGlobalListener:a,removeAllGlobalListeners:y}=Ae(),{hoverProps:g,triggerHoverEnd:m}=h.useMemo(()=>{let v=($,E)=>{if(c.pointerType=E,i||E==="touch"||c.isHovered||!$.currentTarget.contains($.target))return;c.isHovered=!0;let D=$.currentTarget;c.target=D,a(q($.target),"pointerover",K=>{c.isHovered&&c.target&&!tr(c.target,K.target)&&d(K,K.pointerType)},{capture:!0}),e&&e({type:"hoverstart",target:D,pointerType:E}),t&&t(!0),u(!0)},d=($,E)=>{let D=c.target;c.pointerType="",c.target=null,!(E==="touch"||!c.isHovered||!D)&&(c.isHovered=!1,y(),r&&r({type:"hoverend",target:D,pointerType:E}),t&&t(!1),u(!1))},p={};return typeof PointerEvent<"u"?(p.onPointerEnter=$=>{J&&$.pointerType==="mouse"||v($,$.pointerType)},p.onPointerLeave=$=>{!i&&$.currentTarget.contains($.target)&&d($,$.pointerType)}):(p.onTouchStart=()=>{c.ignoreEmulatedMouseEvents=!0},p.onMouseEnter=$=>{!c.ignoreEmulatedMouseEvents&&!J&&v($,"mouse"),c.ignoreEmulatedMouseEvents=!1},p.onMouseLeave=$=>{!i&&$.currentTarget.contains($.target)&&d($,"mouse")}),{hoverProps:p,triggerHoverEnd:d}},[e,t,r,i,c,a,y]);return h.useEffect(()=>{i&&m({currentTarget:c.target},c.pointerType)},[i]),{hoverProps:g,isHovered:s}}function yr(o){let{ref:e,onInteractOutside:t,isDisabled:r,onInteractOutsideStart:i}=o,s=h.useRef({isPointerDown:!1,ignoreEmulatedMouseEvents:!1}),u=W(a=>{t&&Y(a,e)&&(i&&i(a),s.current.isPointerDown=!0)}),c=W(a=>{t&&t(a)});h.useEffect(()=>{let a=s.current;if(r)return;const y=e.current,g=q(y);if(typeof PointerEvent<"u"){let m=v=>{a.isPointerDown&&Y(v,e)&&c(v),a.isPointerDown=!1};return g.addEventListener("pointerdown",u,!0),g.addEventListener("pointerup",m,!0),()=>{g.removeEventListener("pointerdown",u,!0),g.removeEventListener("pointerup",m,!0)}}else{let m=d=>{a.ignoreEmulatedMouseEvents?a.ignoreEmulatedMouseEvents=!1:a.isPointerDown&&Y(d,e)&&c(d),a.isPointerDown=!1},v=d=>{a.ignoreEmulatedMouseEvents=!0,a.isPointerDown&&Y(d,e)&&c(d),a.isPointerDown=!1};return g.addEventListener("mousedown",u,!0),g.addEventListener("mouseup",m,!0),g.addEventListener("touchstart",u,!0),g.addEventListener("touchend",v,!0),()=>{g.removeEventListener("mousedown",u,!0),g.removeEventListener("mouseup",m,!0),g.removeEventListener("touchstart",u,!0),g.removeEventListener("touchend",v,!0)}}},[e,r,u,c])}function Y(o,e){if(o.button>0)return!1;if(o.target){const t=o.target.ownerDocument;if(!t||!t.documentElement.contains(o.target)||o.target.closest("[data-react-aria-top-layer]"))return!1}return e.current?!o.composedPath().includes(e.current):!1}const mr=500;function ke(o){let{isDisabled:e,onLongPressStart:t,onLongPressEnd:r,onLongPress:i,threshold:s=mr,accessibilityDescription:u}=o;const c=h.useRef(void 0);let{addGlobalListener:a,removeGlobalListener:y}=Ae(),{pressProps:g}=we({isDisabled:e,onPressStart(v){if(v.continuePropagation(),(v.pointerType==="mouse"||v.pointerType==="touch")&&(t&&t({...v,type:"longpressstart"}),c.current=setTimeout(()=>{v.target.dispatchEvent(new PointerEvent("pointercancel",{bubbles:!0})),q(v.target).activeElement!==v.target&&Z(v.target),i&&i({...v,type:"longpress"}),c.current=void 0},s),v.pointerType==="touch")){let d=p=>{p.preventDefault()};a(v.target,"contextmenu",d,{once:!0}),a(window,"pointerup",()=>{setTimeout(()=>{y(v.target,"contextmenu",d)},30)},{once:!0})}},onPressEnd(v){c.current&&clearTimeout(c.current),r&&(v.pointerType==="mouse"||v.pointerType==="touch")&&r({...v,type:"longpressend"})}}),m=gr(i&&!e?u:void 0);return{longPressProps:U(g,m)}}function Me(o){let e=Pr(q(o));e!==o&&(e&&xr(e,o),o&&Dr(o,e))}function xr(o,e){o.dispatchEvent(new FocusEvent("blur",{relatedTarget:e})),o.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:e}))}function Dr(o,e){o.dispatchEvent(new FocusEvent("focus",{relatedTarget:e})),o.dispatchEvent(new FocusEvent("focusin",{bubbles:!0,relatedTarget:e}))}function Pr(o){let e=rr(o),t=e==null?void 0:e.getAttribute("aria-activedescendant");return t&&o.getElementById(t)||e}let ce=new Map;function Er(o){let{locale:e}=Se(),t=e+(o?Object.entries(o).sort((i,s)=>i[0]<s[0]?-1:1).join():"");if(ce.has(t))return ce.get(t);let r=new Intl.Collator(e,o);return ce.set(t,r),r}var Le={};Le={longPressMessage:"اضغط مطولاً أو اضغط على Alt + السهم لأسفل لفتح القائمة"};var Re={};Re={longPressMessage:"Натиснете продължително или натиснете Alt+ стрелка надолу, за да отворите менюто"};var Ie={};Ie={longPressMessage:"Dlouhým stiskem nebo stisknutím kláves Alt + šipka dolů otevřete nabídku"};var Oe={};Oe={longPressMessage:"Langt tryk eller tryk på Alt + pil ned for at åbne menuen"};var Ne={};Ne={longPressMessage:"Drücken Sie lange oder drücken Sie Alt + Nach-unten, um das Menü zu öffnen"};var He={};He={longPressMessage:"Πιέστε παρατεταμένα ή πατήστε Alt + κάτω βέλος για να ανοίξετε το μενού"};var ze={};ze={longPressMessage:"Long press or press Alt + ArrowDown to open menu"};var je={};je={longPressMessage:"Mantenga pulsado o pulse Alt + flecha abajo para abrir el menú"};var We={};We={longPressMessage:"Menüü avamiseks vajutage pikalt või vajutage klahve Alt + allanool"};var Ue={};Ue={longPressMessage:"Avaa valikko painamalla pohjassa tai näppäinyhdistelmällä Alt + Alanuoli"};var Ge={};Ge={longPressMessage:"Appuyez de manière prolongée ou appuyez sur Alt + Flèche vers le bas pour ouvrir le menu."};var Ve={};Ve={longPressMessage:"לחץ לחיצה ארוכה או הקש Alt + ArrowDown כדי לפתוח את התפריט"};var Ye={};Ye={longPressMessage:"Dugo pritisnite ili pritisnite Alt + strelicu prema dolje za otvaranje izbornika"};var Xe={};Xe={longPressMessage:"Nyomja meg hosszan, vagy nyomja meg az Alt + lefele nyíl gombot a menü megnyitásához"};var Ze={};Ze={longPressMessage:"Premere a lungo o premere Alt + Freccia giù per aprire il menu"};var Je={};Je={longPressMessage:"長押しまたは Alt+下矢印キーでメニューを開く"};var qe={};qe={longPressMessage:"길게 누르거나 Alt + 아래쪽 화살표를 눌러 메뉴 열기"};var Qe={};Qe={longPressMessage:"Norėdami atidaryti meniu, nuspaudę palaikykite arba paspauskite „Alt + ArrowDown“."};var _e={};_e={longPressMessage:"Lai atvērtu izvēlni, turiet nospiestu vai nospiediet taustiņu kombināciju Alt + lejupvērstā bultiņa"};var et={};et={longPressMessage:"Langt trykk eller trykk Alt + PilNed for å åpne menyen"};var tt={};tt={longPressMessage:"Druk lang op Alt + pijl-omlaag of druk op Alt om het menu te openen"};var rt={};rt={longPressMessage:"Naciśnij i przytrzymaj lub naciśnij klawisze Alt + Strzałka w dół, aby otworzyć menu"};var ot={};ot={longPressMessage:"Pressione e segure ou pressione Alt + Seta para baixo para abrir o menu"};var it={};it={longPressMessage:"Prima continuamente ou prima Alt + Seta Para Baixo para abrir o menu"};var st={};st={longPressMessage:"Apăsați lung sau apăsați pe Alt + săgeată în jos pentru a deschide meniul"};var lt={};lt={longPressMessage:"Нажмите и удерживайте или нажмите Alt + Стрелка вниз, чтобы открыть меню"};var nt={};nt={longPressMessage:"Ponuku otvoríte dlhým stlačením alebo stlačením klávesu Alt + klávesu so šípkou nadol"};var ut={};ut={longPressMessage:"Za odprtje menija pritisnite in držite gumb ali pritisnite Alt+puščica navzdol"};var at={};at={longPressMessage:"Dugo pritisnite ili pritisnite Alt + strelicu prema dole da otvorite meni"};var ct={};ct={longPressMessage:"Håll nedtryckt eller tryck på Alt + pil nedåt för att öppna menyn"};var dt={};dt={longPressMessage:"Menüyü açmak için uzun basın veya Alt + Aşağı Ok tuşuna basın"};var ft={};ft={longPressMessage:"Довго або звичайно натисніть комбінацію клавіш Alt і стрілка вниз, щоб відкрити меню"};var pt={};pt={longPressMessage:"长按或按 Alt + 向下方向键以打开菜单"};var vt={};vt={longPressMessage:"長按或按 Alt+向下鍵以開啟功能表"};var gt={};gt={"ar-AE":Le,"bg-BG":Re,"cs-CZ":Ie,"da-DK":Oe,"de-DE":Ne,"el-GR":He,"en-US":ze,"es-ES":je,"et-EE":We,"fi-FI":Ue,"fr-FR":Ge,"he-IL":Ve,"hr-HR":Ye,"hu-HU":Xe,"it-IT":Ze,"ja-JP":Je,"ko-KR":qe,"lt-LT":Qe,"lv-LV":_e,"nb-NO":et,"nl-NL":tt,"pl-PL":rt,"pt-BR":ot,"pt-PT":it,"ro-RO":st,"ru-RU":lt,"sk-SK":nt,"sl-SI":ut,"sr-SP":at,"sv-SE":ct,"tr-TR":dt,"uk-UA":ft,"zh-CN":pt,"zh-TW":vt};const Kr=new WeakMap,S=[];function _r(o,e){let{onClose:t,shouldCloseOnBlur:r,isOpen:i,isDismissable:s=!1,isKeyboardDismissDisabled:u=!1,shouldCloseOnInteractOutside:c}=o;h.useEffect(()=>{if(i&&!S.includes(e))return S.push(e),()=>{let p=S.indexOf(e);p>=0&&S.splice(p,1)}},[i,e]);let a=()=>{S[S.length-1]===e&&t&&t()},y=p=>{(!c||c(p.target))&&S[S.length-1]===e&&(p.stopPropagation(),p.preventDefault())},g=p=>{(!c||c(p.target))&&(S[S.length-1]===e&&(p.stopPropagation(),p.preventDefault()),a())},m=p=>{p.key==="Escape"&&!u&&!p.nativeEvent.isComposing&&(p.stopPropagation(),p.preventDefault(),a())};yr({ref:e,onInteractOutside:s&&i?g:void 0,onInteractOutsideStart:y});let{focusWithinProps:v}=or({isDisabled:!r,onBlurWithin:p=>{!p.relatedTarget||sr(p.relatedTarget)||(!c||c(p.relatedTarget))&&(t==null||t())}}),d=p=>{p.target===p.currentTarget&&p.preventDefault()};return{overlayProps:{onKeyDown:m,...v},underlayProps:{onPointerDown:d}}}function Cr(o,e,t){let{type:r}=o,{isOpen:i}=e;h.useEffect(()=>{t&&t.current&&Kr.set(t.current,e.close)});let s;r==="menu"?s=!0:r==="listbox"&&(s="listbox");let u=Q();return{triggerProps:{"aria-haspopup":s,"aria-expanded":i,"aria-controls":i?u:void 0,onPress:e.toggle},overlayProps:{id:u}}}var bt={};bt={dismiss:"تجاهل"};var $t={};$t={dismiss:"Отхвърляне"};var ht={};ht={dismiss:"Odstranit"};var yt={};yt={dismiss:"Luk"};var mt={};mt={dismiss:"Schließen"};var xt={};xt={dismiss:"Απόρριψη"};var Dt={};Dt={dismiss:"Dismiss"};var Pt={};Pt={dismiss:"Descartar"};var Et={};Et={dismiss:"Lõpeta"};var Kt={};Kt={dismiss:"Hylkää"};var Ct={};Ct={dismiss:"Rejeter"};var At={};At={dismiss:"התעלם"};var Bt={};Bt={dismiss:"Odbaci"};var wt={};wt={dismiss:"Elutasítás"};var Tt={};Tt={dismiss:"Ignora"};var St={};St={dismiss:"閉じる"};var Ft={};Ft={dismiss:"무시"};var kt={};kt={dismiss:"Atmesti"};var Mt={};Mt={dismiss:"Nerādīt"};var Lt={};Lt={dismiss:"Lukk"};var Rt={};Rt={dismiss:"Negeren"};var It={};It={dismiss:"Zignoruj"};var Ot={};Ot={dismiss:"Descartar"};var Nt={};Nt={dismiss:"Dispensar"};var Ht={};Ht={dismiss:"Revocare"};var zt={};zt={dismiss:"Пропустить"};var jt={};jt={dismiss:"Zrušiť"};var Wt={};Wt={dismiss:"Opusti"};var Ut={};Ut={dismiss:"Odbaci"};var Gt={};Gt={dismiss:"Avvisa"};var Vt={};Vt={dismiss:"Kapat"};var Yt={};Yt={dismiss:"Скасувати"};var Xt={};Xt={dismiss:"取消"};var Zt={};Zt={dismiss:"關閉"};var Jt={};Jt={"ar-AE":bt,"bg-BG":$t,"cs-CZ":ht,"da-DK":yt,"de-DE":mt,"el-GR":xt,"en-US":Dt,"es-ES":Pt,"et-EE":Et,"fi-FI":Kt,"fr-FR":Ct,"he-IL":At,"hr-HR":Bt,"hu-HU":wt,"it-IT":Tt,"ja-JP":St,"ko-KR":Ft,"lt-LT":kt,"lv-LV":Mt,"nb-NO":Lt,"nl-NL":Rt,"pl-PL":It,"pt-BR":Ot,"pt-PT":Nt,"ro-RO":Ht,"ru-RU":zt,"sk-SK":jt,"sl-SI":Wt,"sr-SP":Ut,"sv-SE":Gt,"tr-TR":Vt,"uk-UA":Yt,"zh-CN":Xt,"zh-TW":Zt};function Ar(o){return o&&o.__esModule?o.default:o}function eo(o){let{onDismiss:e,...t}=o,r=Be(Ar(Jt),"@react-aria/overlays"),i=lr(t,r.format("dismiss")),s=()=>{e&&e()};return j.createElement(ur,null,j.createElement("button",{...i,tabIndex:-1,onClick:s,style:{width:1,height:1}}))}function Br(o){return o&&o.__esModule?o.default:o}function to(o,e,t){let{type:r="menu",isDisabled:i,trigger:s="press"}=o,u=Q(),{triggerProps:c,overlayProps:a}=Cr({type:r},e,t),y=d=>{if(!i&&!(s==="longPress"&&!d.altKey)&&t&&t.current)switch(d.key){case"Enter":case" ":if(s==="longPress")return;case"ArrowDown":"continuePropagation"in d||d.stopPropagation(),d.preventDefault(),e.toggle("first");break;case"ArrowUp":"continuePropagation"in d||d.stopPropagation(),d.preventDefault(),e.toggle("last");break;default:"continuePropagation"in d&&d.continuePropagation()}},g=Be(Br(gt),"@react-aria/menu"),{longPressProps:m}=ke({isDisabled:i||s!=="longPress",accessibilityDescription:g.format("longPressMessage"),onLongPressStart(){e.close()},onLongPress(){e.open("first")}}),v={preventFocusOnPress:!0,onPressStart(d){d.pointerType!=="touch"&&d.pointerType!=="keyboard"&&!i&&(Z(d.target),e.open(d.pointerType==="virtual"?"first":null))},onPress(d){d.pointerType==="touch"&&!i&&e.toggle()}};return delete c.onPress,{menuTriggerProps:{...c,...s==="press"?v:m,id:u,onKeyDown:y},menuProps:{...a,"aria-labelledby":u,autoFocus:e.focusStrategy||!0,onClose:e.close}}}function ge(o){return ir()?o.altKey:o.ctrlKey}function X(o,e){var t,r;let i=`[data-key="${CSS.escape(String(e))}"]`,s=(t=o.current)===null||t===void 0?void 0:t.dataset.collection;return s&&(i=`[data-collection="${CSS.escape(s)}"]${i}`),(r=o.current)===null||r===void 0?void 0:r.querySelector(i)}const qt=new WeakMap;function wr(o){let e=Q();return qt.set(o,e),e}function Tr(o){return qt.get(o)}const Sr=1e3;function Fr(o){let{keyboardDelegate:e,selectionManager:t,onTypeSelect:r}=o,i=h.useRef({search:"",timeout:void 0}).current,s=u=>{let c=kr(u.key);if(!(!c||u.ctrlKey||u.metaKey||!u.currentTarget.contains(u.target))){if(c===" "&&i.search.trim().length>0&&(u.preventDefault(),"continuePropagation"in u||u.stopPropagation()),i.search+=c,e.getKeyForSearch!=null){let a=e.getKeyForSearch(i.search,t.focusedKey);a==null&&(a=e.getKeyForSearch(i.search)),a!=null&&(t.setFocusedKey(a),r&&r(a))}clearTimeout(i.timeout),i.timeout=setTimeout(()=>{i.search=""},Sr)}};return{typeSelectProps:{onKeyDownCapture:e.getKeyForSearch?s:void 0}}}function kr(o){return o.length===1||!/^[A-Z]/i.test(o)?o:""}function Mr(o){let{selectionManager:e,keyboardDelegate:t,ref:r,autoFocus:i=!1,shouldFocusWrap:s=!1,disallowEmptySelection:u=!1,disallowSelectAll:c=!1,selectOnFocus:a=e.selectionBehavior==="replace",disallowTypeAhead:y=!1,shouldUseVirtualFocus:g,allowsTabNavigation:m=!1,isVirtualized:v,scrollRef:d=r,linkBehavior:p="action"}=o,{direction:$}=Se(),E=Te(),D=n=>{var b;if(n.altKey&&n.key==="Tab"&&n.preventDefault(),!(!((b=r.current)===null||b===void 0)&&b.contains(n.target)))return;const x=(f,O)=>{if(f!=null){if(e.isLink(f)&&p==="selection"&&a&&!ge(n)){cr.flushSync(()=>{e.setFocusedKey(f,O)});let N=X(r,f),be=e.getItemProps(f);N&&E.open(N,n,be.href,be.routerOptions);return}if(e.setFocusedKey(f,O),e.isLink(f)&&p==="override")return;n.shiftKey&&e.selectionMode==="multiple"?e.extendSelection(f):a&&!ge(n)&&e.replaceSelection(f)}};switch(n.key){case"ArrowDown":if(t.getKeyBelow){var l,P,B;let f=e.focusedKey!=null?(l=t.getKeyBelow)===null||l===void 0?void 0:l.call(t,e.focusedKey):(P=t.getFirstKey)===null||P===void 0?void 0:P.call(t);f==null&&s&&(f=(B=t.getFirstKey)===null||B===void 0?void 0:B.call(t,e.focusedKey)),f!=null&&(n.preventDefault(),x(f))}break;case"ArrowUp":if(t.getKeyAbove){var T,M,te;let f=e.focusedKey!=null?(T=t.getKeyAbove)===null||T===void 0?void 0:T.call(t,e.focusedKey):(M=t.getLastKey)===null||M===void 0?void 0:M.call(t);f==null&&s&&(f=(te=t.getLastKey)===null||te===void 0?void 0:te.call(t,e.focusedKey)),f!=null&&(n.preventDefault(),x(f))}break;case"ArrowLeft":if(t.getKeyLeftOf){var re,oe,ie;let f=e.focusedKey!=null?(re=t.getKeyLeftOf)===null||re===void 0?void 0:re.call(t,e.focusedKey):null;f==null&&s&&(f=$==="rtl"?(oe=t.getFirstKey)===null||oe===void 0?void 0:oe.call(t,e.focusedKey):(ie=t.getLastKey)===null||ie===void 0?void 0:ie.call(t,e.focusedKey)),f!=null&&(n.preventDefault(),x(f,$==="rtl"?"first":"last"))}break;case"ArrowRight":if(t.getKeyRightOf){var se,le,ne;let f=e.focusedKey!=null?(se=t.getKeyRightOf)===null||se===void 0?void 0:se.call(t,e.focusedKey):null;f==null&&s&&(f=$==="rtl"?(le=t.getLastKey)===null||le===void 0?void 0:le.call(t,e.focusedKey):(ne=t.getFirstKey)===null||ne===void 0?void 0:ne.call(t,e.focusedKey)),f!=null&&(n.preventDefault(),x(f,$==="rtl"?"last":"first"))}break;case"Home":if(t.getFirstKey){if(e.focusedKey===null&&n.shiftKey)return;n.preventDefault();let f=t.getFirstKey(e.focusedKey,z(n));e.setFocusedKey(f),f!=null&&(z(n)&&n.shiftKey&&e.selectionMode==="multiple"?e.extendSelection(f):a&&e.replaceSelection(f))}break;case"End":if(t.getLastKey){if(e.focusedKey===null&&n.shiftKey)return;n.preventDefault();let f=t.getLastKey(e.focusedKey,z(n));e.setFocusedKey(f),f!=null&&(z(n)&&n.shiftKey&&e.selectionMode==="multiple"?e.extendSelection(f):a&&e.replaceSelection(f))}break;case"PageDown":if(t.getKeyPageBelow&&e.focusedKey!=null){let f=t.getKeyPageBelow(e.focusedKey);f!=null&&(n.preventDefault(),x(f))}break;case"PageUp":if(t.getKeyPageAbove&&e.focusedKey!=null){let f=t.getKeyPageAbove(e.focusedKey);f!=null&&(n.preventDefault(),x(f))}break;case"a":z(n)&&e.selectionMode==="multiple"&&c!==!0&&(n.preventDefault(),e.selectAll());break;case"Escape":!u&&e.selectedKeys.size!==0&&(n.stopPropagation(),n.preventDefault(),e.clearSelection());break;case"Tab":if(!m){if(n.shiftKey)r.current.focus();else{let f=nr(r.current,{tabbable:!0}),O,N;do N=f.lastChild(),N&&(O=N);while(N);O&&!O.contains(document.activeElement)&&Z(O)}break}}},K=h.useRef({top:0,left:0});V(d,"scroll",v?void 0:()=>{var n,b,x,l;K.current={top:(x=(n=d.current)===null||n===void 0?void 0:n.scrollTop)!==null&&x!==void 0?x:0,left:(l=(b=d.current)===null||b===void 0?void 0:b.scrollLeft)!==null&&l!==void 0?l:0}});let w=n=>{if(e.isFocused){n.currentTarget.contains(n.target)||e.setFocused(!1);return}if(n.currentTarget.contains(n.target)){if(e.setFocused(!0),e.focusedKey==null){var b,x;let B=M=>{M!=null&&(e.setFocusedKey(M),a&&!e.isSelected(M)&&e.replaceSelection(M))},T=n.relatedTarget;var l,P;T&&n.currentTarget.compareDocumentPosition(T)&Node.DOCUMENT_POSITION_FOLLOWING?B((l=e.lastSelectedKey)!==null&&l!==void 0?l:(b=t.getLastKey)===null||b===void 0?void 0:b.call(t)):B((P=e.firstSelectedKey)!==null&&P!==void 0?P:(x=t.getFirstKey)===null||x===void 0?void 0:x.call(t))}else!v&&d.current&&(d.current.scrollTop=K.current.top,d.current.scrollLeft=K.current.left);if(e.focusedKey!=null&&d.current){let B=X(r,e.focusedKey);B instanceof HTMLElement&&(!B.contains(document.activeElement)&&!g&&Z(B),$e()==="keyboard"&&xe(B,{containingElement:r.current}))}}},F=n=>{n.currentTarget.contains(n.relatedTarget)||e.setFocused(!1)},C=h.useRef(!1);V(r,$r,g?n=>{let{detail:b}=n;n.stopPropagation(),e.setFocused(!0),(b==null?void 0:b.focusStrategy)==="first"&&(C.current=!0)}:void 0);let L=W(()=>{var n,b;let x=(b=(n=t.getFirstKey)===null||n===void 0?void 0:n.call(t))!==null&&b!==void 0?b:null;x==null?(Me(r.current),e.collection.size>0&&(C.current=!1)):(e.setFocusedKey(x),C.current=!1)});ye(()=>{C.current&&L()},[e.collection,L]);let R=W(()=>{e.collection.size>0&&(C.current=!1)});ye(()=>{R()},[e.focusedKey,R]),V(r,br,g?n=>{var b;n.stopPropagation(),e.setFocused(!1),!((b=n.detail)===null||b===void 0)&&b.clearFocusKey&&e.setFocusedKey(null)}:void 0);const H=h.useRef(i),I=h.useRef(!1);h.useEffect(()=>{if(H.current){var n,b;let P=null;var x;i==="first"&&(P=(x=(n=t.getFirstKey)===null||n===void 0?void 0:n.call(t))!==null&&x!==void 0?x:null);var l;i==="last"&&(P=(l=(b=t.getLastKey)===null||b===void 0?void 0:b.call(t))!==null&&l!==void 0?l:null);let B=e.selectedKeys;if(B.size){for(let T of B)if(e.canSelectItem(T)){P=T;break}}e.setFocused(!0),e.setFocusedKey(P),P==null&&!g&&r.current&&fe(r.current),e.collection.size>0&&(H.current=!1,I.current=!0)}});let k=h.useRef(e.focusedKey);h.useEffect(()=>{if(e.isFocused&&e.focusedKey!=null&&(e.focusedKey!==k.current||I.current)&&d.current&&r.current){let n=$e(),b=X(r,e.focusedKey);if(!(b instanceof HTMLElement))return;(n==="keyboard"||I.current)&&(Fe(d.current,b),n!=="virtual"&&xe(b,{containingElement:r.current}))}!g&&e.isFocused&&e.focusedKey==null&&k.current!=null&&r.current&&fe(r.current),k.current=e.focusedKey,I.current=!1}),V(r,"react-aria-focus-scope-restore",n=>{n.preventDefault(),e.setFocused(!0)});let A={onKeyDown:D,onFocus:w,onBlur:F,onMouseDown(n){d.current===n.target&&n.preventDefault()}},{typeSelectProps:_}=Fr({keyboardDelegate:t,selectionManager:e});y||(A=U(_,A));let G;g||(G=e.focusedKey==null?0:-1);let ee=wr(e.collection);return{collectionProps:U(A,{tabIndex:G,"data-collection":ee})}}function ro(o){let{id:e,selectionManager:t,key:r,ref:i,shouldSelectOnPressUp:s,shouldUseVirtualFocus:u,focus:c,isDisabled:a,onAction:y,allowsDifferentPressOrigin:g,linkBehavior:m="action"}=o,v=Te();e=Q(e);let d=l=>{if(l.pointerType==="keyboard"&&ge(l))t.toggleSelection(r);else{if(t.selectionMode==="none")return;if(t.isLink(r)){if(m==="selection"&&i.current){let P=t.getItemProps(r);v.open(i.current,l,P.href,P.routerOptions),t.setSelectedKeys(t.selectedKeys);return}else if(m==="override"||m==="none")return}t.selectionMode==="single"?t.isSelected(r)&&!t.disallowEmptySelection?t.toggleSelection(r):t.replaceSelection(r):l&&l.shiftKey?t.extendSelection(r):t.selectionBehavior==="toggle"||l&&(z(l)||l.pointerType==="touch"||l.pointerType==="virtual")?t.toggleSelection(r):t.replaceSelection(r)}};h.useEffect(()=>{r===t.focusedKey&&t.isFocused&&(u?Me(i.current):c?c():document.activeElement!==i.current&&i.current&&fe(i.current))},[i,r,t.focusedKey,t.childFocusStrategy,t.isFocused,u]),a=a||t.isDisabled(r);let p={};!u&&!a?p={tabIndex:r===t.focusedKey?0:-1,onFocus(l){l.target===i.current&&t.setFocusedKey(r)}}:a&&(p.onMouseDown=l=>{l.preventDefault()});let $=t.isLink(r)&&m==="override",E=t.isLink(r)&&m!=="selection"&&m!=="none",D=!a&&t.canSelectItem(r)&&!$,K=(y||E)&&!a,w=K&&(t.selectionBehavior==="replace"?!D:!D||t.isEmpty),F=K&&D&&t.selectionBehavior==="replace",C=w||F,L=h.useRef(null),R=C&&D,H=h.useRef(!1),I=h.useRef(!1),k=l=>{if(y&&y(),E&&i.current){let P=t.getItemProps(r);v.open(i.current,l,P.href,P.routerOptions)}},A={};s?(A.onPressStart=l=>{L.current=l.pointerType,H.current=R,l.pointerType==="keyboard"&&(!C||Ee())&&d(l)},g?(A.onPressUp=w?void 0:l=>{l.pointerType==="mouse"&&D&&d(l)},A.onPress=w?k:l=>{l.pointerType!=="keyboard"&&l.pointerType!=="mouse"&&D&&d(l)}):A.onPress=l=>{if(w||F&&l.pointerType!=="mouse"){if(l.pointerType==="keyboard"&&!Pe())return;k(l)}else l.pointerType!=="keyboard"&&D&&d(l)}):(A.onPressStart=l=>{L.current=l.pointerType,H.current=R,I.current=w,D&&(l.pointerType==="mouse"&&!w||l.pointerType==="keyboard"&&(!K||Ee()))&&d(l)},A.onPress=l=>{(l.pointerType==="touch"||l.pointerType==="pen"||l.pointerType==="virtual"||l.pointerType==="keyboard"&&C&&Pe()||l.pointerType==="mouse"&&I.current)&&(C?k(l):D&&d(l))}),p["data-collection"]=Tr(t.collection),p["data-key"]=r,A.preventFocusOnPress=u,u&&(A=U(A,{onPressStart(l){l.pointerType!=="touch"&&(t.setFocused(!0),t.setFocusedKey(r))},onPress(l){l.pointerType==="touch"&&(t.setFocused(!0),t.setFocusedKey(r))}}));let{pressProps:_,isPressed:G}=we(A),ee=F?l=>{L.current==="mouse"&&(l.stopPropagation(),l.preventDefault(),k(l))}:void 0,{longPressProps:n}=ke({isDisabled:!R,onLongPress(l){l.pointerType==="touch"&&(d(l),t.setSelectionBehavior("toggle"))}}),b=l=>{L.current==="touch"&&H.current&&l.preventDefault()},x=t.isLink(r)?l=>{ar.isOpening||l.preventDefault()}:void 0;return{itemProps:U(p,D||w||u?_:{},R?n:{},{onDoubleClick:ee,onDragStartCapture:b,onClick:x,id:e},u?{onMouseDown:l=>l.preventDefault()}:void 0),isPressed:G,isSelected:t.isSelected(r),isFocused:t.isFocused&&t.focusedKey===r,isDisabled:a,allowsSelection:D,hasAction:C}}function Pe(){let o=window.event;return(o==null?void 0:o.key)==="Enter"}function Ee(){let o=window.event;return(o==null?void 0:o.key)===" "||(o==null?void 0:o.code)==="Space"}class Ke{getItemRect(e){let t=this.ref.current;if(!t)return null;let r=e!=null?X(this.ref,e):null;if(!r)return null;let i=t.getBoundingClientRect(),s=r.getBoundingClientRect();return{x:s.left-i.left+t.scrollLeft,y:s.top-i.top+t.scrollTop,width:s.width,height:s.height}}getContentSize(){let e=this.ref.current;var t,r;return{width:(t=e==null?void 0:e.scrollWidth)!==null&&t!==void 0?t:0,height:(r=e==null?void 0:e.scrollHeight)!==null&&r!==void 0?r:0}}getVisibleRect(){let e=this.ref.current;var t,r,i,s;return{x:(t=e==null?void 0:e.scrollLeft)!==null&&t!==void 0?t:0,y:(r=e==null?void 0:e.scrollTop)!==null&&r!==void 0?r:0,width:(i=e==null?void 0:e.offsetWidth)!==null&&i!==void 0?i:0,height:(s=e==null?void 0:e.offsetHeight)!==null&&s!==void 0?s:0}}constructor(e){this.ref=e}}class Lr{isDisabled(e){var t;return this.disabledBehavior==="all"&&(((t=e.props)===null||t===void 0?void 0:t.isDisabled)||this.disabledKeys.has(e.key))}findNextNonDisabled(e,t){let r=e;for(;r!=null;){let i=this.collection.getItem(r);if((i==null?void 0:i.type)==="item"&&!this.isDisabled(i))return r;r=t(r)}return null}getNextKey(e){let t=e;return t=this.collection.getKeyAfter(t),this.findNextNonDisabled(t,r=>this.collection.getKeyAfter(r))}getPreviousKey(e){let t=e;return t=this.collection.getKeyBefore(t),this.findNextNonDisabled(t,r=>this.collection.getKeyBefore(r))}findKey(e,t,r){let i=e,s=this.layoutDelegate.getItemRect(i);if(!s||i==null)return null;let u=s;do{if(i=t(i),i==null)break;s=this.layoutDelegate.getItemRect(i)}while(s&&r(u,s)&&i!=null);return i}isSameRow(e,t){return e.y===t.y||e.x!==t.x}isSameColumn(e,t){return e.x===t.x||e.y!==t.y}getKeyBelow(e){return this.layout==="grid"&&this.orientation==="vertical"?this.findKey(e,t=>this.getNextKey(t),this.isSameRow):this.getNextKey(e)}getKeyAbove(e){return this.layout==="grid"&&this.orientation==="vertical"?this.findKey(e,t=>this.getPreviousKey(t),this.isSameRow):this.getPreviousKey(e)}getNextColumn(e,t){return t?this.getPreviousKey(e):this.getNextKey(e)}getKeyRightOf(e){let t=this.direction==="ltr"?"getKeyRightOf":"getKeyLeftOf";return this.layoutDelegate[t]?(e=this.layoutDelegate[t](e),this.findNextNonDisabled(e,r=>this.layoutDelegate[t](r))):this.layout==="grid"?this.orientation==="vertical"?this.getNextColumn(e,this.direction==="rtl"):this.findKey(e,r=>this.getNextColumn(r,this.direction==="rtl"),this.isSameColumn):this.orientation==="horizontal"?this.getNextColumn(e,this.direction==="rtl"):null}getKeyLeftOf(e){let t=this.direction==="ltr"?"getKeyLeftOf":"getKeyRightOf";return this.layoutDelegate[t]?(e=this.layoutDelegate[t](e),this.findNextNonDisabled(e,r=>this.layoutDelegate[t](r))):this.layout==="grid"?this.orientation==="vertical"?this.getNextColumn(e,this.direction==="ltr"):this.findKey(e,r=>this.getNextColumn(r,this.direction==="ltr"),this.isSameColumn):this.orientation==="horizontal"?this.getNextColumn(e,this.direction==="ltr"):null}getFirstKey(){let e=this.collection.getFirstKey();return this.findNextNonDisabled(e,t=>this.collection.getKeyAfter(t))}getLastKey(){let e=this.collection.getLastKey();return this.findNextNonDisabled(e,t=>this.collection.getKeyBefore(t))}getKeyPageAbove(e){let t=this.ref.current,r=this.layoutDelegate.getItemRect(e);if(!r)return null;if(t&&!pe(t))return this.getFirstKey();let i=e;if(this.orientation==="horizontal"){let s=Math.max(0,r.x+r.width-this.layoutDelegate.getVisibleRect().width);for(;r&&r.x>s&&i!=null;)i=this.getKeyAbove(i),r=i==null?null:this.layoutDelegate.getItemRect(i)}else{let s=Math.max(0,r.y+r.height-this.layoutDelegate.getVisibleRect().height);for(;r&&r.y>s&&i!=null;)i=this.getKeyAbove(i),r=i==null?null:this.layoutDelegate.getItemRect(i)}return i??this.getFirstKey()}getKeyPageBelow(e){let t=this.ref.current,r=this.layoutDelegate.getItemRect(e);if(!r)return null;if(t&&!pe(t))return this.getLastKey();let i=e;if(this.orientation==="horizontal"){let s=Math.min(this.layoutDelegate.getContentSize().width,r.y-r.width+this.layoutDelegate.getVisibleRect().width);for(;r&&r.x<s&&i!=null;)i=this.getKeyBelow(i),r=i==null?null:this.layoutDelegate.getItemRect(i)}else{let s=Math.min(this.layoutDelegate.getContentSize().height,r.y-r.height+this.layoutDelegate.getVisibleRect().height);for(;r&&r.y<s&&i!=null;)i=this.getKeyBelow(i),r=i==null?null:this.layoutDelegate.getItemRect(i)}return i??this.getLastKey()}getKeyForSearch(e,t){if(!this.collator)return null;let r=this.collection,i=t||this.getFirstKey();for(;i!=null;){let s=r.getItem(i);if(!s)return null;let u=s.textValue.slice(0,e.length);if(s.textValue&&this.collator.compare(u,e)===0)return i;i=this.getNextKey(i)}return null}constructor(...e){if(e.length===1){let t=e[0];this.collection=t.collection,this.ref=t.ref,this.collator=t.collator,this.disabledKeys=t.disabledKeys||new Set,this.disabledBehavior=t.disabledBehavior||"all",this.orientation=t.orientation||"vertical",this.direction=t.direction,this.layout=t.layout||"stack",this.layoutDelegate=t.layoutDelegate||new Ke(t.ref)}else this.collection=e[0],this.disabledKeys=e[1],this.ref=e[2],this.collator=e[3],this.layout="stack",this.orientation="vertical",this.disabledBehavior="all",this.layoutDelegate=new Ke(this.ref);this.layout==="stack"&&this.orientation==="vertical"&&(this.getKeyLeftOf=void 0,this.getKeyRightOf=void 0)}}function oo(o){let{selectionManager:e,collection:t,disabledKeys:r,ref:i,keyboardDelegate:s,layoutDelegate:u}=o,c=Er({usage:"search",sensitivity:"base"}),a=e.disabledBehavior,y=h.useMemo(()=>s||new Lr({collection:t,disabledKeys:r,disabledBehavior:a,ref:i,collator:c,layoutDelegate:u}),[s,u,t,r,i,c,a]),{collectionProps:g}=Mr({...o,ref:i,selectionManager:e,keyboardDelegate:y});return{listProps:g}}function Qt(o){return null}Qt.getCollectionNode=function*(e,t){let{childItems:r,title:i,children:s}=e,u=e.title||e.children,c=e.textValue||(typeof u=="string"?u:"")||e["aria-label"]||"";!c&&!(t!=null&&t.suppressTextValueWarning)&&console.warn("<Item> with non-plain text contents is unsupported by type to select for accessibility. Please add a `textValue` prop."),yield{type:"item",props:e,rendered:u,textValue:c,"aria-label":e["aria-label"],hasChildNodes:Rr(e),*childNodes(){if(r)for(let a of r)yield{type:"item",value:a};else if(i){let a=[];j.Children.forEach(s,y=>{a.push({type:"item",element:y})}),yield*a}}}};function Rr(o){return o.hasChildItems!=null?o.hasChildItems:!!(o.childItems||o.title&&j.Children.count(o.children)>0)}let Ir=Qt;function _t(o){return null}_t.getCollectionNode=function*(e){let{children:t,title:r,items:i}=e;yield{type:"section",props:e,hasChildNodes:!0,rendered:r,"aria-label":e["aria-label"],*childNodes(){if(typeof t=="function"){if(!i)throw new Error("props.children was a function but props.items is missing");for(let s of i)yield{type:"item",value:s,renderer:t}}else{let s=[];j.Children.forEach(t,u=>{s.push({type:"item",element:u})}),yield*s}}}};let Or=_t;const Ce=new WeakMap;function io(o){let e=Ce.get(o);if(e!=null)return e;let t=0,r=i=>{for(let s of i)s.type==="section"?r(dr(s,o)):t++};return r(o),Ce.set(o,t),t}function so(o){let[e,t]=fr(o.isOpen,o.defaultOpen||!1,o.onOpenChange);const r=h.useCallback(()=>{t(!0)},[t]),i=h.useCallback(()=>{t(!1)},[t]),s=h.useCallback(()=>{t(!e)},[t,e]);return{isOpen:e,setOpen:t,open:r,close:i,toggle:s}}const lo=(o,e)=>({"aria-label":o,children:e.map(({id:t,menuItems:r,ariaLabel:i})=>he.jsx(Or,{title:t,"aria-label":i,children:r.map(s=>he.jsx(Ir,{children:s.title},s.id))},t))}),no=o=>o.flatMap(({menuItems:e})=>e),uo=o=>o.reduce((e,t)=>({...e,[t.id]:t}),{}),ao=o=>new Set(o.reduce((e,t)=>[...e,t.disabled?t.id:""],[]).filter(e=>e!=="").map(e=>e.toString()));export{Er as $,Lr as a,to as b,Fr as c,so as d,oo as e,io as f,ro as g,Qr as h,no as i,uo as j,ao as k,_r as l,lo as m,eo as n};
