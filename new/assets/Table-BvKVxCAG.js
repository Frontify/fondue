import{j as n}from"./jsx-runtime-BYYWji4R.js";import{r as f}from"./index-ClcD9ViR.js";import{q as j,s as E,t as k}from"./fondue-icons352-BBEDZbgo.js";import{u as C}from"./useSyncRefs-DL7P6UVA.js";import{B as q}from"./Box-CxPEdJq1.js";import{L as V}from"./LoadingCircle-BOPZyYIZ.js";const N=e=>{f.useEffect(()=>{if(!e.current)return;const a=e.current,t=new ResizeObserver(()=>{const l=a.scrollWidth>a.clientWidth;a.title=l&&a.textContent||""});return t.observe(a),()=>t.disconnect()},[e])},S="_table_n4gw5_4",H="_headerCell_n4gw5_18",A="_rowCell_n4gw5_19",L="_caption_n4gw5_61",z="_header_n4gw5_18",B="_cellContent_n4gw5_93",M="_sortIndicator_n4gw5_118",K="_body_n4gw5_122",O="_row_n4gw5_19",$="_buttonText_n4gw5_186",d={table:S,headerCell:H,rowCell:A,caption:L,header:z,cellContent:B,sortIndicator:M,body:K,row:O,buttonText:$};function D(e,a){const t='tr[tabindex="0"]',l=e.closest("table");if(!l)return null;const s=Array.from(l.querySelectorAll(t)),r=s.indexOf(e)+(a==="ArrowUp"?-1:1);return r>=0&&r<s.length?s[r]:null}function U(e){const a=e.target,t=a.closest("tr");if(!t||a!==t||!["ArrowUp","ArrowDown"].includes(e.key))return;const l=D(t,e.key);l&&(e.preventDefault(),l.focus())}const W=[HTMLButtonElement,HTMLAnchorElement],F=["button","link"];function G(e){if(!e)return!1;const{target:a,currentTarget:t}=e;let l=a instanceof Element?a:null;if(!t.contains(l))return!0;for(;l&&!(l instanceof HTMLTableRowElement);){if(W.some(o=>l instanceof o))return!0;const s=l.getAttribute("role");if(s&&F.includes(s))return!0;l=l.parentElement}return!1}const y=f.forwardRef(({layout:e="auto",fontSize:a="medium",sticky:t,children:l,...s},o)=>{const r=t==="head"||t==="both",c=t==="col"||t==="both";return n.jsx("table",{ref:o,className:d.table,"data-layout":e,"data-font-size":a,"data-sticky-header":r,"data-sticky-left-column":c,onKeyDown:U,...s,children:l})});y.displayName="Table.Root";const w=f.forwardRef(({children:e},a)=>n.jsx("caption",{ref:a,className:d.caption,children:e}));w.displayName="Table.Caption";const _=f.forwardRef(({sticky:e=!1,children:a,"aria-label":t,"aria-busy":l},s)=>n.jsx("thead",{ref:s,className:d.header,"data-sticky":e,"aria-label":t,"aria-busy":l,children:a}));_.displayName="Table.Header";const g=f.forwardRef(({noShrink:e=!1,truncate:a=!1,align:t="left",scope:l="col",sortTranslations:s,sortDirection:o,colSpan:r,width:c,state:m="idle",loadingStateAriaLabel:p,onSortChange:i,children:u},h)=>{const b=f.useRef(null);C(b,h),N(b);const v=f.useMemo(()=>typeof u=="string"?o==="ascending"?(s==null?void 0:s.sortDescending)??`Sort by ${u} descending`:(s==null?void 0:s.sortAscending)??`Sort by ${u} ascending`:o==="ascending"?"Sort descending":"Sort ascending",[u,o,s]),I=()=>{if(!i)return;i(o===void 0||o==="descending"?"ascending":"descending")};return n.jsx("th",{ref:b,style:{width:c},className:d.headerCell,scope:l,colSpan:r,"data-align":t,"data-truncate":a,"data-no-shrink":e,"data-sortable":!!i,"aria-sort":i?o||"none":void 0,children:m==="loading"?n.jsxs("div",{className:d.cellContent,"aria-live":"polite","aria-label":p,children:[typeof u=="string"&&a?n.jsx("span",{className:d.buttonText,children:u}):u,n.jsx(V,{"data-test-id":"fondue-loading-circle",size:"xx-small"})]}):i?n.jsxs("button",{className:d.cellContent,"aria-label":v,"data-active":!!o,onClick:I,type:"button",children:[typeof u=="string"&&a?n.jsx("span",{className:d.buttonText,children:u}):u,n.jsx(q,{width:3,children:o==="ascending"?n.jsx(j,{size:"12"}):o==="descending"?n.jsx(E,{size:"12"}):n.jsx(k,{className:d.sortIndicator,size:"12"})})]}):u})});g.displayName="Table.HeaderCell";const x=f.forwardRef(({firstColumnSticky:e=!1,lastColumnSticky:a=!1,children:t,"aria-busy":l},s)=>n.jsx("tbody",{ref:s,className:d.body,"data-first-column-sticky":e,"data-last-column-sticky":a,"aria-busy":l,children:t}));x.displayName="Table.Body";const R=f.forwardRef(({disabled:e=!1,selected:a=!1,onClick:t,children:l,"aria-label":s,"data-test-id":o},r)=>{const c=t!==void 0&&!e,m=i=>{e||G(i)||t&&t(a)},p=i=>{c&&(i.key==="Enter"||i.key===" ")&&(i.preventDefault(),m())};return n.jsx("tr",{ref:r,className:d.row,tabIndex:0,role:c?"button":"row","data-disabled":e,"data-interactive":c,"data-selected":c?void 0:a,"aria-disabled":e,"aria-label":s,"aria-selected":c?void 0:a,onClick:c?m:void 0,onKeyDown:c?p:void 0,"data-test-id":o,children:l})});R.displayName="Table.Row";const T=f.forwardRef(({colSpan:e,truncate:a,align:t="left",children:l,"aria-label":s},o)=>{const r=f.useRef(null);return C(r,o),N(r),n.jsx("td",{ref:r,className:d.rowCell,colSpan:e,"data-align":t,"data-truncate":a,"aria-label":s,children:l})});T.displayName="Table.RowCell";const ae={Root:y,Caption:w,Header:_,HeaderCell:g,Body:x,Row:R,RowCell:T};y.__docgenInfo={description:"",methods:[],displayName:"Table.Root",props:{layout:{defaultValue:{value:"'auto'",computed:!1},required:!1},fontSize:{defaultValue:{value:"'medium'",computed:!1},required:!1}}};w.__docgenInfo={description:"",methods:[],displayName:"Table.Caption"};_.__docgenInfo={description:"",methods:[],displayName:"Table.Header",props:{sticky:{defaultValue:{value:"false",computed:!1},required:!1}}};g.__docgenInfo={description:"",methods:[],displayName:"Table.HeaderCell",props:{noShrink:{defaultValue:{value:"false",computed:!1},required:!1},truncate:{defaultValue:{value:"false",computed:!1},required:!1},align:{defaultValue:{value:"'left'",computed:!1},required:!1},scope:{defaultValue:{value:"'col'",computed:!1},required:!1},state:{defaultValue:{value:"'idle'",computed:!1},required:!1}}};x.__docgenInfo={description:"",methods:[],displayName:"Table.Body",props:{firstColumnSticky:{defaultValue:{value:"false",computed:!1},required:!1},lastColumnSticky:{defaultValue:{value:"false",computed:!1},required:!1}}};R.__docgenInfo={description:"",methods:[],displayName:"Table.Row",props:{disabled:{defaultValue:{value:"false",computed:!1},required:!1},selected:{defaultValue:{value:"false",computed:!1},required:!1}}};T.__docgenInfo={description:"",methods:[],displayName:"Table.RowCell",props:{align:{defaultValue:{value:"'left'",computed:!1},required:!1}}};export{T,R as a,x as b,g as c,_ as d,y as e,ae as f};
