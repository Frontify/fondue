import{j as n}from"./jsx-runtime-BYYWji4R.js";import{r as u}from"./index-ClcD9ViR.js";import{q as j,s as E,t as q}from"./fondue-icons351-BwRByKtE.js";import{u as v}from"./useSyncRefs-DL7P6UVA.js";import{B as V}from"./Box-DbLh-rE3.js";import{L as A}from"./LoadingCircle-BOPZyYIZ.js";const N=e=>{u.useEffect(()=>{if(!e.current)return;const a=e.current,l=new ResizeObserver(()=>{const t=a.scrollWidth>a.clientWidth;a.title=t&&a.textContent||""});return l.observe(a),()=>l.disconnect()},[e])},H="_table_1outv_4",k="_headerCell_1outv_18",L="_rowCell_1outv_19",S="_caption_1outv_46",z="_cellContent_1outv_71",B="_sortIndicator_1outv_96",M="_body_1outv_100",K="_row_1outv_19",O="_buttonText_1outv_164",r={table:H,headerCell:k,rowCell:L,caption:S,cellContent:z,sortIndicator:B,body:M,row:K,buttonText:O};function $(e,a){const l='tr[tabindex="0"]',t=e.closest("table");if(!t)return null;const o=Array.from(t.querySelectorAll(l)),d=o.indexOf(e)+(a==="ArrowUp"?-1:1);return d>=0&&d<o.length?o[d]:null}function D(e){const a=e.target,l=a.closest("tr");if(!l||a!==l||!["ArrowUp","ArrowDown"].includes(e.key))return;const t=$(l,e.key);t&&(e.preventDefault(),t.focus())}const U=[HTMLButtonElement,HTMLAnchorElement],W=["button","link"];function F(e){if(!e)return!1;const{target:a,currentTarget:l}=e;let t=a instanceof Element?a:null;if(!l.contains(t))return!0;for(;t&&!(t instanceof HTMLTableRowElement);){if(U.some(s=>t instanceof s))return!0;const o=t.getAttribute("role");if(o&&W.includes(o))return!0;t=t.parentElement}return!1}const y=u.forwardRef(({layout:e="auto",fontSize:a="medium",sticky:l,children:t,...o},s)=>n.jsx("table",{ref:s,className:r.table,"data-layout":e,"data-font-size":a,"data-sticky":l,onKeyDown:D,...o,children:t}));y.displayName="Table.Root";const _=u.forwardRef(({children:e},a)=>n.jsx("caption",{ref:a,className:r.caption,children:e}));_.displayName="Table.Caption";const w=u.forwardRef(({children:e,"aria-label":a,"aria-busy":l},t)=>n.jsx("thead",{ref:t,className:r.header,"aria-label":a,"aria-busy":l,children:e}));w.displayName="Table.Header";const x=u.forwardRef(({noShrink:e=!1,truncate:a=!1,align:l="left",scope:t="col",sortTranslations:o,sortDirection:s,colSpan:d,width:f,state:m="idle",loadingStateAriaLabel:p,onSortChange:i,children:c},C)=>{const b=u.useRef(null);v(b,C),N(b);const I=u.useMemo(()=>typeof c=="string"?s==="ascending"?(o==null?void 0:o.sortDescending)??`Sort by ${c} descending`:(o==null?void 0:o.sortAscending)??`Sort by ${c} ascending`:s==="ascending"?"Sort descending":"Sort ascending",[c,s,o]),h=()=>{if(!i)return;i(s===void 0||s==="descending"?"ascending":"descending")};return n.jsx("th",{ref:b,style:{width:f},className:r.headerCell,scope:t,colSpan:d,"data-align":l,"data-truncate":a,"data-no-shrink":e,"data-sortable":!!i,"aria-sort":i?s||"none":void 0,children:m==="loading"?n.jsxs("div",{className:r.cellContent,"aria-live":"polite","aria-label":p,children:[typeof c=="string"&&a?n.jsx("span",{className:r.buttonText,children:c}):c,n.jsx(A,{"data-test-id":"fondue-loading-circle",size:"xx-small"})]}):i?n.jsxs("button",{className:r.cellContent,"aria-label":I,"data-active":!!s,onClick:h,type:"button",children:[typeof c=="string"&&a?n.jsx("span",{className:r.buttonText,children:c}):c,n.jsx(V,{width:3,children:s==="ascending"?n.jsx(j,{size:"12"}):s==="descending"?n.jsx(E,{size:"12"}):n.jsx(q,{className:r.sortIndicator,size:"12"})})]}):c})});x.displayName="Table.HeaderCell";const g=u.forwardRef(({children:e,"aria-busy":a},l)=>n.jsx("tbody",{ref:l,className:r.body,"aria-busy":a,children:e}));g.displayName="Table.Body";const R=u.forwardRef(({disabled:e=!1,selected:a=!1,onClick:l,children:t,"aria-label":o,"data-test-id":s},d)=>{const f=l!==void 0&&!e,m=i=>{e||F(i)||l&&l(a)},p=i=>{f&&(i.key==="Enter"||i.key===" ")&&(i.preventDefault(),m())};return n.jsx("tr",{ref:d,className:r.row,tabIndex:0,role:f?"button":"row","data-disabled":e,"data-interactive":f,"data-selected":f?void 0:a,"aria-disabled":e,"aria-label":o,"aria-selected":f?void 0:a,onClick:f?m:void 0,onKeyDown:f?p:void 0,"data-test-id":s,children:t})});R.displayName="Table.Row";const T=u.forwardRef(({colSpan:e,truncate:a,align:l="left",children:t,"aria-label":o},s)=>{const d=u.useRef(null);return v(d,s),N(d),n.jsx("td",{ref:d,className:r.rowCell,colSpan:e,"data-align":l,"data-truncate":a,"aria-label":o,children:t})});T.displayName="Table.RowCell";const ee={Root:y,Caption:_,Header:w,HeaderCell:x,Body:g,Row:R,RowCell:T};y.__docgenInfo={description:"",methods:[],displayName:"Table.Root",props:{layout:{defaultValue:{value:"'auto'",computed:!1},required:!1},fontSize:{defaultValue:{value:"'medium'",computed:!1},required:!1}}};_.__docgenInfo={description:"",methods:[],displayName:"Table.Caption"};w.__docgenInfo={description:"",methods:[],displayName:"Table.Header"};x.__docgenInfo={description:"",methods:[],displayName:"Table.HeaderCell",props:{noShrink:{defaultValue:{value:"false",computed:!1},required:!1},truncate:{defaultValue:{value:"false",computed:!1},required:!1},align:{defaultValue:{value:"'left'",computed:!1},required:!1},scope:{defaultValue:{value:"'col'",computed:!1},required:!1},state:{defaultValue:{value:"'idle'",computed:!1},required:!1}}};g.__docgenInfo={description:"",methods:[],displayName:"Table.Body"};R.__docgenInfo={description:"",methods:[],displayName:"Table.Row",props:{disabled:{defaultValue:{value:"false",computed:!1},required:!1},selected:{defaultValue:{value:"false",computed:!1},required:!1}}};T.__docgenInfo={description:"",methods:[],displayName:"Table.RowCell",props:{align:{defaultValue:{value:"'left'",computed:!1},required:!1}}};export{T,R as a,g as b,x as c,w as d,y as e,ee as f};
