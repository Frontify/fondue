/* (c) Copyright Frontify Ltd., all rights reserved. */

@mixin variant($name, $color) {
    &[data-status=#{$name}] {
        background-color: var($color);
    }
}

.root {
    border-radius: 9999px;
    width: 0.5rem;
    height: 0.5rem;
    margin-block: 0.25rem;
    flex-shrink: 0;
    flex-grow: 0;
    background-color: var(--status-color);

    @include variant(default, --color-primary-default);
    @include variant(positive, --color-success-default);
    @include variant(highlight, -color-highlight-default);
    @include variant(warning, --color-warning-default);
    @include variant(negative, --color-error-default);
}

/**
 * High Contrast Mode Support
 *
 * Ensures the status dot is visible in Windows High Contrast Mode
 * and uses different system colors to maintain status distinction.
 */
@media (forced-colors: active) {
    .root {
        forced-color-adjust: none;
        border: 2px solid currentColor;

        // Use different system colors for different status types
        &[data-status="default"] {
            background-color: CanvasText !important;
        }

        &[data-status="positive"] {
            background-color: LinkText !important;
        }

        &[data-status="highlight"] {
            background-color: Highlight !important;
        }

        &[data-status="warning"] {
            background-color: CanvasText !important;
            border-style: dashed;
        }

        &[data-status="negative"] {
            background-color: CanvasText !important;
            border-width: 3px;
        }

        // For custom colors, use currentColor as fallback
        &:not([data-status]) {
            background-color: currentColor !important;
        }
    }
}
